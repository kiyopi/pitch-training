import{S as Je,i as Ke,s as Ze,d as U,n as Re,a as Qe,D as je,b as g,G as T,z as h,f as Q,g as c,h as m,j as p,k as C,m as q,o as _,p as M,Z as bt,e as ne,O as Ee,A as J,l as O,t as G,q as ce,r as se,u as oe,w as ae,F as yt,x as ie,y as ue,L as wt,M as Et,B as pe,C as _e,J as qe,K as $e}from"../chunks/Dujr-1LT.js";import{g as et}from"../chunks/D0QH3NT1.js";import"../chunks/B_rl9Jj9.js";import{P as tt,B as Me,C as he}from"../chunks/BlOhcc-l.js";const{console:Ct}=et,Se="src/lib/components/VolumeBar.svelte";function ze(l){let e,t,i,u,n,s;const o={c:function(){e=_("div"),t=_("div"),i=_("div"),u=M(),n=_("div"),this.h()},l:function(f){e=p(f,"DIV",{class:!0});var a=C(e);t=p(a,"DIV",{class:!0,style:!0});var v=C(t);i=p(v,"DIV",{class:!0,style:!0}),C(i).forEach(g),v.forEach(g),u=q(a),n=p(a,"DIV",{class:!0,style:!0}),C(n).forEach(g),a.forEach(g),this.h()},h:function(){h(i,"class","volume-bar-fill"),T(i,"position","absolute"),T(i,"top","0"),T(i,"left","0"),T(i,"height","100%"),m(i,Se,52,4,1646),h(t,"class","volume-bar-bg"),T(t,"height",l[1]),T(t,"border-radius","9999px"),T(t,"background-color","#e2e8f0"),T(t,"position","relative"),T(t,"overflow","hidden"),m(t,Se,51,2,1500),h(n,"class","threshold-indicator svelte-13z7ppf"),T(n,"position","absolute"),T(n,"top","0"),T(n,"left",l[0]+"%"),T(n,"width","2px"),T(n,"height",l[1]),T(n,"background-color","#64748b"),T(n,"border-radius","1px"),m(n,Se,60,2,1825),h(e,"class",s="volume-bar-container "+l[2]+" svelte-13z7ppf"),m(e,Se,50,0,1451)},m:function(f,a){Q(f,e,a),c(e,t),c(t,i),l[5](i),c(e,u),c(e,n)},p:function(f,[a]){a&2&&T(t,"height",f[1]),a&1&&T(n,"left",f[0]+"%"),a&2&&T(n,"height",f[1]),a&4&&s!==(s="volume-bar-container "+f[2]+" svelte-13z7ppf")&&h(e,"class",s)},i:Re,o:Re,d:function(f){f&&g(e),l[5](null)}};return U("SvelteRegisterBlock",{block:o,id:ze.name,type:"component",source:"",ctx:l}),o}function Dt(l,e,t){let{$$slots:i={},$$scope:u}=e;Qe("VolumeBar",i,[]);let{volume:n=0}=e,{threshold:s=30}=e,{height:o="12px"}=e,{className:d=""}=e,f;function a(r){return r<s?"#94a3b8":r<60?"#10b981":r<80?"#f59e0b":"#ef4444"}function v(r){if(f){const E=Math.max(0,Math.min(100,r)),B=a(E);(!window.volumeBarLastUpdate||Math.abs(window.volumeBarLastUpdate-E)>10)&&(console.log("VolumeBar更新:",E.toFixed(1),"%","color:",B),window.volumeBarLastUpdate=E),t(3,f.style.width=`${E}%`,f),t(3,f.style.backgroundColor=B,f)}}je(()=>{f&&(t(3,f.style.width="0%",f),t(3,f.style.backgroundColor="#94a3b8",f),t(3,f.style.height=o,f),t(3,f.style.borderRadius="9999px",f),t(3,f.style.transition="all 0.1s ease-out",f))});const y=["volume","threshold","height","className"];Object.keys(e).forEach(r=>{!~y.indexOf(r)&&r.slice(0,2)!=="$$"&&r!=="slot"&&Ct.warn(`<VolumeBar> was created with unknown prop '${r}'`)});function k(r){bt[r?"unshift":"push"](()=>{f=r,t(3,f)})}return l.$$set=r=>{"volume"in r&&t(4,n=r.volume),"threshold"in r&&t(0,s=r.threshold),"height"in r&&t(1,o=r.height),"className"in r&&t(2,d=r.className)},l.$capture_state=()=>({onMount:je,volume:n,threshold:s,height:o,className:d,barElement:f,getVolumeColor:a,updateVolumeBar:v}),l.$inject_state=r=>{"volume"in r&&t(4,n=r.volume),"threshold"in r&&t(0,s=r.threshold),"height"in r&&t(1,o=r.height),"className"in r&&t(2,d=r.className),"barElement"in r&&t(3,f=r.barElement)},e&&"$$inject"in e&&l.$inject_state(e.$$inject),l.$$.update=()=>{l.$$.dirty&16&&v(n)},[s,o,d,f,n,k]}class nt extends Je{constructor(e){super(e),Ke(this,e,Dt,ze,Ze,{volume:4,threshold:0,height:1,className:2}),U("SvelteRegisterComponent",{component:this,tagName:"VolumeBar",options:e,id:ze.name})}get volume(){throw new Error("<VolumeBar>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set volume(e){throw new Error("<VolumeBar>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get threshold(){throw new Error("<VolumeBar>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set threshold(e){throw new Error("<VolumeBar>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get height(){throw new Error("<VolumeBar>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set height(e){throw new Error("<VolumeBar>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get className(){throw new Error("<VolumeBar>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set className(e){throw new Error("<VolumeBar>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const $="src/lib/components/PitchDisplay.svelte";function He(l){let e,t,i="精度",u,n,s,o,d,f,a,v=Oe(l[3])+"",y,k,r,E=l[3]>0?"+":"",B,P=l[3].toFixed(1)+"",N,I;const K={c:function(){e=_("div"),t=_("div"),t.textContent=i,u=M(),n=_("div"),s=_("div"),o=M(),d=_("div"),f=M(),a=_("div"),y=G(v),k=M(),r=_("div"),B=G(E),N=G(P),I=G("%"),this.h()},l:function(V){e=p(V,"DIV",{class:!0});var D=C(e);t=p(D,"DIV",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-4oi8f7"&&(t.textContent=i),u=q(D),n=p(D,"DIV",{class:!0});var b=C(n);s=p(b,"DIV",{class:!0,style:!0}),C(s).forEach(g),o=q(b),d=p(b,"DIV",{class:!0}),C(d).forEach(g),b.forEach(g),f=q(D),a=p(D,"DIV",{class:!0,style:!0});var R=C(a);y=O(R,v),R.forEach(g),k=q(D),r=p(D,"DIV",{class:!0});var A=C(r);B=O(A,E),N=O(A,P),I=O(A,"%"),A.forEach(g),D.forEach(g),this.h()},h:function(){h(t,"class","label svelte-17lpbmi"),m(t,$,70,6,1917),h(s,"class","accuracy-bar svelte-17lpbmi"),T(s,"background-color",Ce(l[3])),T(s,"width",Math.abs(l[3])+"%"),m(s,$,72,8,1996),h(d,"class","accuracy-center svelte-17lpbmi"),m(d,$,73,8,2122),h(n,"class","accuracy-bar-container svelte-17lpbmi"),m(n,$,71,6,1951),h(a,"class","accuracy-text svelte-17lpbmi"),T(a,"color",Ce(l[3])),m(a,$,75,6,2177),h(r,"class","accuracy-value svelte-17lpbmi"),m(r,$,78,6,2307),h(e,"class","accuracy-display svelte-17lpbmi"),m(e,$,69,4,1880)},m:function(V,D){Q(V,e,D),c(e,t),c(e,u),c(e,n),c(n,s),c(n,o),c(n,d),c(e,f),c(e,a),c(a,y),c(e,k),c(e,r),c(r,B),c(r,N),c(r,I)},p:function(V,D){D&8&&T(s,"background-color",Ce(V[3])),D&8&&T(s,"width",Math.abs(V[3])+"%"),D&8&&v!==(v=Oe(V[3])+"")&&ne(y,v),D&8&&T(a,"color",Ce(V[3])),D&8&&E!==(E=V[3]>0?"+":"")&&ne(B,E),D&8&&P!==(P=V[3].toFixed(1)+"")&&ne(N,P)},d:function(V){V&&g(e)}};return U("SvelteRegisterBlock",{block:K,id:He.name,type:"if",source:"(69:2) {#if isDetecting && currentNote}",ctx:l}),K}function Fe(l){let e,t,i,u="目標音程",n,s,o=l[6](l[1])+"",d,f,a,v,y="現在の音程",k,r,E=(l[4]&&l[6](l[2])||"---")+"",B,P,N,I,K="周波数",z,V,D=Ge(l[0])+"",b,R,A,j=l[4]&&l[2]&&He(l);const X={c:function(){e=_("div"),t=_("div"),i=_("div"),i.textContent=u,n=M(),s=_("div"),d=G(o),f=M(),a=_("div"),v=_("div"),v.textContent=y,k=M(),r=_("div"),B=G(E),P=M(),N=_("div"),I=_("div"),I.textContent=K,z=M(),V=_("div"),b=G(D),R=M(),j&&j.c(),this.h()},l:function(S){e=p(S,"DIV",{class:!0});var L=C(e);t=p(L,"DIV",{class:!0});var Z=C(t);i=p(Z,"DIV",{class:!0,"data-svelte-h":!0}),J(i)!=="svelte-101q5wq"&&(i.textContent=u),n=q(Z),s=p(Z,"DIV",{class:!0});var H=C(s);d=O(H,o),H.forEach(g),Z.forEach(g),f=q(L),a=p(L,"DIV",{class:!0});var F=C(a);v=p(F,"DIV",{class:!0,"data-svelte-h":!0}),J(v)!=="svelte-1p184h3"&&(v.textContent=y),k=q(F),r=p(F,"DIV",{class:!0});var x=C(r);B=O(x,E),x.forEach(g),F.forEach(g),P=q(L),N=p(L,"DIV",{class:!0});var ee=C(N);I=p(ee,"DIV",{class:!0,"data-svelte-h":!0}),J(I)!=="svelte-1iigar3"&&(I.textContent=K),z=q(ee),V=p(ee,"DIV",{class:!0});var W=C(V);b=O(W,D),W.forEach(g),ee.forEach(g),R=q(L),j&&j.l(L),L.forEach(g),this.h()},h:function(){h(i,"class","label svelte-17lpbmi"),m(i,$,49,4,1306),h(s,"class","note-name target svelte-17lpbmi"),m(s,$,50,4,1340),h(t,"class","target-note svelte-17lpbmi"),m(t,$,48,2,1276),h(v,"class","label svelte-17lpbmi"),m(v,$,55,4,1469),h(r,"class","note-name current svelte-17lpbmi"),Ee(r,"detecting",l[4]),m(r,$,56,4,1504),h(a,"class","current-note svelte-17lpbmi"),m(a,$,54,2,1438),h(I,"class","label svelte-17lpbmi"),m(I,$,63,4,1711),h(V,"class","frequency-value svelte-17lpbmi"),m(V,$,64,4,1744),h(N,"class","frequency-display svelte-17lpbmi"),m(N,$,62,2,1675),h(e,"class",A="pitch-display "+l[5]+" svelte-17lpbmi"),m(e,$,46,0,1216)},m:function(S,L){Q(S,e,L),c(e,t),c(t,i),c(t,n),c(t,s),c(s,d),c(e,f),c(e,a),c(a,v),c(a,k),c(a,r),c(r,B),c(e,P),c(e,N),c(N,I),c(N,z),c(N,V),c(V,b),c(e,R),j&&j.m(e,null)},p:function(S,[L]){L&2&&o!==(o=S[6](S[1])+"")&&ne(d,o),L&20&&E!==(E=(S[4]&&S[6](S[2])||"---")+"")&&ne(B,E),L&16&&Ee(r,"detecting",S[4]),L&1&&D!==(D=Ge(S[0])+"")&&ne(b,D),S[4]&&S[2]?j?j.p(S,L):(j=He(S),j.c(),j.m(e,null)):j&&(j.d(1),j=null),L&32&&A!==(A="pitch-display "+S[5]+" svelte-17lpbmi")&&h(e,"class",A)},i:Re,o:Re,d:function(S){S&&g(e),j&&j.d()}};return U("SvelteRegisterBlock",{block:X,id:Fe.name,type:"component",source:"",ctx:l}),X}function Ce(l){const e=Math.abs(l);return e<=10?"#10b981":e<=25?"#f59e0b":"#ef4444"}function Oe(l){const e=Math.abs(l);return e<=10?"素晴らしい！":e<=25?"もう少し！":"調整が必要"}function Ge(l){return l>0?`${l.toFixed(1)} Hz`:"--.- Hz"}function kt(l,e,t){let{$$slots:i={},$$scope:u}=e;Qe("PitchDisplay",i,[]);let{frequency:n=0}=e,{targetNote:s="C"}=e,{currentNote:o=""}=e,{accuracy:d=0}=e,{isDetecting:f=!1}=e,{className:a=""}=e;const v={C:"ド","C#":"ド#",Db:"レ♭",D:"レ","D#":"レ#",Eb:"ミ♭",E:"ミ",F:"ファ","F#":"ファ#",Gb:"ソ♭",G:"ソ","G#":"ソ#",Ab:"ラ♭",A:"ラ","A#":"ラ#",Bb:"シ♭",B:"シ"};function y(r){return v[r]||r}const k=["frequency","targetNote","currentNote","accuracy","isDetecting","className"];return Object.keys(e).forEach(r=>{!~k.indexOf(r)&&r.slice(0,2)!=="$$"&&r!=="slot"&&console.warn(`<PitchDisplay> was created with unknown prop '${r}'`)}),l.$$set=r=>{"frequency"in r&&t(0,n=r.frequency),"targetNote"in r&&t(1,s=r.targetNote),"currentNote"in r&&t(2,o=r.currentNote),"accuracy"in r&&t(3,d=r.accuracy),"isDetecting"in r&&t(4,f=r.isDetecting),"className"in r&&t(5,a=r.className)},l.$capture_state=()=>({frequency:n,targetNote:s,currentNote:o,accuracy:d,isDetecting:f,className:a,noteNames:v,getAccuracyColor:Ce,getAccuracyMessage:Oe,formatFrequency:Ge,formatNoteName:y}),l.$inject_state=r=>{"frequency"in r&&t(0,n=r.frequency),"targetNote"in r&&t(1,s=r.targetNote),"currentNote"in r&&t(2,o=r.currentNote),"accuracy"in r&&t(3,d=r.accuracy),"isDetecting"in r&&t(4,f=r.isDetecting),"className"in r&&t(5,a=r.className)},e&&"$$inject"in e&&l.$inject_state(e.$$inject),[n,s,o,d,f,a,y]}class st extends Je{constructor(e){super(e),Ke(this,e,kt,Fe,Ze,{frequency:0,targetNote:1,currentNote:2,accuracy:3,isDetecting:4,className:5}),U("SvelteRegisterComponent",{component:this,tagName:"PitchDisplay",options:e,id:Fe.name})}get frequency(){throw new Error("<PitchDisplay>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set frequency(e){throw new Error("<PitchDisplay>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get targetNote(){throw new Error("<PitchDisplay>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set targetNote(e){throw new Error("<PitchDisplay>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get currentNote(){throw new Error("<PitchDisplay>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set currentNote(e){throw new Error("<PitchDisplay>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get accuracy(){throw new Error("<PitchDisplay>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set accuracy(e){throw new Error("<PitchDisplay>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get isDetecting(){throw new Error("<PitchDisplay>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set isDetecting(e){throw new Error("<PitchDisplay>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get className(){throw new Error("<PitchDisplay>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set className(e){throw new Error("<PitchDisplay>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{console:Vt}=et,w="src/routes/training/random/+page.svelte";function Ye(l,e,t){const i=l.slice();return i[18]=e[t],i[20]=t,i}function xe(l,e,t){const i=l.slice();return i[18]=e[t],i[20]=t,i}function ot(l){let e,t,i;t=new he({props:{variant:"default",padding:"lg",$$slots:{default:[ut]},$$scope:{ctx:l}},$$inline:!0});const u={c:function(){e=_("div"),ue(t.$$.fragment),this.h()},l:function(s){e=p(s,"DIV",{class:!0});var o=C(e);ie(t.$$.fragment,o),o.forEach(g),this.h()},h:function(){h(e,"class","results-screen"),m(e,w,248,6,7670)},m:function(s,o){Q(s,e,o),ae(t,e,null),i=!0},p:function(s,o){const d={};o&4195331&&(d.$$scope={dirty:o,ctx:s}),t.$set(d)},i:function(s){i||(oe(t.$$.fragment,s),i=!0)},o:function(s){se(t.$$.fragment,s),i=!1},d:function(s){s&&g(e),ce(t)}};return U("SvelteRegisterBlock",{block:u,id:ot.name,type:"if",source:"(247:26) ",ctx:l}),u}function lt(l){let e,t,i,u,n,s,o,d,f,a,v;t=new he({props:{variant:"default",padding:"lg",$$slots:{default:[ft]},$$scope:{ctx:l}},$$inline:!0}),s=new he({props:{variant:"default",padding:"md",$$slots:{default:[dt]},$$scope:{ctx:l}},$$inline:!0}),d=new he({props:{variant:"default",padding:"md",$$slots:{default:[ht]},$$scope:{ctx:l}},$$inline:!0}),a=new he({props:{variant:"default",padding:"md",$$slots:{default:[vt]},$$scope:{ctx:l}},$$inline:!0});const y={c:function(){e=_("div"),ue(t.$$.fragment),i=M(),u=_("div"),n=_("div"),ue(s.$$.fragment),o=M(),ue(d.$$.fragment),f=M(),ue(a.$$.fragment),this.h()},l:function(r){e=p(r,"DIV",{class:!0});var E=C(e);ie(t.$$.fragment,E),i=q(E),u=p(E,"DIV",{class:!0});var B=C(u);n=p(B,"DIV",{class:!0});var P=C(n);ie(s.$$.fragment,P),o=q(P),ie(d.$$.fragment,P),P.forEach(g),B.forEach(g),f=q(E),ie(a.$$.fragment,E),E.forEach(g),this.h()},h:function(){h(n,"class","display-grid svelte-95o5rd"),m(n,w,213,10,6497),h(u,"class","realtime-display svelte-95o5rd"),m(u,w,212,8,6456),h(e,"class","detection-screen"),m(e,w,191,6,5583)},m:function(r,E){Q(r,e,E),ae(t,e,null),c(e,i),c(e,u),c(u,n),ae(s,n,null),c(n,o),ae(d,n,null),c(e,f),ae(a,e,null),v=!0},p:function(r,E){const B={};E&4194337&&(B.$$scope={dirty:E,ctx:r}),t.$set(B);const P={};E&4194432&&(P.$$scope={dirty:E,ctx:r}),s.$set(P);const N={};E&4195112&&(N.$$scope={dirty:E,ctx:r}),d.$set(N);const I={};E&4194338&&(I.$$scope={dirty:E,ctx:r}),a.$set(I)},i:function(r){v||(oe(t.$$.fragment,r),oe(s.$$.fragment,r),oe(d.$$.fragment,r),oe(a.$$.fragment,r),v=!0)},o:function(r){se(t.$$.fragment,r),se(s.$$.fragment,r),se(d.$$.fragment,r),se(a.$$.fragment,r),v=!1},d:function(r){r&&g(e),ce(t),ce(s),ce(d),ce(a)}};return U("SvelteRegisterBlock",{block:y,id:lt.name,type:"if",source:"(190:26) ",ctx:l}),y}function rt(l){let e,t,i;t=new he({props:{variant:"success",padding:"lg",$$slots:{default:[mt]},$$scope:{ctx:l}},$$inline:!0});const u={c:function(){e=_("div"),ue(t.$$.fragment),this.h()},l:function(s){e=p(s,"DIV",{class:!0});var o=C(e);ie(t.$$.fragment,o),o.forEach(g),this.h()},h:function(){h(e,"class","playing-screen"),m(e,w,166,6,4678)},m:function(s,o){Q(s,e,o),ae(t,e,null),i=!0},p:function(s,o){const d={};o&4194320&&(d.$$scope={dirty:o,ctx:s}),t.$set(d)},i:function(s){i||(oe(t.$$.fragment,s),i=!0)},o:function(s){se(t.$$.fragment,s),i=!1},d:function(s){s&&g(e),ce(t)}};return U("SvelteRegisterBlock",{block:u,id:rt.name,type:"if",source:"(165:24) ",ctx:l}),u}function ct(l){let e,t,i;t=new he({props:{variant:"default",padding:"lg",$$slots:{default:[pt]},$$scope:{ctx:l}},$$inline:!0});const u={c:function(){e=_("div"),ue(t.$$.fragment),this.h()},l:function(s){e=p(s,"DIV",{class:!0});var o=C(e);ie(t.$$.fragment,o),o.forEach(g),this.h()},h:function(){h(e,"class","start-screen"),m(e,w,123,6,3324)},m:function(s,o){Q(s,e,o),ae(t,e,null),i=!0},p:function(s,o){const d={};o&4194304&&(d.$$scope={dirty:o,ctx:s}),t.$set(d)},i:function(s){i||(oe(t.$$.fragment,s),i=!0)},o:function(s){se(t.$$.fragment,s),i=!1},d:function(s){s&&g(e),ce(t)}};return U("SvelteRegisterBlock",{block:u,id:ct.name,type:"if",source:"(122:4) {#if !isPlaying && !isDetecting && !showResults}",ctx:l}),u}function Le(l){let e,t,i=l[18]+"",u,n,s,o=l[0][l[20]]?"✓":"×",d,f,a;const v={c:function(){e=_("div"),t=_("span"),u=G(i),n=M(),s=_("span"),d=G(o),a=M(),this.h()},l:function(k){e=p(k,"DIV",{class:!0});var r=C(e);t=p(r,"SPAN",{class:!0});var E=C(t);u=O(E,i),E.forEach(g),n=q(r),s=p(r,"SPAN",{class:!0});var B=C(s);d=O(B,o),B.forEach(g),a=q(r),r.forEach(g),this.h()},h:function(){h(t,"class","scale-note-name svelte-95o5rd"),m(t,w,270,20,8488),h(s,"class",f="scale-result-icon "+(l[0][l[20]]?"correct":"incorrect")+" svelte-95o5rd"),m(s,w,271,20,8552),h(e,"class","scale-result svelte-95o5rd"),m(e,w,269,18,8441)},m:function(k,r){Q(k,e,r),c(e,t),c(t,u),c(e,n),c(e,s),c(s,d),c(e,a)},p:function(k,r){r&1&&o!==(o=k[0][k[20]]?"✓":"×")&&ne(d,o),r&1&&f!==(f="scale-result-icon "+(k[0][k[20]]?"correct":"incorrect")+" svelte-95o5rd")&&h(s,"class",f)},d:function(k){k&&g(e)}};return U("SvelteRegisterBlock",{block:v,id:Le.name,type:"each",source:"(269:16) {#each scaleNotes as note, index}",ctx:l}),v}function at(l){let e;const t={c:function(){e=G("もう一度チャレンジ")},l:function(u){e=O(u,"もう一度チャレンジ")},m:function(u,n){Q(u,e,n)},d:function(u){u&&g(e)}};return U("SvelteRegisterBlock",{block:t,id:at.name,type:"slot",source:'(282:14) <Button variant=\\"success\\" size=\\"lg\\" fullWidth on:click={startTraining}>',ctx:l}),t}function it(l){let e;const t={c:function(){e=G("結果を保存")},l:function(u){e=O(u,"結果を保存")},m:function(u,n){Q(u,e,n)},d:function(u){u&&g(e)}};return U("SvelteRegisterBlock",{block:t,id:it.name,type:"slot",source:'(285:14) <Button variant=\\"secondary\\" size=\\"md\\" fullWidth>',ctx:l}),t}function ut(l){let e,t,i="トレーニング結果",u,n,s,o,d,f,a,v="点",y,k,r,E,B,P,N,I,K="音階別結果",z,V,D,b,R,A,j,X,Y=qe(l[11]),S=[];for(let Z=0;Z<Y.length;Z+=1)S[Z]=Le(Ye(l,Y,Z));R=new Me({props:{variant:"success",size:"lg",fullWidth:!0,$$slots:{default:[at]},$$scope:{ctx:l}},$$inline:!0}),R.$on("click",l[12]),j=new Me({props:{variant:"secondary",size:"md",fullWidth:!0,$$slots:{default:[it]},$$scope:{ctx:l}},$$inline:!0});const L={c:function(){e=_("div"),t=_("h2"),t.textContent=i,u=M(),n=_("div"),s=_("div"),o=_("span"),d=G(l[10]),f=M(),a=_("span"),a.textContent=v,y=M(),k=_("p"),r=G("8音階中 "),E=G(l[1]),B=G("音階 正解"),P=M(),N=_("div"),I=_("h3"),I.textContent=K,z=M(),V=_("div");for(let H=0;H<S.length;H+=1)S[H].c();D=M(),b=_("div"),ue(R.$$.fragment),A=M(),ue(j.$$.fragment),this.h()},l:function(H){e=p(H,"DIV",{class:!0});var F=C(e);t=p(F,"H2",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-1w4iqdy"&&(t.textContent=i),u=q(F),n=p(F,"DIV",{class:!0});var x=C(n);s=p(x,"DIV",{class:!0});var ee=C(s);o=p(ee,"SPAN",{class:!0});var W=C(o);d=O(W,l[10]),W.forEach(g),f=q(ee),a=p(ee,"SPAN",{class:!0,"data-svelte-h":!0}),J(a)!=="svelte-yaz7vv"&&(a.textContent=v),ee.forEach(g),y=q(x),k=p(x,"P",{class:!0});var te=C(k);r=O(te,"8音階中 "),E=O(te,l[1]),B=O(te,"音階 正解"),te.forEach(g),x.forEach(g),P=q(F),N=p(F,"DIV",{class:!0});var ve=C(N);I=p(ve,"H3",{class:!0,"data-svelte-h":!0}),J(I)!=="svelte-140f1nw"&&(I.textContent=K),z=q(ve),V=p(ve,"DIV",{class:!0});var be=C(V);for(let ye=0;ye<S.length;ye+=1)S[ye].l(be);be.forEach(g),ve.forEach(g),D=q(F),b=p(F,"DIV",{class:!0});var le=C(b);ie(R.$$.fragment,le),A=q(le),ie(j.$$.fragment,le),le.forEach(g),F.forEach(g),this.h()},h:function(){h(t,"class","results-title svelte-95o5rd"),m(t,w,251,12,7797),h(o,"class","score-value svelte-95o5rd"),m(o,w,256,16,7974),h(a,"class","score-unit svelte-95o5rd"),m(a,w,257,16,8031),h(s,"class","score-circle svelte-95o5rd"),m(s,w,255,14,7931),h(k,"class","score-description svelte-95o5rd"),m(k,w,259,14,8100),h(n,"class","score-display svelte-95o5rd"),m(n,w,254,12,7889),h(I,"class","details-title svelte-95o5rd"),m(I,w,266,14,8294),h(V,"class","scale-results svelte-95o5rd"),m(V,w,267,14,8345),h(N,"class","detailed-results"),m(N,w,265,12,8249),h(b,"class","action-buttons svelte-95o5rd"),m(b,w,280,12,8849),h(e,"class","results-content svelte-95o5rd"),m(e,w,250,10,7755)},m:function(H,F){Q(H,e,F),c(e,t),c(e,u),c(e,n),c(n,s),c(s,o),c(o,d),c(s,f),c(s,a),c(n,y),c(n,k),c(k,r),c(k,E),c(k,B),c(e,P),c(e,N),c(N,I),c(N,z),c(N,V);for(let x=0;x<S.length;x+=1)S[x]&&S[x].m(V,null);c(e,D),c(e,b),ae(R,b,null),c(b,A),ae(j,b,null),X=!0},p:function(H,F){if((!X||F&1024)&&ne(d,H[10]),(!X||F&2)&&ne(E,H[1]),F&2049){Y=qe(H[11]);let W;for(W=0;W<Y.length;W+=1){const te=Ye(H,Y,W);S[W]?S[W].p(te,F):(S[W]=Le(te),S[W].c(),S[W].m(V,null))}for(;W<S.length;W+=1)S[W].d(1);S.length=Y.length}const x={};F&4194304&&(x.$$scope={dirty:F,ctx:H}),R.$set(x);const ee={};F&4194304&&(ee.$$scope={dirty:F,ctx:H}),j.$set(ee)},i:function(H){X||(oe(R.$$.fragment,H),oe(j.$$.fragment,H),X=!0)},o:function(H){se(R.$$.fragment,H),se(j.$$.fragment,H),X=!1},d:function(H){H&&g(e),$e(S,H),ce(R),ce(j)}};return U("SvelteRegisterBlock",{block:L,id:ut.name,type:"slot",source:'(250:8) <Card variant=\\"default\\" padding=\\"lg\\">',ctx:l}),L}function We(l){let e,t=l[0][l[20]]?"✓":"×",i,u;const n={c:function(){e=_("span"),i=G(t),this.h()},l:function(o){e=p(o,"SPAN",{class:!0});var d=C(e);i=O(d,t),d.forEach(g),this.h()},h:function(){h(e,"class",u="result-icon "+(l[0][l[20]]?"correct":"incorrect")+" svelte-95o5rd"),m(e,w,201,20,6141)},m:function(o,d){Q(o,e,d),c(e,i)},p:function(o,d){d&1&&t!==(t=o[0][o[20]]?"✓":"×")&&ne(i,t),d&1&&u!==(u="result-icon "+(o[0][o[20]]?"correct":"incorrect")+" svelte-95o5rd")&&h(e,"class",u)},d:function(o){o&&g(e)}};return U("SvelteRegisterBlock",{block:n,id:We.name,type:"if",source:"(201:18) {#if scaleResults[index] !== undefined}",ctx:l}),n}function Te(l){let e,t,i=l[18]+"",u,n,s,o=l[0][l[20]]!==void 0&&We(l);const d={c:function(){e=_("div"),t=_("span"),u=G(i),n=M(),o&&o.c(),s=M(),this.h()},l:function(a){e=p(a,"DIV",{class:!0});var v=C(e);t=p(v,"SPAN",{class:!0});var y=C(t);u=O(y,i),y.forEach(g),n=q(v),o&&o.l(v),s=q(v),v.forEach(g),this.h()},h:function(){h(t,"class","note-text svelte-95o5rd"),m(t,w,199,18,6025),h(e,"class","scale-note svelte-95o5rd"),Ee(e,"active",l[20]===l[5]),Ee(e,"completed",l[0][l[20]]!==void 0),m(e,w,198,16,5887)},m:function(a,v){Q(a,e,v),c(e,t),c(t,u),c(e,n),o&&o.m(e,null),c(e,s)},p:function(a,v){a[0][a[20]]!==void 0?o?o.p(a,v):(o=We(a),o.c(),o.m(e,s)):o&&(o.d(1),o=null),v&32&&Ee(e,"active",a[20]===a[5]),v&1&&Ee(e,"completed",a[0][a[20]]!==void 0)},d:function(a){a&&g(e),o&&o.d()}};return U("SvelteRegisterBlock",{block:d,id:Te.name,type:"each",source:"(198:14) {#each scaleNotes as note, index}",ctx:l}),d}function ft(l){let e,t,i="ドレミファソラシドを歌ってください",u,n,s=qe(l[11]),o=[];for(let f=0;f<s.length;f+=1)o[f]=Te(xe(l,s,f));const d={c:function(){e=_("div"),t=_("h2"),t.textContent=i,u=M(),n=_("div");for(let a=0;a<o.length;a+=1)o[a].c();this.h()},l:function(a){e=p(a,"DIV",{class:!0});var v=C(e);t=p(v,"H2",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-9l8glf"&&(t.textContent=i),u=q(v),n=p(v,"DIV",{class:!0});var y=C(n);for(let k=0;k<o.length;k+=1)o[k].l(y);y.forEach(g),v.forEach(g),this.h()},h:function(){h(t,"class","guide-title svelte-95o5rd"),m(t,w,195,12,5738),h(n,"class","scale-guide svelte-95o5rd"),m(n,w,196,12,5797),h(e,"class","guide-content svelte-95o5rd"),m(e,w,194,10,5698)},m:function(a,v){Q(a,e,v),c(e,t),c(e,u),c(e,n);for(let y=0;y<o.length;y+=1)o[y]&&o[y].m(n,null)},p:function(a,v){if(v&2081){s=qe(a[11]);let y;for(y=0;y<s.length;y+=1){const k=xe(a,s,y);o[y]?o[y].p(k,v):(o[y]=Te(k),o[y].c(),o[y].m(n,null))}for(;y<o.length;y+=1)o[y].d(1);o.length=s.length}},d:function(a){a&&g(e),$e(o,a)}};return U("SvelteRegisterBlock",{block:d,id:ft.name,type:"slot",source:'(194:8) <Card variant=\\"default\\" padding=\\"lg\\">',ctx:l}),d}function dt(l){let e,t,i="音量レベル",u,n,s;n=new nt({props:{volume:l[7],height:"20px"},$$inline:!0});const o={c:function(){e=_("div"),t=_("h3"),t.textContent=i,u=M(),ue(n.$$.fragment),this.h()},l:function(f){e=p(f,"DIV",{class:!0});var a=C(e);t=p(a,"H3",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-1nc8gri"&&(t.textContent=i),u=q(a),ie(n.$$.fragment,a),a.forEach(g),this.h()},h:function(){h(t,"class","display-title svelte-95o5rd"),m(t,w,217,16,6659),h(e,"class","volume-display"),m(e,w,216,14,6614)},m:function(f,a){Q(f,e,a),c(e,t),c(e,u),ae(n,e,null),s=!0},p:function(f,a){const v={};a&128&&(v.volume=f[7]),n.$set(v)},i:function(f){s||(oe(n.$$.fragment,f),s=!0)},o:function(f){se(n.$$.fragment,f),s=!1},d:function(f){f&&g(e),ce(n)}};return U("SvelteRegisterBlock",{block:o,id:dt.name,type:"slot",source:'(216:12) <Card variant=\\"default\\" padding=\\"md\\">',ctx:l}),o}function ht(l){let e,t;e=new st({props:{frequency:l[8],targetNote:l[11][l[5]],currentNote:l[9],accuracy:0,isDetecting:l[3]},$$inline:!0});const i={c:function(){ue(e.$$.fragment)},l:function(n){ie(e.$$.fragment,n)},m:function(n,s){ae(e,n,s),t=!0},p:function(n,s){const o={};s&256&&(o.frequency=n[8]),s&32&&(o.targetNote=n[11][n[5]]),s&512&&(o.currentNote=n[9]),s&8&&(o.isDetecting=n[3]),e.$set(o)},i:function(n){t||(oe(e.$$.fragment,n),t=!0)},o:function(n){se(e.$$.fragment,n),t=!1},d:function(n){ce(e,n)}};return U("SvelteRegisterBlock",{block:i,id:ht.name,type:"slot",source:'(224:12) <Card variant=\\"default\\" padding=\\"md\\">',ctx:l}),i}function vt(l){let e,t,i="進行状況",u,n,s,o,d=l[11][l[5]]+"",f,a,v=l[5]+1+"",y,k,r,E,B,P,N,I;const K={c:function(){e=_("div"),t=_("h3"),t.textContent=i,u=M(),n=_("div"),s=_("span"),o=G("現在: "),f=G(d),a=G(" ("),y=G(v),k=G("/8)"),r=M(),E=_("span"),B=G("正解: "),P=G(l[1]),N=G("/"),I=G(l[5]),this.h()},l:function(V){e=p(V,"DIV",{class:!0});var D=C(e);t=p(D,"H3",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-v1qnd4"&&(t.textContent=i),u=q(D),n=p(D,"DIV",{class:!0});var b=C(n);s=p(b,"SPAN",{});var R=C(s);o=O(R,"現在: "),f=O(R,d),a=O(R," ("),y=O(R,v),k=O(R,"/8)"),R.forEach(g),r=q(b),E=p(b,"SPAN",{});var A=C(E);B=O(A,"正解: "),P=O(A,l[1]),N=O(A,"/"),I=O(A,l[5]),A.forEach(g),b.forEach(g),D.forEach(g),this.h()},h:function(){h(t,"class","progress-title svelte-95o5rd"),m(t,w,238,12,7315),m(s,w,240,14,7409),m(E,w,241,14,7500),h(n,"class","progress-details svelte-95o5rd"),m(n,w,239,12,7364),h(e,"class","progress-info svelte-95o5rd"),m(e,w,237,10,7275)},m:function(V,D){Q(V,e,D),c(e,t),c(e,u),c(e,n),c(n,s),c(s,o),c(s,f),c(s,a),c(s,y),c(s,k),c(n,r),c(n,E),c(E,B),c(E,P),c(E,N),c(E,I)},p:function(V,D){D&32&&d!==(d=V[11][V[5]]+"")&&ne(f,d),D&32&&v!==(v=V[5]+1+"")&&ne(y,v),D&2&&ne(P,V[1]),D&32&&ne(I,V[5])},d:function(V){V&&g(e)}};return U("SvelteRegisterBlock",{block:K,id:vt.name,type:"slot",source:'(237:8) <Card variant=\\"default\\" padding=\\"md\\">',ctx:l}),K}function mt(l){let e,t,i,u,n,s,o,d="基音再生中",f,a,v,y,k,r,E="この音を覚えて「ド」として認識してください",B,P,N,I;const K={c:function(){e=_("div"),t=_("div"),i=_e("svg"),u=_e("circle"),n=_e("polygon"),s=M(),o=_("h2"),o.textContent=d,f=M(),a=_("p"),v=G("基音: "),y=G(l[4]),k=M(),r=_("p"),r.textContent=E,B=M(),P=_("div"),N=_("div"),I=_("div"),this.h()},l:function(V){e=p(V,"DIV",{class:!0});var D=C(e);t=p(D,"DIV",{class:!0});var b=C(t);i=pe(b,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0});var R=C(i);u=pe(R,"circle",{cx:!0,cy:!0,r:!0}),C(u).forEach(g),n=pe(R,"polygon",{points:!0}),C(n).forEach(g),R.forEach(g),b.forEach(g),s=q(D),o=p(D,"H2",{class:!0,"data-svelte-h":!0}),J(o)!=="svelte-1maueo6"&&(o.textContent=d),f=q(D),a=p(D,"P",{class:!0});var A=C(a);v=O(A,"基音: "),y=O(A,l[4]),A.forEach(g),k=q(D),r=p(D,"P",{class:!0,"data-svelte-h":!0}),J(r)!=="svelte-1hcrx2z"&&(r.textContent=E),B=q(D),P=p(D,"DIV",{class:!0});var j=C(P);N=p(j,"DIV",{class:!0});var X=C(N);I=p(X,"DIV",{class:!0}),C(I).forEach(g),X.forEach(g),j.forEach(g),D.forEach(g),this.h()},h:function(){h(u,"cx","12"),h(u,"cy","12"),h(u,"r","10"),m(u,w,171,16,4962),h(n,"points","10,8 16,12 10,16"),m(n,w,172,16,5011),h(i,"width","48"),h(i,"height","48"),h(i,"viewBox","0 0 24 24"),h(i,"fill","none"),h(i,"stroke","currentColor"),h(i,"stroke-width","2"),m(i,w,170,14,4846),h(t,"class","playing-icon svelte-95o5rd"),m(t,w,169,12,4805),h(o,"class","playing-title svelte-95o5rd"),m(o,w,175,12,5100),h(a,"class","playing-note svelte-95o5rd"),m(a,w,176,12,5149),h(r,"class","playing-instruction svelte-95o5rd"),m(r,w,177,12,5211),h(I,"class","progress-fill svelte-95o5rd"),m(I,w,183,16,5409),h(N,"class","progress-bar svelte-95o5rd"),m(N,w,182,14,5366),h(P,"class","playing-progress svelte-95o5rd"),m(P,w,181,12,5321),h(e,"class","playing-content svelte-95o5rd"),m(e,w,168,10,4763)},m:function(V,D){Q(V,e,D),c(e,t),c(t,i),c(i,u),c(i,n),c(e,s),c(e,o),c(e,f),c(e,a),c(a,v),c(a,y),c(e,k),c(e,r),c(e,B),c(e,P),c(P,N),c(N,I)},p:function(V,D){D&16&&ne(y,V[4])},d:function(V){V&&g(e)}};return U("SvelteRegisterBlock",{block:K,id:mt.name,type:"slot",source:'(168:8) <Card variant=\\"success\\" padding=\\"lg\\">',ctx:l}),K}function gt(l){let e;const t={c:function(){e=G("トレーニング開始")},l:function(u){e=O(u,"トレーニング開始")},m:function(u,n){Q(u,e,n)},d:function(u){u&&g(e)}};return U("SvelteRegisterBlock",{block:t,id:gt.name,type:"slot",source:'(159:12) <Button variant=\\"success\\" size=\\"lg\\" fullWidth on:click={startTraining}>',ctx:l}),t}function pt(l){let e,t,i="トレーニング開始",u,n,s,o,d,f,a,v,y,k="1",r,E,B,P="基音を聞く",N,I,K="ランダムに選ばれた基音をピアノで再生します",z,V,D,b="2",R,A,j,X="連続歌唱",Y,S,L="基音を「ド」として、ドレミファソラシドを連続して歌います",Z,H,F,x="3",ee,W,te,ve="自動判定",be,le,ye="歌唱中にリアルタイムで各音階を自動判定します",Ae,de,De;de=new Me({props:{variant:"success",size:"lg",fullWidth:!0,$$slots:{default:[gt]},$$scope:{ctx:l}},$$inline:!0}),de.$on("click",l[12]);const Xe={c:function(){e=_("div"),t=_("h2"),t.textContent=i,u=M(),n=_("p"),s=G("基音を聞いた後、その音を「ド」として"),o=_("br"),d=G(`
              ドレミファソラシドを連続して歌ってください`),f=M(),a=_("div"),v=_("div"),y=_("span"),y.textContent=k,r=M(),E=_("div"),B=_("h3"),B.textContent=P,N=M(),I=_("p"),I.textContent=K,z=M(),V=_("div"),D=_("span"),D.textContent=b,R=M(),A=_("div"),j=_("h3"),j.textContent=X,Y=M(),S=_("p"),S.textContent=L,Z=M(),H=_("div"),F=_("span"),F.textContent=x,ee=M(),W=_("div"),te=_("h3"),te.textContent=ve,be=M(),le=_("p"),le.textContent=ye,Ae=M(),ue(de.$$.fragment),this.h()},l:function(fe){e=p(fe,"DIV",{class:!0});var re=C(e);t=p(re,"H2",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-177yn6"&&(t.textContent=i),u=q(re),n=p(re,"P",{class:!0});var ge=C(n);s=O(ge,"基音を聞いた後、その音を「ド」として"),o=p(ge,"BR",{}),d=O(ge,`
              ドレミファソラシドを連続して歌ってください`),ge.forEach(g),f=q(re),a=p(re,"DIV",{class:!0});var we=C(a);v=p(we,"DIV",{class:!0});var ke=C(v);y=p(ke,"SPAN",{class:!0,"data-svelte-h":!0}),J(y)!=="svelte-1gvrwis"&&(y.textContent=k),r=q(ke),E=p(ke,"DIV",{});var Ve=C(E);B=p(Ve,"H3",{class:!0,"data-svelte-h":!0}),J(B)!=="svelte-3o2umq"&&(B.textContent=P),N=q(Ve),I=p(Ve,"P",{class:!0,"data-svelte-h":!0}),J(I)!=="svelte-r15f9m"&&(I.textContent=K),Ve.forEach(g),ke.forEach(g),z=q(we),V=p(we,"DIV",{class:!0});var Ne=C(V);D=p(Ne,"SPAN",{class:!0,"data-svelte-h":!0}),J(D)!=="svelte-1lllrxb"&&(D.textContent=b),R=q(Ne),A=p(Ne,"DIV",{});var Pe=C(A);j=p(Pe,"H3",{class:!0,"data-svelte-h":!0}),J(j)!=="svelte-1lldj7q"&&(j.textContent=X),Y=q(Pe),S=p(Pe,"P",{class:!0,"data-svelte-h":!0}),J(S)!=="svelte-1n1vdfq"&&(S.textContent=L),Pe.forEach(g),Ne.forEach(g),Z=q(we),H=p(we,"DIV",{class:!0});var Ie=C(H);F=p(Ie,"SPAN",{class:!0,"data-svelte-h":!0}),J(F)!=="svelte-1swoen2"&&(F.textContent=x),ee=q(Ie),W=p(Ie,"DIV",{});var Be=C(W);te=p(Be,"H3",{class:!0,"data-svelte-h":!0}),J(te)!=="svelte-wm6hg7"&&(te.textContent=ve),be=q(Be),le=p(Be,"P",{class:!0,"data-svelte-h":!0}),J(le)!=="svelte-1tyv544"&&(le.textContent=ye),Be.forEach(g),Ie.forEach(g),we.forEach(g),Ae=q(re),ie(de.$$.fragment,re),re.forEach(g),this.h()},h:function(){h(t,"class","start-title svelte-95o5rd"),m(t,w,126,12,3447),m(o,w,128,32,3559),h(n,"class","start-description svelte-95o5rd"),m(n,w,127,12,3497),h(y,"class","step-number svelte-95o5rd"),m(y,w,134,16,3730),h(B,"class","svelte-95o5rd"),m(B,w,136,18,3805),h(I,"class","svelte-95o5rd"),m(I,w,137,18,3838),m(E,w,135,16,3781),h(v,"class","instruction-item svelte-95o5rd"),m(v,w,133,14,3683),h(D,"class","step-number svelte-95o5rd"),m(D,w,142,16,3987),h(j,"class","svelte-95o5rd"),m(j,w,144,18,4062),h(S,"class","svelte-95o5rd"),m(S,w,145,18,4094),m(A,w,143,16,4038),h(V,"class","instruction-item svelte-95o5rd"),m(V,w,141,14,3940),h(F,"class","step-number svelte-95o5rd"),m(F,w,150,16,4250),h(te,"class","svelte-95o5rd"),m(te,w,152,18,4325),h(le,"class","svelte-95o5rd"),m(le,w,153,18,4357),m(W,w,151,16,4301),h(H,"class","instruction-item svelte-95o5rd"),m(H,w,149,14,4203),h(a,"class","instructions svelte-95o5rd"),m(a,w,132,12,3642),h(e,"class","start-content svelte-95o5rd"),m(e,w,125,10,3407)},m:function(fe,re){Q(fe,e,re),c(e,t),c(e,u),c(e,n),c(n,s),c(n,o),c(n,d),c(e,f),c(e,a),c(a,v),c(v,y),c(v,r),c(v,E),c(E,B),c(E,N),c(E,I),c(a,z),c(a,V),c(V,D),c(V,R),c(V,A),c(A,j),c(A,Y),c(A,S),c(a,Z),c(a,H),c(H,F),c(H,ee),c(H,W),c(W,te),c(W,be),c(W,le),c(e,Ae),ae(de,e,null),De=!0},p:function(fe,re){const ge={};re&4194304&&(ge.$$scope={dirty:re,ctx:fe}),de.$set(ge)},i:function(fe){De||(oe(de.$$.fragment,fe),De=!0)},o:function(fe){se(de.$$.fragment,fe),De=!1},d:function(fe){fe&&g(e),ce(de)}};return U("SvelteRegisterBlock",{block:Xe,id:pt.name,type:"slot",source:'(125:8) <Card variant=\\"default\\" padding=\\"lg\\">',ctx:l}),Xe}function _t(l){let e,t,i,u,n,s,o,d,f,a,v,y="ランダム基音モード",k,r,E="10種類の基音からランダムに選択してトレーニング",B,P,N,I;const K=[ct,rt,lt,ot],z=[];function V(b,R){return!b[2]&&!b[3]&&!b[6]?0:b[2]?1:b[3]?2:b[6]?3:-1}~(P=V(l))&&(N=z[P]=K[P](l));const D={c:function(){e=_("div"),t=_("div"),i=_("div"),u=_("div"),n=_e("svg"),s=_e("path"),o=_e("circle"),d=_e("circle"),f=M(),a=_("div"),v=_("h1"),v.textContent=y,k=M(),r=_("p"),r.textContent=E,B=M(),N&&N.c(),this.h()},l:function(R){e=p(R,"DIV",{class:!0});var A=C(e);t=p(A,"DIV",{class:!0});var j=C(t);i=p(j,"DIV",{class:!0});var X=C(i);u=p(X,"DIV",{class:!0});var Y=C(u);n=pe(Y,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0});var S=C(n);s=pe(S,"path",{d:!0}),C(s).forEach(g),o=pe(S,"circle",{cx:!0,cy:!0,r:!0}),C(o).forEach(g),d=pe(S,"circle",{cx:!0,cy:!0,r:!0}),C(d).forEach(g),S.forEach(g),Y.forEach(g),f=q(X),a=p(X,"DIV",{});var L=C(a);v=p(L,"H1",{class:!0,"data-svelte-h":!0}),J(v)!=="svelte-4p7mnf"&&(v.textContent=y),k=q(L),r=p(L,"P",{class:!0,"data-svelte-h":!0}),J(r)!=="svelte-hq31uv"&&(r.textContent=E),L.forEach(g),X.forEach(g),j.forEach(g),B=q(A),N&&N.l(A),A.forEach(g),this.h()},h:function(){h(s,"d","M9 18V5l12-2v13"),m(s,w,109,12,2929),h(o,"cx","6"),h(o,"cy","18"),h(o,"r","3"),m(o,w,110,12,2969),h(d,"cx","18"),h(d,"cy","16"),h(d,"r","3"),m(d,w,111,12,3012),h(n,"width","32"),h(n,"height","32"),h(n,"viewBox","0 0 24 24"),h(n,"fill","none"),h(n,"stroke","currentColor"),h(n,"stroke-width","2"),m(n,w,108,10,2817),h(u,"class","mode-icon svelte-95o5rd"),m(u,w,107,8,2783),h(v,"class","mode-title svelte-95o5rd"),m(v,w,115,10,3100),h(r,"class","mode-description svelte-95o5rd"),m(r,w,116,10,3148),m(a,w,114,8,3084),h(i,"class","mode-header svelte-95o5rd"),m(i,w,106,6,2749),h(t,"class","header svelte-95o5rd"),m(t,w,105,4,2722),h(e,"class","random-training svelte-95o5rd"),m(e,w,103,2,2670)},m:function(R,A){Q(R,e,A),c(e,t),c(t,i),c(i,u),c(u,n),c(n,s),c(n,o),c(n,d),c(i,f),c(i,a),c(a,v),c(a,k),c(a,r),c(e,B),~P&&z[P].m(e,null),I=!0},p:function(R,A){let j=P;P=V(R),P===j?~P&&z[P].p(R,A):(N&&(wt(),se(z[j],1,1,()=>{z[j]=null}),Et()),~P?(N=z[P],N?N.p(R,A):(N=z[P]=K[P](R),N.c()),oe(N,1),N.m(e,null)):N=null)},i:function(R){I||(oe(N),I=!0)},o:function(R){se(N),I=!1},d:function(R){R&&g(e),~P&&z[P].d()}};return U("SvelteRegisterBlock",{block:D,id:_t.name,type:"slot",source:"(103:0) <PageLayout showBackButton={true}>",ctx:l}),D}function Ue(l){let e,t,i;t=new tt({props:{showBackButton:!0,$$slots:{default:[_t]},$$scope:{ctx:l}},$$inline:!0});const u={c:function(){e=M(),ue(t.$$.fragment),this.h()},l:function(s){yt("svelte-1nfe5e4",document.head).forEach(g),e=q(s),ie(t.$$.fragment,s),this.h()},h:function(){document.title="ランダム基音モード - 相対音感トレーニング"},m:function(s,o){Q(s,e,o),ae(t,s,o),i=!0},p:function(s,[o]){const d={};o&4196351&&(d.$$scope={dirty:o,ctx:s}),t.$set(d)},i:function(s){i||(oe(t.$$.fragment,s),i=!0)},o:function(s){se(t.$$.fragment,s),i=!1},d:function(s){s&&g(e),ce(t,s)}};return U("SvelteRegisterBlock",{block:u,id:Ue.name,type:"component",source:"",ctx:l}),u}function Nt(l,e,t){let i,u,{$$slots:n={},$$scope:s}=e;Qe("Page",n,[]);let o=!1,d=!1,f="",a=0,v=[],y=!1,k=0,r=0,E="";const B=["ド","レ","ミ","ファ","ソ","ラ","シ","ド"],P=["Bb3","B3","C4","Db4","D4","Eb4","E4","F4","Gb4","G4"];function N(){const b=Math.floor(Math.random()*P.length);return t(4,f=P[b]),f}function I(){t(5,a=0),t(0,v=[]),t(6,y=!1);const b=N();K(b)}function K(b){t(2,o=!0),console.log(`基音再生: ${b}`),setTimeout(()=>{t(2,o=!1),z()},2500)}function z(){t(3,d=!0);const b=setInterval(()=>{if(!d){clearInterval(b);return}t(7,k=Math.random()*100);const R=[261.63,293.66,329.63,349.23,392,440,493.88,523.25];if(t(8,r=R[Math.floor(Math.random()*R.length)]),t(9,E=B[Math.floor(Math.random()*B.length)]),Math.random()>.7){const A=Math.random()>.3;t(0,v[a]=A,v),t(5,a++,a),a>=8&&V()}},500)}function V(){t(3,d=!1),t(6,y=!0)}const D=[];return Object.keys(e).forEach(b=>{!~D.indexOf(b)&&b.slice(0,2)!=="$$"&&b!=="slot"&&Vt.warn(`<Page> was created with unknown prop '${b}'`)}),l.$capture_state=()=>({onMount:je,Card:he,Button:Me,PageLayout:tt,VolumeBar:nt,PitchDisplay:st,isPlaying:o,isDetecting:d,currentBaseNote:f,currentScaleIndex:a,scaleResults:v,showResults:y,currentVolume:k,currentFrequency:r,currentNote:E,scaleNotes:B,baseNotes:P,selectRandomBase:N,startTraining:I,playBaseNote:K,startDetection:z,finishTraining:V,correctCount:i,score:u}),l.$inject_state=b=>{"isPlaying"in b&&t(2,o=b.isPlaying),"isDetecting"in b&&t(3,d=b.isDetecting),"currentBaseNote"in b&&t(4,f=b.currentBaseNote),"currentScaleIndex"in b&&t(5,a=b.currentScaleIndex),"scaleResults"in b&&t(0,v=b.scaleResults),"showResults"in b&&t(6,y=b.showResults),"currentVolume"in b&&t(7,k=b.currentVolume),"currentFrequency"in b&&t(8,r=b.currentFrequency),"currentNote"in b&&t(9,E=b.currentNote),"correctCount"in b&&t(1,i=b.correctCount),"score"in b&&t(10,u=b.score)},e&&"$$inject"in e&&l.$inject_state(e.$$inject),l.$$.update=()=>{l.$$.dirty&1&&t(1,i=v.filter(b=>b).length),l.$$.dirty&2&&t(10,u=Math.round(i/8*100))},[v,i,o,d,f,a,y,k,r,E,u,B,I]}class Rt extends Je{constructor(e){super(e),Ke(this,e,Nt,Ue,Ze,{}),U("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:Ue.name})}}export{Rt as component};
