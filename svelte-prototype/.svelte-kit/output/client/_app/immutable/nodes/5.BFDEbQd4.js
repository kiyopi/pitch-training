import{S as Qt,i as Wt,d as qe,s as Xt,n as zt,a as Yt,D as Bt,J as Ot,b as u,M as Zt,N as gt,e as H,O as Ht,f as Re,g as e,H as jt,z as i,h as a,E as $t,m as g,j as o,k as f,A as L,l as N,p as b,o as r,t as P,G as ct,L as el}from"../chunks/zXoIIrMa.js";import{g as tl}from"../chunks/D0QH3NT1.js";import"../chunks/BntN8Vum.js";import{E as Gt}from"../chunks/Caa7PymA.js";const{console:ll}=tl,c="src/routes/scoring-test/+page.svelte";function Lt(n,t,l){const v=n.slice();return v[12]=t[l],v[14]=l,v}function Mt(n){let t;const l={c:function(){t=P("ğŸ§ª å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ")},l:function(k){t=N(k,"ğŸ§ª å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ")},m:function(k,x){Re(k,t,x)},d:function(k){k&&u(t)}};return qe("SvelteRegisterBlock",{block:l,id:Mt.name,type:"else",source:"(224:6) {:else}",ctx:n}),l}function Ut(n){let t;const l={c:function(){t=P("ğŸ”„ ãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­...")},l:function(k){t=N(k,"ğŸ”„ ãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­...")},m:function(k,x){Re(k,t,x)},d:function(k){k&&u(t)}};return qe("SvelteRegisterBlock",{block:l,id:Ut.name,type:"if",source:"(222:6) {#if isRunning}",ctx:n}),l}function St(n){let t,l,v,k=n[1].name+"",x,d,p,m,C,_,h=n[4]+1+"",I,V,A=n[6].length+"",j;const R={c:function(){t=r("section"),l=r("h3"),v=P("ğŸ“Š å®Ÿè¡Œä¸­: "),x=P(k),d=b(),p=r("div"),m=r("div"),C=b(),_=r("p"),I=P(h),V=P(" / "),j=P(A),this.h()},l:function(s){t=o(s,"SECTION",{class:!0});var S=f(t);l=o(S,"H3",{class:!0});var U=f(l);v=N(U,"ğŸ“Š å®Ÿè¡Œä¸­: "),x=N(U,k),U.forEach(u),d=g(S),p=o(S,"DIV",{class:!0});var z=f(p);m=o(z,"DIV",{class:!0,style:!0}),f(m).forEach(u),z.forEach(u),C=g(S),_=o(S,"P",{});var w=f(_);I=N(w,h),V=N(w," / "),j=N(w,A),w.forEach(u),S.forEach(u),this.h()},h:function(){i(l,"class","svelte-19llkxn"),a(l,c,240,6,5507),i(m,"class","progress-bar svelte-19llkxn"),ct(m,"width",(n[4]+1)/n[6].length*100+"%"),a(m,c,242,8,5580),i(p,"class","progress svelte-19llkxn"),a(p,c,241,6,5549),a(_,c,244,6,5708),i(t,"class","current-test svelte-19llkxn"),a(t,c,239,4,5470)},m:function(s,S){Re(s,t,S),e(t,l),e(l,v),e(l,x),e(t,d),e(t,p),e(p,m),e(t,C),e(t,_),e(_,I),e(_,V),e(_,j)},p:function(s,S){S&2&&k!==(k=s[1].name+"")&&H(x,k),S&16&&ct(m,"width",(s[4]+1)/s[6].length*100+"%"),S&16&&h!==(h=s[4]+1+"")&&H(I,h)},d:function(s){s&&u(t)}};return qe("SvelteRegisterBlock",{block:R,id:St.name,type:"if",source:"(239:2) {#if isRunning && currentTest}",ctx:n}),R}function yt(n){let t,l,v="ğŸ“‹ ãƒ†ã‚¹ãƒˆçµæœ",k,x=Ot(n[2]),d=[];for(let m=0;m<x.length;m+=1)d[m]=It(Lt(n,x,m));const p={c:function(){t=r("section"),l=r("h2"),l.textContent=v,k=b();for(let C=0;C<d.length;C+=1)d[C].c();this.h()},l:function(C){t=o(C,"SECTION",{class:!0});var _=f(t);l=o(_,"H2",{class:!0,"data-svelte-h":!0}),L(l)!=="svelte-s3709x"&&(l.textContent=v),k=g(_);for(let h=0;h<d.length;h+=1)d[h].l(_);_.forEach(u),this.h()},h:function(){i(l,"class","svelte-19llkxn"),a(l,c,251,6,5877),i(t,"class","results svelte-19llkxn"),a(t,c,250,4,5845)},m:function(C,_){Re(C,t,_),e(t,l),e(t,k);for(let h=0;h<d.length;h+=1)d[h]&&d[h].m(t,null)},p:function(C,_){if(_&4){x=Ot(C[2]);let h;for(h=0;h<x.length;h+=1){const I=Lt(C,x,h);d[h]?d[h].p(I,_):(d[h]=It(I),d[h].c(),d[h].m(t,null))}for(;h<d.length;h+=1)d[h].d(1);d.length=x.length}},d:function(C){C&&u(t),el(d,C)}};return qe("SvelteRegisterBlock",{block:p,id:yt.name,type:"if",source:"(250:2) {#if testResults.length > 0}",ctx:n}),p}function Jt(n){let t,l,v,k,x=n[12].result.score.total+"",d,p,m,C=n[12].result.score.grade+"",_,h,I,V,A,j="éŸ³ç¨‹ç²¾åº¦:",R,E,s=n[12].result.score.components.pitchAccuracy+"",S,U,z,w,B,$="èªè­˜é€Ÿåº¦:",ue,G,Q=n[12].result.score.components.recognitionSpeed+"",ve,pe,X,q,y,O="éŸ³ç¨‹ç¿’å¾—åº¦:",D,J,Z=n[12].result.score.components.intervalMastery+"",T,M,W,ee,le,me="æ–¹å‘æ€§ç²¾åº¦:",he,ae,ye=n[12].result.score.components.directionAccuracy+"",_e,Ae,tt,ke,oe,Ge="ä¸€è²«æ€§:",Le,Pe,de=n[12].result.score.components.consistency===0?"ãƒ‡ãƒ¼ã‚¿ä¸è¶³":`${n[12].result.score.components.consistency}%`,ge,lt,re,se,Me="ğŸ’¬ ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯",Ue,De,Be=n[12].result.feedback.primary+"",te,Ie,st,be,ne,Ve="æœŸå¾…å€¤:",nt,Oe=n[12].expected+"",xe,Y=n[12].result.feedback.detailed&&At(n);const Ye={c:function(){t=r("div"),l=r("div"),v=r("div"),k=r("span"),d=P(x),p=b(),m=r("span"),_=P(C),h=b(),I=r("div"),V=r("div"),A=r("span"),A.textContent=j,R=b(),E=r("span"),S=P(s),U=P("%"),z=b(),w=r("div"),B=r("span"),B.textContent=$,ue=b(),G=r("span"),ve=P(Q),pe=P("%"),X=b(),q=r("div"),y=r("span"),y.textContent=O,D=b(),J=r("span"),T=P(Z),M=P("%"),W=b(),ee=r("div"),le=r("span"),le.textContent=me,he=b(),ae=r("span"),_e=P(ye),Ae=P("%"),tt=b(),ke=r("div"),oe=r("span"),oe.textContent=Ge,Le=b(),Pe=r("span"),ge=P(de),lt=b(),re=r("div"),se=r("h4"),se.textContent=Me,Ue=b(),De=r("p"),te=P(Be),Ie=b(),Y&&Y.c(),st=b(),be=r("div"),ne=r("strong"),ne.textContent=Ve,nt=b(),xe=P(Oe),this.h()},l:function(K){t=o(K,"DIV",{class:!0});var F=f(t);l=o(F,"DIV",{class:!0});var Ce=f(l);v=o(Ce,"DIV",{class:!0});var Ze=f(v);k=o(Ze,"SPAN",{class:!0,style:!0});var at=f(k);d=N(at,x),at.forEach(u),p=g(Ze),m=o(Ze,"SPAN",{class:!0,style:!0});var Te=f(m);_=N(Te,C),Te.forEach(u),Ze.forEach(u),h=g(Ce),I=o(Ce,"DIV",{class:!0});var ce=f(I);V=o(ce,"DIV",{class:!0});var je=f(V);A=o(je,"SPAN",{class:!0,"data-svelte-h":!0}),L(A)!=="svelte-146tyqf"&&(A.textContent=j),R=g(je),E=o(je,"SPAN",{class:!0});var $e=f(E);S=N($e,s),U=N($e,"%"),$e.forEach(u),je.forEach(u),z=g(ce),w=o(ce,"DIV",{class:!0});var Je=f(w);B=o(Je,"SPAN",{class:!0,"data-svelte-h":!0}),L(B)!=="svelte-sqw889"&&(B.textContent=$),ue=g(Je),G=o(Je,"SPAN",{class:!0});var Ee=f(G);ve=N(Ee,Q),pe=N(Ee,"%"),Ee.forEach(u),Je.forEach(u),X=g(ce),q=o(ce,"DIV",{class:!0});var Se=f(q);y=o(Se,"SPAN",{class:!0,"data-svelte-h":!0}),L(y)!=="svelte-1uo5o5u"&&(y.textContent=O),D=g(Se),J=o(Se,"SPAN",{class:!0});var ot=f(J);T=N(ot,Z),M=N(ot,"%"),ot.forEach(u),Se.forEach(u),W=g(ce),ee=o(ce,"DIV",{class:!0});var Ke=f(ee);le=o(Ke,"SPAN",{class:!0,"data-svelte-h":!0}),L(le)!=="svelte-vuo93o"&&(le.textContent=me),he=g(Ke),ae=o(Ke,"SPAN",{class:!0});var Ne=f(ae);_e=N(Ne,ye),Ae=N(Ne,"%"),Ne.forEach(u),Ke.forEach(u),tt=g(ce),ke=o(ce,"DIV",{class:!0});var Fe=f(ke);oe=o(Fe,"SPAN",{class:!0,"data-svelte-h":!0}),L(oe)!=="svelte-z9t95r"&&(oe.textContent=Ge),Le=g(Fe),Pe=o(Fe,"SPAN",{class:!0});var et=f(Pe);ge=N(et,de),et.forEach(u),Fe.forEach(u),ce.forEach(u),Ce.forEach(u),lt=g(F),re=o(F,"DIV",{class:!0});var we=f(re);se=o(we,"H4",{class:!0,"data-svelte-h":!0}),L(se)!=="svelte-1svoycg"&&(se.textContent=Me),Ue=g(we),De=o(we,"P",{class:!0});var it=f(De);te=N(it,Be),it.forEach(u),Ie=g(we),Y&&Y.l(we),we.forEach(u),st=g(F),be=o(F,"DIV",{class:!0});var ze=f(be);ne=o(ze,"STRONG",{"data-svelte-h":!0}),L(ne)!=="svelte-1ri8yc2"&&(ne.textContent=Ve),nt=g(ze),xe=N(ze,Oe),ze.forEach(u),F.forEach(u),this.h()},h:function(){i(k,"class","score-value svelte-19llkxn"),ct(k,"color",Dt(n[12].result.score.total)),a(k,c,269,18,6472),i(m,"class","grade svelte-19llkxn"),ct(m,"color",Vt(n[12].result.score.grade)),a(m,c,275,18,6718),i(v,"class","total-score svelte-19llkxn"),a(v,c,268,16,6428),i(A,"class","label svelte-19llkxn"),a(A,c,286,20,7120),i(E,"class","value svelte-19llkxn"),a(E,c,287,20,7173),i(V,"class","component svelte-19llkxn"),a(V,c,285,18,7076),i(B,"class","label svelte-19llkxn"),a(B,c,290,20,7339),i(G,"class","value svelte-19llkxn"),a(G,c,291,20,7392),i(w,"class","component svelte-19llkxn"),a(w,c,289,18,7295),i(y,"class","label svelte-19llkxn"),a(y,c,294,20,7561),i(J,"class","value svelte-19llkxn"),a(J,c,295,20,7615),i(q,"class","component svelte-19llkxn"),a(q,c,293,18,7517),i(le,"class","label svelte-19llkxn"),a(le,c,298,20,7783),i(ae,"class","value svelte-19llkxn"),a(ae,c,299,20,7837),i(ee,"class","component svelte-19llkxn"),a(ee,c,297,18,7739),i(oe,"class","label svelte-19llkxn"),a(oe,c,302,20,8007),i(Pe,"class","value svelte-19llkxn"),a(Pe,c,303,20,8059),i(ke,"class","component svelte-19llkxn"),a(ke,c,301,18,7963),i(I,"class","component-scores svelte-19llkxn"),a(I,c,284,16,7027),i(l,"class","score-display svelte-19llkxn"),a(l,c,267,14,6384),i(se,"class","svelte-19llkxn"),a(se,c,312,16,8418),i(De,"class","primary-feedback svelte-19llkxn"),a(De,c,313,16,8454),i(re,"class","feedback svelte-19llkxn"),a(re,c,311,14,8379),a(ne,c,335,16,9481),i(be,"class","expectation svelte-19llkxn"),a(be,c,334,14,9439),i(t,"class","result-content svelte-19llkxn"),a(t,c,265,12,6312)},m:function(K,F){Re(K,t,F),e(t,l),e(l,v),e(v,k),e(k,d),e(v,p),e(v,m),e(m,_),e(l,h),e(l,I),e(I,V),e(V,A),e(V,R),e(V,E),e(E,S),e(E,U),e(I,z),e(I,w),e(w,B),e(w,ue),e(w,G),e(G,ve),e(G,pe),e(I,X),e(I,q),e(q,y),e(q,D),e(q,J),e(J,T),e(J,M),e(I,W),e(I,ee),e(ee,le),e(ee,he),e(ee,ae),e(ae,_e),e(ae,Ae),e(I,tt),e(I,ke),e(ke,oe),e(ke,Le),e(ke,Pe),e(Pe,ge),e(t,lt),e(t,re),e(re,se),e(re,Ue),e(re,De),e(De,te),e(re,Ie),Y&&Y.m(re,null),e(t,st),e(t,be),e(be,ne),e(be,nt),e(be,xe)},p:function(K,F){F&4&&x!==(x=K[12].result.score.total+"")&&H(d,x),F&4&&ct(k,"color",Dt(K[12].result.score.total)),F&4&&C!==(C=K[12].result.score.grade+"")&&H(_,C),F&4&&ct(m,"color",Vt(K[12].result.score.grade)),F&4&&s!==(s=K[12].result.score.components.pitchAccuracy+"")&&H(S,s),F&4&&Q!==(Q=K[12].result.score.components.recognitionSpeed+"")&&H(ve,Q),F&4&&Z!==(Z=K[12].result.score.components.intervalMastery+"")&&H(T,Z),F&4&&ye!==(ye=K[12].result.score.components.directionAccuracy+"")&&H(_e,ye),F&4&&de!==(de=K[12].result.score.components.consistency===0?"ãƒ‡ãƒ¼ã‚¿ä¸è¶³":`${K[12].result.score.components.consistency}%`)&&H(ge,de),F&4&&Be!==(Be=K[12].result.feedback.primary+"")&&H(te,Be),K[12].result.feedback.detailed?Y?Y.p(K,F):(Y=At(K),Y.c(),Y.m(re,null)):Y&&(Y.d(1),Y=null),F&4&&Oe!==(Oe=K[12].expected+"")&&H(xe,Oe)},d:function(K){K&&u(t),Y&&Y.d()}};return qe("SvelteRegisterBlock",{block:Ye,id:Jt.name,type:"else",source:"(265:10) {:else}",ctx:n}),Ye}function Kt(n){let t,l,v=n[12].error+"",k;const x={c:function(){t=r("div"),l=P("âŒ ã‚¨ãƒ©ãƒ¼: "),k=P(v),this.h()},l:function(p){t=o(p,"DIV",{class:!0});var m=f(t);l=N(m,"âŒ ã‚¨ãƒ©ãƒ¼: "),k=N(m,v),m.forEach(u),this.h()},h:function(){i(t,"class","error svelte-19llkxn"),a(t,c,261,12,6203)},m:function(p,m){Re(p,t,m),e(t,l),e(t,k)},p:function(p,m){m&4&&v!==(v=p[12].error+"")&&H(k,v)},d:function(p){p&&u(t)}};return qe("SvelteRegisterBlock",{block:x,id:Kt.name,type:"if",source:"(261:10) {#if testResult.error}",ctx:n}),x}function At(n){let t,l,v,k="éŸ³ç¨‹:",x,d=n[12].result.feedback.detailed.interval+"",p,m,C,_,h="æ–¹å‘æ€§:",I,V=n[12].result.feedback.detailed.direction+"",A,j,R,E,s="ä¸€è²«æ€§:",S,U=n[12].result.feedback.detailed.consistency+"",z,w,B,$,ue="é€Ÿåº¦:",G,Q=n[12].result.feedback.detailed.speed+"",ve;const pe={c:function(){t=r("div"),l=r("div"),v=r("strong"),v.textContent=k,x=b(),p=P(d),m=b(),C=r("div"),_=r("strong"),_.textContent=h,I=b(),A=P(V),j=b(),R=r("div"),E=r("strong"),E.textContent=s,S=b(),z=P(U),w=b(),B=r("div"),$=r("strong"),$.textContent=ue,G=b(),ve=P(Q),this.h()},l:function(q){t=o(q,"DIV",{class:!0});var y=f(t);l=o(y,"DIV",{class:!0});var O=f(l);v=o(O,"STRONG",{"data-svelte-h":!0}),L(v)!=="svelte-677z0q"&&(v.textContent=k),x=g(O),p=N(O,d),O.forEach(u),m=g(y),C=o(y,"DIV",{class:!0});var D=f(C);_=o(D,"STRONG",{"data-svelte-h":!0}),L(_)!=="svelte-8yvkz3"&&(_.textContent=h),I=g(D),A=N(D,V),D.forEach(u),j=g(y),R=o(y,"DIV",{class:!0});var J=f(R);E=o(J,"STRONG",{"data-svelte-h":!0}),L(E)!=="svelte-x7tjto"&&(E.textContent=s),S=g(J),z=N(J,U),J.forEach(u),w=g(y),B=o(y,"DIV",{class:!0});var Z=f(B);$=o(Z,"STRONG",{"data-svelte-h":!0}),L($)!=="svelte-xkjonl"&&($.textContent=ue),G=g(Z),ve=N(Z,Q),Z.forEach(u),y.forEach(u),this.h()},h:function(){a(v,c,318,22,8718),i(l,"class","feedback-item svelte-19llkxn"),a(l,c,317,20,8668),a(_,c,321,22,8883),i(C,"class","feedback-item svelte-19llkxn"),a(C,c,320,20,8833),a(E,c,324,22,9050),i(R,"class","feedback-item svelte-19llkxn"),a(R,c,323,20,9e3),a($,c,327,22,9219),i(B,"class","feedback-item svelte-19llkxn"),a(B,c,326,20,9169),i(t,"class","detailed-feedback svelte-19llkxn"),a(t,c,316,18,8616)},m:function(q,y){Re(q,t,y),e(t,l),e(l,v),e(l,x),e(l,p),e(t,m),e(t,C),e(C,_),e(C,I),e(C,A),e(t,j),e(t,R),e(R,E),e(R,S),e(R,z),e(t,w),e(t,B),e(B,$),e(B,G),e(B,ve)},p:function(q,y){y&4&&d!==(d=q[12].result.feedback.detailed.interval+"")&&H(p,d),y&4&&V!==(V=q[12].result.feedback.detailed.direction+"")&&H(A,V),y&4&&U!==(U=q[12].result.feedback.detailed.consistency+"")&&H(z,U),y&4&&Q!==(Q=q[12].result.feedback.detailed.speed+"")&&H(ve,Q)},d:function(q){q&&u(t)}};return qe("SvelteRegisterBlock",{block:pe,id:At.name,type:"if",source:"(316:16) {#if testResult.result.feedback.detailed}",ctx:n}),pe}function It(n){let t,l,v,k=n[12].scenario+"",x,d,p,m=n[12].timestamp+"",C,_,h;function I(R,E){return R[12].error?Kt:Jt}let V=I(n),A=V(n);const j={c:function(){t=r("div"),l=r("div"),v=r("h3"),x=P(k),d=b(),p=r("span"),C=P(m),_=b(),A.c(),h=b(),this.h()},l:function(E){t=o(E,"DIV",{class:!0});var s=f(t);l=o(s,"DIV",{class:!0});var S=f(l);v=o(S,"H3",{class:!0});var U=f(v);x=N(U,k),U.forEach(u),d=g(S),p=o(S,"SPAN",{class:!0});var z=f(p);C=N(z,m),z.forEach(u),S.forEach(u),_=g(s),A.l(s),h=g(s),s.forEach(u),this.h()},h:function(){i(v,"class","svelte-19llkxn"),a(v,c,256,12,6033),i(p,"class","timestamp svelte-19llkxn"),a(p,c,257,12,6076),i(l,"class","result-header svelte-19llkxn"),a(l,c,255,10,5993),i(t,"class","result-card svelte-19llkxn"),a(t,c,254,8,5957)},m:function(E,s){Re(E,t,s),e(t,l),e(l,v),e(v,x),e(l,d),e(l,p),e(p,C),e(t,_),A.m(t,null),e(t,h)},p:function(E,s){s&4&&k!==(k=E[12].scenario+"")&&H(x,k),s&4&&m!==(m=E[12].timestamp+"")&&H(C,m),V===(V=I(E))&&A?A.p(E,s):(A.d(1),A=V(E),A&&(A.c(),A.m(t,h)))},d:function(E){E&&u(t),A.d()}};return qe("SvelteRegisterBlock",{block:j,id:It.name,type:"each",source:"(254:6) {#each testResults as testResult, index}",ctx:n}),j}function Nt(n){let t,l,v="ğŸ“Š ã‚¨ãƒ³ã‚¸ãƒ³çµ±è¨ˆ",k,x,d,p,m="ã‚»ãƒƒã‚·ãƒ§ãƒ³æƒ…å ±",C,_,h,I="ç·è©¦è¡Œå›æ•°:",V,A,j=n[5].session.totalAttempts+"",R,E,s,S,U="å¹³å‡ã‚¹ã‚³ã‚¢:",z,w,B=n[5].session.overallScore.toFixed(1)+"",$,ue,G,Q,ve="ç¾åœ¨ãƒ¬ãƒ™ãƒ«:",pe,X,q=n[5].session.currentLevel+"",y,O,D,J,Z="ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹",T,M,W,ee="å¹³å‡é€Ÿåº¦:",le,me,he=n[5].performance.averageSpeed.toFixed(1)+"",ae,ye,_e,Ae,tt="ç²¾åº¦ãƒˆãƒ¬ãƒ³ãƒ‰:",ke,oe,Ge=n[5].performance.accuracyTrend+"",Le,Pe,de,ge,lt="ã‚»ãƒƒã‚·ãƒ§ãƒ³é€²æ—:",re,se,Me=n[5].performance.sessionProgress+"",Ue,De,Be,te,Ie,st="åˆ†æå™¨çµ±è¨ˆ",be,ne,Ve,nt="éŸ³ç¨‹åˆ†æ:",Oe,xe,Y=n[5].analyzers.interval.totalAnalyses+"",Ye,He,K,F,Ce,Ze="æ–¹å‘æ€§åˆ†æ:",at,Te,ce=n[5].analyzers.direction.totalAnalyses+"",je,$e,Je,Ee,Se,ot="ä¸€è²«æ€§è¿½è·¡:",Ke,Ne,Fe=n[5].analyzers.consistency.totalAttempts+"",et,we;const it={c:function(){t=r("section"),l=r("h2"),l.textContent=v,k=b(),x=r("div"),d=r("div"),p=r("h3"),p.textContent=m,C=b(),_=r("div"),h=r("span"),h.textContent=I,V=b(),A=r("span"),R=P(j),E=b(),s=r("div"),S=r("span"),S.textContent=U,z=b(),w=r("span"),$=P(B),ue=b(),G=r("div"),Q=r("span"),Q.textContent=ve,pe=b(),X=r("span"),y=P(q),O=b(),D=r("div"),J=r("h3"),J.textContent=Z,T=b(),M=r("div"),W=r("span"),W.textContent=ee,le=b(),me=r("span"),ae=P(he),ye=b(),_e=r("div"),Ae=r("span"),Ae.textContent=tt,ke=b(),oe=r("span"),Le=P(Ge),Pe=b(),de=r("div"),ge=r("span"),ge.textContent=lt,re=b(),se=r("span"),Ue=P(Me),De=P("%"),Be=b(),te=r("div"),Ie=r("h3"),Ie.textContent=st,be=b(),ne=r("div"),Ve=r("span"),Ve.textContent=nt,Oe=b(),xe=r("span"),Ye=P(Y),He=P("å›"),K=b(),F=r("div"),Ce=r("span"),Ce.textContent=Ze,at=b(),Te=r("span"),je=P(ce),$e=P("å›"),Je=b(),Ee=r("div"),Se=r("span"),Se.textContent=ot,Ke=b(),Ne=r("span"),et=P(Fe),we=P("å›"),this.h()},l:function(fe){t=o(fe,"SECTION",{class:!0});var ie=f(t);l=o(ie,"H2",{class:!0,"data-svelte-h":!0}),L(l)!=="svelte-bgef1u"&&(l.textContent=v),k=g(ie),x=o(ie,"DIV",{class:!0});var rt=f(x);d=o(rt,"DIV",{class:!0});var Qe=f(d);p=o(Qe,"H3",{class:!0,"data-svelte-h":!0}),L(p)!=="svelte-17emse7"&&(p.textContent=m),C=g(Qe),_=o(Qe,"DIV",{class:!0});var ut=f(_);h=o(ut,"SPAN",{class:!0,"data-svelte-h":!0}),L(h)!=="svelte-yy8w1i"&&(h.textContent=I),V=g(ut),A=o(ut,"SPAN",{class:!0});var Tt=f(A);R=N(Tt,j),Tt.forEach(u),ut.forEach(u),E=g(Qe),s=o(Qe,"DIV",{class:!0});var vt=f(s);S=o(vt,"SPAN",{class:!0,"data-svelte-h":!0}),L(S)!=="svelte-1yupbzd"&&(S.textContent=U),z=g(vt),w=o(vt,"SPAN",{class:!0});var Rt=f(w);$=N(Rt,B),Rt.forEach(u),vt.forEach(u),ue=g(Qe),G=o(Qe,"DIV",{class:!0});var dt=f(G);Q=o(dt,"SPAN",{class:!0,"data-svelte-h":!0}),L(Q)!=="svelte-1lwfu5j"&&(Q.textContent=ve),pe=g(dt),X=o(dt,"SPAN",{class:!0});var qt=f(X);y=N(qt,q),qt.forEach(u),dt.forEach(u),Qe.forEach(u),O=g(rt),D=o(rt,"DIV",{class:!0});var We=f(D);J=o(We,"H3",{class:!0,"data-svelte-h":!0}),L(J)!=="svelte-1x0fmtr"&&(J.textContent=Z),T=g(We),M=o(We,"DIV",{class:!0});var ft=f(M);W=o(ft,"SPAN",{class:!0,"data-svelte-h":!0}),L(W)!=="svelte-16r563u"&&(W.textContent=ee),le=g(ft),me=o(ft,"SPAN",{class:!0});var Ft=f(me);ae=N(Ft,he),Ft.forEach(u),ft.forEach(u),ye=g(We),_e=o(We,"DIV",{class:!0});var ht=f(_e);Ae=o(ht,"SPAN",{class:!0,"data-svelte-h":!0}),L(Ae)!=="svelte-1hjadvd"&&(Ae.textContent=tt),ke=g(ht),oe=o(ht,"SPAN",{class:!0});var wt=f(oe);Le=N(wt,Ge),wt.forEach(u),ht.forEach(u),Pe=g(We),de=o(We,"DIV",{class:!0});var _t=f(de);ge=o(_t,"SPAN",{class:!0,"data-svelte-h":!0}),L(ge)!=="svelte-kq0n13"&&(ge.textContent=lt),re=g(_t),se=o(_t,"SPAN",{class:!0});var bt=f(se);Ue=N(bt,Me),De=N(bt,"%"),bt.forEach(u),_t.forEach(u),We.forEach(u),Be=g(rt),te=o(rt,"DIV",{class:!0});var Xe=f(te);Ie=o(Xe,"H3",{class:!0,"data-svelte-h":!0}),L(Ie)!=="svelte-bwiav"&&(Ie.textContent=st),be=g(Xe),ne=o(Xe,"DIV",{class:!0});var pt=f(ne);Ve=o(pt,"SPAN",{class:!0,"data-svelte-h":!0}),L(Ve)!=="svelte-1q5z8h"&&(Ve.textContent=nt),Oe=g(pt),xe=o(pt,"SPAN",{class:!0});var xt=f(xe);Ye=N(xt,Y),He=N(xt,"å›"),xt.forEach(u),pt.forEach(u),K=g(Xe),F=o(Xe,"DIV",{class:!0});var mt=f(F);Ce=o(mt,"SPAN",{class:!0,"data-svelte-h":!0}),L(Ce)!=="svelte-xcx73y"&&(Ce.textContent=Ze),at=g(mt),Te=o(mt,"SPAN",{class:!0});var Ct=f(Te);je=N(Ct,ce),$e=N(Ct,"å›"),Ct.forEach(u),mt.forEach(u),Je=g(Xe),Ee=o(Xe,"DIV",{class:!0});var kt=f(Ee);Se=o(kt,"SPAN",{class:!0,"data-svelte-h":!0}),L(Se)!=="svelte-u6xg0h"&&(Se.textContent=ot),Ke=g(kt),Ne=o(kt,"SPAN",{class:!0});var Et=f(Ne);et=N(Et,Fe),we=N(Et,"å›"),Et.forEach(u),kt.forEach(u),Xe.forEach(u),rt.forEach(u),ie.forEach(u),this.h()},h:function(){i(l,"class","svelte-19llkxn"),a(l,c,347,6,9709),i(p,"class","svelte-19llkxn"),a(p,c,351,10,9808),i(h,"class","label svelte-19llkxn"),a(h,c,353,12,9871),i(A,"class","value svelte-19llkxn"),a(A,c,354,12,9917),i(_,"class","stat-item svelte-19llkxn"),a(_,c,352,10,9835),i(S,"class","label svelte-19llkxn"),a(S,c,357,12,10043),i(w,"class","value svelte-19llkxn"),a(w,c,358,12,10089),i(s,"class","stat-item svelte-19llkxn"),a(s,c,356,10,10007),i(Q,"class","label svelte-19llkxn"),a(Q,c,361,12,10225),i(X,"class","value svelte-19llkxn"),a(X,c,362,12,10271),i(G,"class","stat-item svelte-19llkxn"),a(G,c,360,10,10189),i(d,"class","stat-card svelte-19llkxn"),a(d,c,350,8,9774),i(J,"class","svelte-19llkxn"),a(J,c,367,10,10416),i(W,"class","label svelte-19llkxn"),a(W,c,369,12,10479),i(me,"class","value svelte-19llkxn"),a(me,c,370,12,10524),i(M,"class","stat-item svelte-19llkxn"),a(M,c,368,10,10443),i(Ae,"class","label svelte-19llkxn"),a(Ae,c,373,12,10664),i(oe,"class","value svelte-19llkxn"),a(oe,c,374,12,10711),i(_e,"class","stat-item svelte-19llkxn"),a(_e,c,372,10,10628),i(ge,"class","label svelte-19llkxn"),a(ge,c,377,12,10841),i(se,"class","value svelte-19llkxn"),a(se,c,378,12,10889),i(de,"class","stat-item svelte-19llkxn"),a(de,c,376,10,10805),i(D,"class","stat-card svelte-19llkxn"),a(D,c,366,8,10382),i(Ie,"class","svelte-19llkxn"),a(Ie,c,383,10,11042),i(Ve,"class","label svelte-19llkxn"),a(Ve,c,385,12,11103),i(xe,"class","value svelte-19llkxn"),a(xe,c,386,12,11148),i(ne,"class","stat-item svelte-19llkxn"),a(ne,c,384,10,11067),i(Ce,"class","label svelte-19llkxn"),a(Ce,c,389,12,11286),i(Te,"class","value svelte-19llkxn"),a(Te,c,390,12,11332),i(F,"class","stat-item svelte-19llkxn"),a(F,c,388,10,11250),i(Se,"class","label svelte-19llkxn"),a(Se,c,393,12,11471),i(Ne,"class","value svelte-19llkxn"),a(Ne,c,394,12,11517),i(Ee,"class","stat-item svelte-19llkxn"),a(Ee,c,392,10,11435),i(te,"class","stat-card svelte-19llkxn"),a(te,c,382,8,11008),i(x,"class","stats-grid svelte-19llkxn"),a(x,c,349,6,9741),i(t,"class","statistics svelte-19llkxn"),a(t,c,346,4,9674)},m:function(fe,ie){Re(fe,t,ie),e(t,l),e(t,k),e(t,x),e(x,d),e(d,p),e(d,C),e(d,_),e(_,h),e(_,V),e(_,A),e(A,R),e(d,E),e(d,s),e(s,S),e(s,z),e(s,w),e(w,$),e(d,ue),e(d,G),e(G,Q),e(G,pe),e(G,X),e(X,y),e(x,O),e(x,D),e(D,J),e(D,T),e(D,M),e(M,W),e(M,le),e(M,me),e(me,ae),e(D,ye),e(D,_e),e(_e,Ae),e(_e,ke),e(_e,oe),e(oe,Le),e(D,Pe),e(D,de),e(de,ge),e(de,re),e(de,se),e(se,Ue),e(se,De),e(x,Be),e(x,te),e(te,Ie),e(te,be),e(te,ne),e(ne,Ve),e(ne,Oe),e(ne,xe),e(xe,Ye),e(xe,He),e(te,K),e(te,F),e(F,Ce),e(F,at),e(F,Te),e(Te,je),e(Te,$e),e(te,Je),e(te,Ee),e(Ee,Se),e(Ee,Ke),e(Ee,Ne),e(Ne,et),e(Ne,we)},p:function(fe,ie){ie&32&&j!==(j=fe[5].session.totalAttempts+"")&&H(R,j),ie&32&&B!==(B=fe[5].session.overallScore.toFixed(1)+"")&&H($,B),ie&32&&q!==(q=fe[5].session.currentLevel+"")&&H(y,q),ie&32&&he!==(he=fe[5].performance.averageSpeed.toFixed(1)+"")&&H(ae,he),ie&32&&Ge!==(Ge=fe[5].performance.accuracyTrend+"")&&H(Le,Ge),ie&32&&Me!==(Me=fe[5].performance.sessionProgress+"")&&H(Ue,Me),ie&32&&Y!==(Y=fe[5].analyzers.interval.totalAnalyses+"")&&H(Ye,Y),ie&32&&ce!==(ce=fe[5].analyzers.direction.totalAnalyses+"")&&H(je,ce),ie&32&&Fe!==(Fe=fe[5].analyzers.consistency.totalAttempts+"")&&H(et,Fe)},d:function(fe){fe&&u(t)}};return qe("SvelteRegisterBlock",{block:it,id:Nt.name,type:"if",source:"(346:2) {#if engineStats}",ctx:n}),it}function Pt(n){let t,l,v,k,x="ğŸ¯ Enhanced Scoring Engine",d,p,m="çµ±åˆæ¡ç‚¹ã‚¨ãƒ³ã‚¸ãƒ³ã®ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸",C,_,h,I,V,A=n[0]?"æº–å‚™å®Œäº†":"åˆæœŸåŒ–ä¸­...",j,R,E,s,S,U,z,w,B,$,ue,G,Q,ve;function pe(Z,T){return Z[3]?Ut:Mt}let X=pe(n),q=X(n),y=n[3]&&n[1]&&St(n),O=n[2].length>0&&yt(n),D=n[5]&&Nt(n);const J={c:function(){t=b(),l=r("div"),v=r("header"),k=r("h1"),k.textContent=x,d=b(),p=r("p"),p.textContent=m,C=b(),_=r("div"),h=r("span"),I=b(),V=r("span"),j=P(A),R=b(),E=r("section"),s=r("button"),q.c(),U=b(),z=r("button"),w=P("ğŸ”„ ãƒªã‚»ãƒƒãƒˆ"),$=b(),y&&y.c(),ue=b(),O&&O.c(),G=b(),D&&D.c(),this.h()},l:function(T){$t("svelte-pwq006",document.head).forEach(u),t=g(T),l=o(T,"DIV",{class:!0});var W=f(l);v=o(W,"HEADER",{class:!0});var ee=f(v);k=o(ee,"H1",{class:!0,"data-svelte-h":!0}),L(k)!=="svelte-f90z2e"&&(k.textContent=x),d=g(ee),p=o(ee,"P",{class:!0,"data-svelte-h":!0}),L(p)!=="svelte-10mru30"&&(p.textContent=m),C=g(ee),_=o(ee,"DIV",{class:!0});var le=f(_);h=o(le,"SPAN",{class:!0}),f(h).forEach(u),I=g(le),V=o(le,"SPAN",{});var me=f(V);j=N(me,A),me.forEach(u),le.forEach(u),ee.forEach(u),R=g(W),E=o(W,"SECTION",{class:!0});var he=f(E);s=o(he,"BUTTON",{class:!0});var ae=f(s);q.l(ae),ae.forEach(u),U=g(he),z=o(he,"BUTTON",{class:!0});var ye=f(z);w=N(ye,"ğŸ”„ ãƒªã‚»ãƒƒãƒˆ"),ye.forEach(u),he.forEach(u),$=g(W),y&&y.l(W),ue=g(W),O&&O.l(W),G=g(W),D&&D.l(W),W.forEach(u),this.h()},h:function(){document.title="Enhanced Scoring Engine - Test Page",i(k,"class","svelte-19llkxn"),a(k,c,206,4,4696),i(p,"class","svelte-19llkxn"),a(p,c,207,4,4736),i(h,"class","status-indicator svelte-19llkxn"),gt(h,"ready",n[0]),gt(h,"error",!n[0]),a(h,c,209,6,4790),a(V,c,210,6,4892),i(_,"class","status svelte-19llkxn"),a(_,c,208,4,4763),i(v,"class","header svelte-19llkxn"),a(v,c,205,2,4668),i(s,"class","btn btn-primary svelte-19llkxn"),s.disabled=S=!n[0]||n[3],a(s,c,216,4,5020),i(z,"class","btn btn-secondary svelte-19llkxn"),z.disabled=B=!n[0]||n[3],a(z,c,228,4,5251),i(E,"class","controls svelte-19llkxn"),a(E,c,215,2,4989),i(l,"class","container svelte-19llkxn"),a(l,c,204,0,4642)},m:function(T,M){Re(T,t,M),Re(T,l,M),e(l,v),e(v,k),e(v,d),e(v,p),e(v,C),e(v,_),e(_,h),e(_,I),e(_,V),e(V,j),e(l,R),e(l,E),e(E,s),q.m(s,null),e(E,U),e(E,z),e(z,w),e(l,$),y&&y.m(l,null),e(l,ue),O&&O.m(l,null),e(l,G),D&&D.m(l,null),Q||(ve=[jt(s,"click",n[7],!1,!1,!1),jt(z,"click",n[8],!1,!1,!1)],Q=!0)},p:function(T,[M]){M&1&&gt(h,"ready",T[0]),M&1&&gt(h,"error",!T[0]),M&1&&A!==(A=T[0]?"æº–å‚™å®Œäº†":"åˆæœŸåŒ–ä¸­...")&&H(j,A),X!==(X=pe(T))&&(q.d(1),q=X(T),q&&(q.c(),q.m(s,null))),M&9&&S!==(S=!T[0]||T[3])&&Ht(s,"disabled",S),M&9&&B!==(B=!T[0]||T[3])&&Ht(z,"disabled",B),T[3]&&T[1]?y?y.p(T,M):(y=St(T),y.c(),y.m(l,ue)):y&&(y.d(1),y=null),T[2].length>0?O?O.p(T,M):(O=yt(T),O.c(),O.m(l,G)):O&&(O.d(1),O=null),T[5]?D?D.p(T,M):(D=Nt(T),D.c(),D.m(l,null)):D&&(D.d(1),D=null)},i:zt,o:zt,d:function(T){T&&(u(t),u(l)),q.d(),y&&y.d(),O&&O.d(),D&&D.d(),Q=!1,Zt(ve)}};return qe("SvelteRegisterBlock",{block:J,id:Pt.name,type:"component",source:"",ctx:n}),J}function Dt(n){return n>=90?"#10b981":n>=80?"#3b82f6":n>=70?"#f59e0b":n>=60?"#f97316":"#ef4444"}function Vt(n){return["S","A+","A"].includes(n)?"#10b981":["B+","B"].includes(n)?"#3b82f6":["C+","C"].includes(n)?"#f59e0b":["D+","D"].includes(n)?"#f97316":"#ef4444"}function sl(n,t,l){let{$$slots:v={},$$scope:k}=t;Yt("Page",v,[]);let x=null,d=!1,p=[{name:"å®Œç’§ãªé•·3åº¦èªè­˜",baseFreq:440,targetFreq:554.37,detectedFreq:554.37,responseTime:800,volume:60,expected:"é«˜å¾—ç‚¹"},{name:"ã‚„ã‚„ä¸æ­£ç¢ºãªå®Œå…¨5åº¦",baseFreq:261.63,targetFreq:392,detectedFreq:385,responseTime:1500,volume:50,expected:"ä¸­ç¨‹åº¦ã®å¾—ç‚¹"},{name:"é…ã„åå¿œã§ã®çŸ­2åº¦",baseFreq:293.66,targetFreq:311.13,detectedFreq:315,responseTime:4e3,volume:45,expected:"é€Ÿåº¦æ¸›ç‚¹ã‚ã‚Š"},{name:"æ–¹å‘æ€§é–“é•ã„",baseFreq:349.23,targetFreq:293.66,detectedFreq:415.3,responseTime:2200,volume:65,expected:"æ–¹å‘æ€§ã‚¨ãƒ©ãƒ¼"}],m=null,C=[],_=!1,h=0,I=null;Bt(()=>{V()});function V(){try{x=new Gt({weights:{pitchAccuracy:.4,recognitionSpeed:.2,intervalMastery:.2,directionAccuracy:.1,consistency:.1},speedThresholds:{excellent:1e3,good:2e3,fair:3e3,poor:5e3}}),l(0,d=!0),console.log("âœ… EnhancedScoringEngineåˆæœŸåŒ–å®Œäº†")}catch(s){console.error("âŒ EnhancedScoringEngineåˆæœŸåŒ–ã‚¨ãƒ©ãƒ¼:",s)}}async function A(s){if(!d)return console.error("æ¡ç‚¹ã‚¨ãƒ³ã‚¸ãƒ³ãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã¾ã›ã‚“"),null;try{console.log(`ğŸ§ª ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ: ${s.name}`);const S=await x.analyzePerformance({baseFreq:s.baseFreq,targetFreq:s.targetFreq,detectedFreq:s.detectedFreq,responseTime:s.responseTime,volume:s.volume,harmonicCorrection:null});return{scenario:s.name,expected:s.expected,result:S,timestamp:new Date().toLocaleTimeString()}}catch(S){return console.error("âŒ ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚¨ãƒ©ãƒ¼:",S),{scenario:s.name,expected:s.expected,error:S.message,timestamp:new Date().toLocaleTimeString()}}}async function j(){if(!d){alert("æ¡ç‚¹ã‚¨ãƒ³ã‚¸ãƒ³ãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã¾ã›ã‚“");return}l(3,_=!0),l(2,C=[]),l(1,m=null),l(4,h=0);for(let s=0;s<p.length;s++){l(4,h=s),l(1,m=p[s]),await new Promise(U=>setTimeout(U,500));const S=await A(p[s]);S&&l(2,C=[...C,S])}l(3,_=!1),l(1,m=null),l(5,I=x.getStatistics()),console.log("âœ… å…¨ãƒ†ã‚¹ãƒˆå®Œäº†")}function R(){x&&(x.reset(),l(2,C=[]),l(5,I=null),console.log("ğŸ”„ ã‚¨ãƒ³ã‚¸ãƒ³ãƒªã‚»ãƒƒãƒˆå®Œäº†"))}const E=[];return Object.keys(t).forEach(s=>{!~E.indexOf(s)&&s.slice(0,2)!=="$$"&&s!=="slot"&&ll.warn(`<Page> was created with unknown prop '${s}'`)}),n.$capture_state=()=>({onMount:Bt,EnhancedScoringEngine:Gt,scoringEngine:x,isInitialized:d,testScenarios:p,currentTest:m,testResults:C,isRunning:_,currentScenarioIndex:h,engineStats:I,initializeScoringEngine:V,runSingleTest:A,runAllTests:j,resetEngine:R,getScoreColor:Dt,getGradeColor:Vt}),n.$inject_state=s=>{"scoringEngine"in s&&(x=s.scoringEngine),"isInitialized"in s&&l(0,d=s.isInitialized),"testScenarios"in s&&l(6,p=s.testScenarios),"currentTest"in s&&l(1,m=s.currentTest),"testResults"in s&&l(2,C=s.testResults),"isRunning"in s&&l(3,_=s.isRunning),"currentScenarioIndex"in s&&l(4,h=s.currentScenarioIndex),"engineStats"in s&&l(5,I=s.engineStats)},t&&"$$inject"in t&&n.$inject_state(t.$$inject),[d,m,C,_,h,I,p,j,R]}class cl extends Qt{constructor(t){super(t),Wt(this,t,sl,Pt,Xt,{}),qe("SvelteRegisterComponent",{component:this,tagName:"Page",options:t,id:Pt.name})}}export{cl as component};
