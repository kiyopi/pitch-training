import{S as O,i as U,s as K,d as g,C as A,m as S,o as B,b as P,D as F,H as J,h as $,E as z,k as T,F as G,L as Q,p as R,q as W,c as i,y as d,e as f,f as V,G as x,j as p,n as w,A as N}from"../chunks/CJUHymq1.js";import"../chunks/IHki7fMi.js";import{g as q,b as j}from"../chunks/DxVs5PO_.js";import{P as X}from"../chunks/DqnuPPYK.js";import{T as Y}from"../chunks/CcP80-oU.js";function Z(m){let e,t;return e=new Y({props:{mode:"continuous",autoPlay:!0,sessionCount:8,useLocalStorage:!0,sessionKey:"continuous-training-progress",onMicrophoneError:m[2],onStorageError:le,onSessionComplete:ae,onAllComplete:ie}}),{c(){G(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,l){F(e,n,l),t=!0},p:w,i(n){t||(B(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function ee(m){let e,t,n,l='<div class="challenge-icon svelte-3i7984">⚡</div>',a,s,o,b="連続チャレンジモード",h,u,r=`<div class="feature-item svelte-3i7984"><div class="feature-icon svelte-3i7984">🎯</div> <div class="feature-text svelte-3i7984"><strong class="svelte-3i7984">8セッション連続</strong><br/>
                  途中で止まらない集中トレーニング</div></div> <div class="feature-item svelte-3i7984"><div class="feature-icon svelte-3i7984">🔥</div> <div class="feature-text svelte-3i7984"><strong class="svelte-3i7984">中級向け難易度</strong><br/>
                  より難しい基音での挑戦</div></div> <div class="feature-item svelte-3i7984"><div class="feature-icon svelte-3i7984">🚀</div> <div class="feature-text svelte-3i7984"><strong class="svelte-3i7984">自動進行</strong><br/>
                  セッション完了後に自動で次へ</div></div>`,v,c,H='<h3 class="svelte-3i7984">🎼 使用基音（中級レベル）</h3> <div class="base-notes-grid svelte-3i7984"><span class="base-note svelte-3i7984">Bb3</span> <span class="base-note svelte-3i7984">B3</span> <span class="base-note svelte-3i7984">Db4</span> <span class="base-note svelte-3i7984">Eb4</span> <span class="base-note svelte-3i7984">F#4</span> <span class="base-note svelte-3i7984">G#4</span> <span class="base-note svelte-3i7984">Bb4</span> <span class="base-note svelte-3i7984">C#5</span> <span class="base-note svelte-3i7984">Eb5</span> <span class="base-note svelte-3i7984">F#5</span></div>',I,C,k="🔥 チャレンジ開始！",E,y;return{c(){e=p("div"),t=p("div"),n=p("div"),n.innerHTML=l,a=T(),s=p("div"),o=p("h2"),o.textContent=b,h=T(),u=p("div"),u.innerHTML=r,v=T(),c=p("div"),c.innerHTML=H,I=T(),C=p("button"),C.textContent=k,this.h()},l(_){e=f(_,"DIV",{class:!0});var L=V(e);t=f(L,"DIV",{class:!0});var M=V(t);n=f(M,"DIV",{class:!0,"data-svelte-h":!0}),x(n)!=="svelte-13ksuac"&&(n.innerHTML=l),a=$(M),s=f(M,"DIV",{class:!0});var D=V(s);o=f(D,"H2",{class:!0,"data-svelte-h":!0}),x(o)!=="svelte-1je1qsu"&&(o.textContent=b),h=$(D),u=f(D,"DIV",{class:!0,"data-svelte-h":!0}),x(u)!=="svelte-1ew1nx5"&&(u.innerHTML=r),v=$(D),c=f(D,"DIV",{class:!0,"data-svelte-h":!0}),x(c)!=="svelte-9z8rw7"&&(c.innerHTML=H),I=$(D),C=f(D,"BUTTON",{class:!0,"data-svelte-h":!0}),x(C)!=="svelte-la0s3j"&&(C.textContent=k),D.forEach(g),M.forEach(g),L.forEach(g),this.h()},h(){d(n,"class","challenge-icon-wrapper svelte-3i7984"),d(o,"class","challenge-title svelte-3i7984"),d(u,"class","challenge-features svelte-3i7984"),d(c,"class","difficulty-info svelte-3i7984"),d(C,"class","start-challenge-button svelte-3i7984"),d(s,"class","challenge-content"),d(t,"class","challenge-card svelte-3i7984"),d(e,"class","start-screen svelte-3i7984")},m(_,L){P(_,e,L),i(e,t),i(t,n),i(t,a),i(t,s),i(s,o),i(s,h),i(s,u),i(s,v),i(s,c),i(s,I),i(s,C),E||(y=N(C,"click",m[3]),E=!0)},p:w,i:w,o:w,d(_){_&&g(e),E=!1,y()}}}function te(m){let e,t,n,l="⚠️",a,s,o,b="マイクテストが必要です",h,u,r="連続チャレンジを開始する前に、マイクの動作確認を行ってください。",v,c,H="マイクテストを開始",I,C;return{c(){e=p("div"),t=p("div"),n=p("div"),n.textContent=l,a=T(),s=p("div"),o=p("h3"),o.textContent=b,h=T(),u=p("p"),u.textContent=r,v=T(),c=p("button"),c.textContent=H,this.h()},l(k){e=f(k,"DIV",{class:!0});var E=V(e);t=f(E,"DIV",{class:!0});var y=V(t);n=f(y,"DIV",{class:!0,"data-svelte-h":!0}),x(n)!=="svelte-dwi5dc"&&(n.textContent=l),a=$(y),s=f(y,"DIV",{class:!0});var _=V(s);o=f(_,"H3",{class:!0,"data-svelte-h":!0}),x(o)!=="svelte-17kvze2"&&(o.textContent=b),h=$(_),u=f(_,"P",{class:!0,"data-svelte-h":!0}),x(u)!=="svelte-t9m3nr"&&(u.textContent=r),v=$(_),c=f(_,"BUTTON",{class:!0,"data-svelte-h":!0}),x(c)!=="svelte-18xr2xp"&&(c.textContent=H),_.forEach(g),y.forEach(g),E.forEach(g),this.h()},h(){d(n,"class","warning-icon svelte-3i7984"),d(o,"class","svelte-3i7984"),d(u,"class","svelte-3i7984"),d(c,"class","mic-test-button svelte-3i7984"),d(s,"class","warning-content svelte-3i7984"),d(t,"class","warning-card svelte-3i7984"),d(e,"class","mic-test-required svelte-3i7984")},m(k,E){P(k,e,E),i(e,t),i(t,n),i(t,a),i(t,s),i(s,o),i(s,h),i(s,u),i(s,v),i(s,c),I||(C=N(c,"click",m[4]),I=!0)},p:w,i:w,o:w,d(k){k&&g(e),I=!1,C()}}}function se(m){let e,t,n='<h1 class="page-title svelte-3i7984">⚡ 連続チャレンジモード</h1> <p class="page-description svelte-3i7984">中級者向け：より難しい基音で8セッション連続挑戦</p>',l,a,s,o;const b=[te,ee,Z],h=[];function u(r,v){return r[0]?r[1]?1:2:0}return a=u(m),s=h[a]=b[a](m),{c(){e=p("div"),t=p("div"),t.innerHTML=n,l=T(),s.c(),this.h()},l(r){e=f(r,"DIV",{class:!0});var v=V(e);t=f(v,"DIV",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-1la1yd9"&&(t.innerHTML=n),l=$(v),s.l(v),v.forEach(g),this.h()},h(){d(t,"class","page-header svelte-3i7984"),d(e,"class","continuous-training-page svelte-3i7984")},m(r,v){P(r,e,v),i(e,t),i(e,l),h[a].m(e,null),o=!0},p(r,v){let c=a;a=u(r),a===c?h[a].p(r,v):(R(),S(h[c],1,1,()=>{h[c]=null}),W(),s=h[a],s?s.p(r,v):(s=h[a]=b[a](r),s.c()),B(s,1),s.m(e,null))},i(r){o||(B(s),o=!0)},o(r){S(s),o=!1},d(r){r&&g(e),h[a].d()}}}function ne(m){let e,t,n;return t=new X({props:{showBackButton:!0,$$slots:{default:[se]},$$scope:{ctx:m}}}),{c(){e=T(),G(t.$$.fragment),this.h()},l(l){J("svelte-13kpo59",document.head).forEach(g),e=$(l),z(t.$$.fragment,l),this.h()},h(){document.title="連続チャレンジモード - 相対音感トレーニング"},m(l,a){P(l,e,a),F(t,l,a),n=!0},p(l,[a]){const s={};a&35&&(s.$$scope={dirty:a,ctx:l}),t.$set(s)},i(l){n||(B(t.$$.fragment,l),n=!0)},o(l){S(t.$$.fragment,l),n=!1},d(l){l&&g(e),A(t,l)}}}function le(m){console.error("🚨 [ContinuousTraining] ストレージエラー:",m)}function ae(){console.log("✅ [ContinuousTraining] セッション完了")}function ie(){console.log("🎉 [ContinuousTraining] 8セッション完了！")}function oe(m,e,t){let n=!1,l=!0;Q(()=>{t(0,n=localStorage.getItem("mic-test-completed")==="true"),console.log("🎤 [ContinuousTraining] マイクテスト完了フラグ:",n)});function a(b){console.error("🚨 [ContinuousTraining] マイクロフォンエラー:",b),q(`${j}/microphone-test?mode=continuous`)}function s(){t(1,l=!1)}return[n,l,a,s,()=>q(`${j}/microphone-test?mode=continuous`)]}class fe extends O{constructor(e){super(),U(this,e,oe,ne,K,{})}}export{fe as component};
