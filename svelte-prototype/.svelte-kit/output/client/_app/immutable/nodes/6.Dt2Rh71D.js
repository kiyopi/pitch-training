import{S as B,i as O,s as z,d as v,C as L,m as S,o as w,b as I,D as R,H as F,h as k,E as H,k as q,F as A,L as G,p as K,q as N,c as m,y as p,e as h,f as y,G as b,j as _,n as E,A as U}from"../chunks/CJUHymq1.js";import"../chunks/IHki7fMi.js";import{g as P,b as V}from"../chunks/DxVs5PO_.js";import{P as J}from"../chunks/DqnuPPYK.js";import{T as Q}from"../chunks/CcP80-oU.js";const W=!1,ue=Object.freeze(Object.defineProperty({__proto__:null,ssr:W},Symbol.toStringTag,{value:"Module"}));function X(i){let e,t;return e=new Q({props:{mode:"random",autoPlay:!1,sessionCount:8,useLocalStorage:!0,sessionKey:"random-training-progress",onMicrophoneError:i[1],onStorageError:te,onSessionComplete:ne,onAllComplete:oe}}),{c(){A(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,s){R(e,n,s),t=!0},p:E,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Y(i){let e,t,n,s="⚠️",a,o,c,$="マイクテストが必要です",u,f,r="トレーニングを開始する前に、マイクの動作確認を行ってください。",l,d,j="マイクテストを開始",D,M;return{c(){e=_("div"),t=_("div"),n=_("div"),n.textContent=s,a=q(),o=_("div"),c=_("h3"),c.textContent=$,u=q(),f=_("p"),f.textContent=r,l=q(),d=_("button"),d.textContent=j,this.h()},l(C){e=h(C,"DIV",{class:!0});var x=y(e);t=h(x,"DIV",{class:!0});var T=y(t);n=h(T,"DIV",{class:!0,"data-svelte-h":!0}),b(n)!=="svelte-dwi5dc"&&(n.textContent=s),a=k(T),o=h(T,"DIV",{class:!0});var g=y(o);c=h(g,"H3",{class:!0,"data-svelte-h":!0}),b(c)!=="svelte-17kvze2"&&(c.textContent=$),u=k(g),f=h(g,"P",{class:!0,"data-svelte-h":!0}),b(f)!=="svelte-1fktfmj"&&(f.textContent=r),l=k(g),d=h(g,"BUTTON",{class:!0,"data-svelte-h":!0}),b(d)!=="svelte-o2l4j9"&&(d.textContent=j),g.forEach(v),T.forEach(v),x.forEach(v),this.h()},h(){p(n,"class","warning-icon svelte-10utq8e"),p(c,"class","svelte-10utq8e"),p(f,"class","svelte-10utq8e"),p(d,"class","mic-test-button svelte-10utq8e"),p(o,"class","warning-content svelte-10utq8e"),p(t,"class","warning-card svelte-10utq8e"),p(e,"class","mic-test-required svelte-10utq8e")},m(C,x){I(C,e,x),m(e,t),m(t,n),m(t,a),m(t,o),m(o,c),m(o,u),m(o,f),m(o,l),m(o,d),D||(M=U(d,"click",i[2]),D=!0)},p:E,i:E,o:E,d(C){C&&v(e),D=!1,M()}}}function Z(i){let e,t,n='<h1 class="page-title svelte-10utq8e">🎲 ランダム基音トレーニング</h1> <p class="page-description svelte-10utq8e">10種類の基音からランダムに選択して、8音階の相対音感を鍛えます</p>',s,a,o,c;const $=[Y,X],u=[];function f(r,l){return r[0]?1:0}return a=f(i),o=u[a]=$[a](i),{c(){e=_("div"),t=_("div"),t.innerHTML=n,s=q(),o.c(),this.h()},l(r){e=h(r,"DIV",{class:!0});var l=y(e);t=h(l,"DIV",{class:!0,"data-svelte-h":!0}),b(t)!=="svelte-1341h83"&&(t.innerHTML=n),s=k(l),o.l(l),l.forEach(v),this.h()},h(){p(t,"class","page-header svelte-10utq8e"),p(e,"class","random-training-page svelte-10utq8e")},m(r,l){I(r,e,l),m(e,t),m(e,s),u[a].m(e,null),c=!0},p(r,l){let d=a;a=f(r),a===d?u[a].p(r,l):(K(),S(u[d],1,1,()=>{u[d]=null}),N(),o=u[a],o?o.p(r,l):(o=u[a]=$[a](r),o.c()),w(o,1),o.m(e,null))},i(r){c||(w(o),c=!0)},o(r){S(o),c=!1},d(r){r&&v(e),u[a].d()}}}function ee(i){let e,t,n;return t=new J({props:{showBackButton:!0,$$slots:{default:[Z]},$$scope:{ctx:i}}}),{c(){e=q(),A(t.$$.fragment),this.h()},l(s){F("svelte-1vq2j1p",document.head).forEach(v),e=k(s),H(t.$$.fragment,s),this.h()},h(){document.title="ランダム基音トレーニング - 相対音感トレーニング"},m(s,a){I(s,e,a),R(t,s,a),n=!0},p(s,[a]){const o={};a&9&&(o.$$scope={dirty:a,ctx:s}),t.$set(o)},i(s){n||(w(t.$$.fragment,s),n=!0)},o(s){S(t.$$.fragment,s),n=!1},d(s){s&&v(e),L(t,s)}}}function te(i){console.error("🚨 [RandomTraining] ストレージエラー:",i)}function ne(){console.log("✅ [RandomTraining] セッション完了")}function oe(){console.log("🎉 [RandomTraining] 8セッション完了！")}function se(i,e,t){let n=!1;G(()=>{t(0,n=localStorage.getItem("mic-test-completed")==="true"),console.log("🎤 [RandomTraining] マイクテスト完了フラグ:",n)});function s(o){console.error("🚨 [RandomTraining] マイクロフォンエラー:",o),P(`${V}/microphone-test?mode=random`)}return[n,s,()=>P(`${V}/microphone-test?mode=random`)]}class de extends B{constructor(e){super(),O(this,e,se,ee,z,{})}}export{de as component,ue as universal};
