import{S as st,i as lt,d as L,s as ot,a as rt,D as at,b as m,q as ne,r as X,u as Y,f as O,w as se,F as ct,m as R,x as le,p as N,y as oe,G as it,H as ut,g as o,z as u,h as d,j as _,k as E,B as me,A as G,o as p,C as ge,L as we,l as F,t as T,e as ue,N as ze,O as Ve}from"../chunks/EvMzC0aQ.js";import{g as ft}from"../chunks/D0QH3NT1.js";import"../chunks/DrEUfQCr.js";import{P as je,B as Be,C as fe}from"../chunks/yXPAb40O.js";import{P as We,V as Fe}from"../chunks/CmUJIz7r.js";const{console:dt}=ft,v="src/routes/training/random/+page.svelte";function He(r,e,t){const a=r.slice();return a[18]=e[t],a[20]=t,a}function Me(r,e,t){const a=r.slice();return a[18]=e[t],a[20]=t,a}function Te(r){let e,t,a;t=new fe({props:{variant:"default",padding:"lg",$$slots:{default:[Ke]},$$scope:{ctx:r}},$$inline:!0});const i={c:function(){e=p("div"),oe(t.$$.fragment),this.h()},l:function(l){e=_(l,"DIV",{class:!0});var s=E(e);le(t.$$.fragment,s),s.forEach(m),this.h()},h:function(){u(e,"class","results-screen"),d(e,v,248,6,7670)},m:function(l,s){O(l,e,s),se(t,e,null),a=!0},p:function(l,s){const f={};s&4195331&&(f.$$scope={dirty:s,ctx:l}),t.$set(f)},i:function(l){a||(Y(t.$$.fragment,l),a=!0)},o:function(l){X(t.$$.fragment,l),a=!1},d:function(l){l&&m(e),ne(t)}};return L("SvelteRegisterBlock",{block:i,id:Te.name,type:"if",source:"(247:26) ",ctx:r}),i}function Ge(r){let e,t,a,i,n,l,s,f,C,c,g;t=new fe({props:{variant:"default",padding:"lg",$$slots:{default:[Qe]},$$scope:{ctx:r}},$$inline:!0}),l=new fe({props:{variant:"default",padding:"md",$$slots:{default:[Ue]},$$scope:{ctx:r}},$$inline:!0}),f=new fe({props:{variant:"default",padding:"md",$$slots:{default:[Xe]},$$scope:{ctx:r}},$$inline:!0}),c=new fe({props:{variant:"default",padding:"md",$$slots:{default:[Ye]},$$scope:{ctx:r}},$$inline:!0});const y={c:function(){e=p("div"),oe(t.$$.fragment),a=N(),i=p("div"),n=p("div"),oe(l.$$.fragment),s=N(),oe(f.$$.fragment),C=N(),oe(c.$$.fragment),this.h()},l:function($){e=_($,"DIV",{class:!0});var b=E(e);le(t.$$.fragment,b),a=R(b),i=_(b,"DIV",{class:!0});var P=E(i);n=_(P,"DIV",{class:!0});var D=E(n);le(l.$$.fragment,D),s=R(D),le(f.$$.fragment,D),D.forEach(m),P.forEach(m),C=R(b),le(c.$$.fragment,b),b.forEach(m),this.h()},h:function(){u(n,"class","display-grid svelte-95o5rd"),d(n,v,213,10,6497),u(i,"class","realtime-display svelte-95o5rd"),d(i,v,212,8,6456),u(e,"class","detection-screen"),d(e,v,191,6,5583)},m:function($,b){O($,e,b),se(t,e,null),o(e,a),o(e,i),o(i,n),se(l,n,null),o(n,s),se(f,n,null),o(e,C),se(c,e,null),g=!0},p:function($,b){const P={};b&4194337&&(P.$$scope={dirty:b,ctx:$}),t.$set(P);const D={};b&4194432&&(D.$$scope={dirty:b,ctx:$}),l.$set(D);const I={};b&4195112&&(I.$$scope={dirty:b,ctx:$}),f.$set(I);const S={};b&4194338&&(S.$$scope={dirty:b,ctx:$}),c.$set(S)},i:function($){g||(Y(t.$$.fragment,$),Y(l.$$.fragment,$),Y(f.$$.fragment,$),Y(c.$$.fragment,$),g=!0)},o:function($){X(t.$$.fragment,$),X(l.$$.fragment,$),X(f.$$.fragment,$),X(c.$$.fragment,$),g=!1},d:function($){$&&m(e),ne(t),ne(l),ne(f),ne(c)}};return L("SvelteRegisterBlock",{block:y,id:Ge.name,type:"if",source:"(190:26) ",ctx:r}),y}function Le(r){let e,t,a;t=new fe({props:{variant:"success",padding:"lg",$$slots:{default:[Ze]},$$scope:{ctx:r}},$$inline:!0});const i={c:function(){e=p("div"),oe(t.$$.fragment),this.h()},l:function(l){e=_(l,"DIV",{class:!0});var s=E(e);le(t.$$.fragment,s),s.forEach(m),this.h()},h:function(){u(e,"class","playing-screen"),d(e,v,166,6,4678)},m:function(l,s){O(l,e,s),se(t,e,null),a=!0},p:function(l,s){const f={};s&4194320&&(f.$$scope={dirty:s,ctx:l}),t.$set(f)},i:function(l){a||(Y(t.$$.fragment,l),a=!0)},o:function(l){X(t.$$.fragment,l),a=!1},d:function(l){l&&m(e),ne(t)}};return L("SvelteRegisterBlock",{block:i,id:Le.name,type:"if",source:"(165:24) ",ctx:r}),i}function Oe(r){let e,t,a;t=new fe({props:{variant:"default",padding:"lg",$$slots:{default:[tt]},$$scope:{ctx:r}},$$inline:!0});const i={c:function(){e=p("div"),oe(t.$$.fragment),this.h()},l:function(l){e=_(l,"DIV",{class:!0});var s=E(e);le(t.$$.fragment,s),s.forEach(m),this.h()},h:function(){u(e,"class","start-screen"),d(e,v,123,6,3324)},m:function(l,s){O(l,e,s),se(t,e,null),a=!0},p:function(l,s){const f={};s&4194304&&(f.$$scope={dirty:s,ctx:l}),t.$set(f)},i:function(l){a||(Y(t.$$.fragment,l),a=!0)},o:function(l){X(t.$$.fragment,l),a=!1},d:function(l){l&&m(e),ne(t)}};return L("SvelteRegisterBlock",{block:i,id:Oe.name,type:"if",source:"(122:4) {#if !isPlaying && !isDetecting && !showResults}",ctx:r}),i}function Pe(r){let e,t,a=r[18]+"",i,n,l,s=r[0][r[20]]?"✓":"×",f,C,c;const g={c:function(){e=p("div"),t=p("span"),i=T(a),n=N(),l=p("span"),f=T(s),c=N(),this.h()},l:function(k){e=_(k,"DIV",{class:!0});var $=E(e);t=_($,"SPAN",{class:!0});var b=E(t);i=F(b,a),b.forEach(m),n=R($),l=_($,"SPAN",{class:!0});var P=E(l);f=F(P,s),P.forEach(m),c=R($),$.forEach(m),this.h()},h:function(){u(t,"class","scale-note-name svelte-95o5rd"),d(t,v,270,20,8488),u(l,"class",C="scale-result-icon "+(r[0][r[20]]?"correct":"incorrect")+" svelte-95o5rd"),d(l,v,271,20,8552),u(e,"class","scale-result svelte-95o5rd"),d(e,v,269,18,8441)},m:function(k,$){O(k,e,$),o(e,t),o(t,i),o(e,n),o(e,l),o(l,f),o(e,c)},p:function(k,$){$&1&&s!==(s=k[0][k[20]]?"✓":"×")&&ue(f,s),$&1&&C!==(C="scale-result-icon "+(k[0][k[20]]?"correct":"incorrect")+" svelte-95o5rd")&&u(l,"class",C)},d:function(k){k&&m(e)}};return L("SvelteRegisterBlock",{block:g,id:Pe.name,type:"each",source:"(269:16) {#each scaleNotes as note, index}",ctx:r}),g}function xe(r){let e;const t={c:function(){e=T("もう一度チャレンジ")},l:function(i){e=F(i,"もう一度チャレンジ")},m:function(i,n){O(i,e,n)},d:function(i){i&&m(e)}};return L("SvelteRegisterBlock",{block:t,id:xe.name,type:"slot",source:'(282:14) <Button variant=\\"success\\" size=\\"lg\\" fullWidth on:click={startTraining}>',ctx:r}),t}function Je(r){let e;const t={c:function(){e=T("結果を保存")},l:function(i){e=F(i,"結果を保存")},m:function(i,n){O(i,e,n)},d:function(i){i&&m(e)}};return L("SvelteRegisterBlock",{block:t,id:Je.name,type:"slot",source:'(285:14) <Button variant=\\"secondary\\" size=\\"md\\" fullWidth>',ctx:r}),t}function Ke(r){let e,t,a="トレーニング結果",i,n,l,s,f,C,c,g="点",y,k,$,b,P,D,I,S,x="音階別結果",H,V,w,h,B,q,j,J,Z=we(r[11]),M=[];for(let K=0;K<Z.length;K+=1)M[K]=Pe(He(r,Z,K));B=new Be({props:{variant:"success",size:"lg",fullWidth:!0,$$slots:{default:[xe]},$$scope:{ctx:r}},$$inline:!0}),B.$on("click",r[12]),j=new Be({props:{variant:"secondary",size:"md",fullWidth:!0,$$slots:{default:[Je]},$$scope:{ctx:r}},$$inline:!0});const ce={c:function(){e=p("div"),t=p("h2"),t.textContent=a,i=N(),n=p("div"),l=p("div"),s=p("span"),f=T(r[10]),C=N(),c=p("span"),c.textContent=g,y=N(),k=p("p"),$=T("8音階中 "),b=T(r[1]),P=T("音階 正解"),D=N(),I=p("div"),S=p("h3"),S.textContent=x,H=N(),V=p("div");for(let A=0;A<M.length;A+=1)M[A].c();w=N(),h=p("div"),oe(B.$$.fragment),q=N(),oe(j.$$.fragment),this.h()},l:function(A){e=_(A,"DIV",{class:!0});var z=E(e);t=_(z,"H2",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-1w4iqdy"&&(t.textContent=a),i=R(z),n=_(z,"DIV",{class:!0});var U=E(n);l=_(U,"DIV",{class:!0});var re=E(l);s=_(re,"SPAN",{class:!0});var W=E(s);f=F(W,r[10]),W.forEach(m),C=R(re),c=_(re,"SPAN",{class:!0,"data-svelte-h":!0}),G(c)!=="svelte-yaz7vv"&&(c.textContent=g),re.forEach(m),y=R(U),k=_(U,"P",{class:!0});var Q=E(k);$=F(Q,"8音階中 "),b=F(Q,r[1]),P=F(Q,"音階 正解"),Q.forEach(m),U.forEach(m),D=R(z),I=_(z,"DIV",{class:!0});var de=E(I);S=_(de,"H3",{class:!0,"data-svelte-h":!0}),G(S)!=="svelte-140f1nw"&&(S.textContent=x),H=R(de),V=_(de,"DIV",{class:!0});var _e=E(V);for(let pe=0;pe<M.length;pe+=1)M[pe].l(_e);_e.forEach(m),de.forEach(m),w=R(z),h=_(z,"DIV",{class:!0});var ee=E(h);le(B.$$.fragment,ee),q=R(ee),le(j.$$.fragment,ee),ee.forEach(m),z.forEach(m),this.h()},h:function(){u(t,"class","results-title svelte-95o5rd"),d(t,v,251,12,7797),u(s,"class","score-value svelte-95o5rd"),d(s,v,256,16,7974),u(c,"class","score-unit svelte-95o5rd"),d(c,v,257,16,8031),u(l,"class","score-circle svelte-95o5rd"),d(l,v,255,14,7931),u(k,"class","score-description svelte-95o5rd"),d(k,v,259,14,8100),u(n,"class","score-display svelte-95o5rd"),d(n,v,254,12,7889),u(S,"class","details-title svelte-95o5rd"),d(S,v,266,14,8294),u(V,"class","scale-results svelte-95o5rd"),d(V,v,267,14,8345),u(I,"class","detailed-results"),d(I,v,265,12,8249),u(h,"class","action-buttons svelte-95o5rd"),d(h,v,280,12,8849),u(e,"class","results-content svelte-95o5rd"),d(e,v,250,10,7755)},m:function(A,z){O(A,e,z),o(e,t),o(e,i),o(e,n),o(n,l),o(l,s),o(s,f),o(l,C),o(l,c),o(n,y),o(n,k),o(k,$),o(k,b),o(k,P),o(e,D),o(e,I),o(I,S),o(I,H),o(I,V);for(let U=0;U<M.length;U+=1)M[U]&&M[U].m(V,null);o(e,w),o(e,h),se(B,h,null),o(h,q),se(j,h,null),J=!0},p:function(A,z){if((!J||z&1024)&&ue(f,A[10]),(!J||z&2)&&ue(b,A[1]),z&2049){Z=we(A[11]);let W;for(W=0;W<Z.length;W+=1){const Q=He(A,Z,W);M[W]?M[W].p(Q,z):(M[W]=Pe(Q),M[W].c(),M[W].m(V,null))}for(;W<M.length;W+=1)M[W].d(1);M.length=Z.length}const U={};z&4194304&&(U.$$scope={dirty:z,ctx:A}),B.$set(U);const re={};z&4194304&&(re.$$scope={dirty:z,ctx:A}),j.$set(re)},i:function(A){J||(Y(B.$$.fragment,A),Y(j.$$.fragment,A),J=!0)},o:function(A){X(B.$$.fragment,A),X(j.$$.fragment,A),J=!1},d:function(A){A&&m(e),ze(M,A),ne(B),ne(j)}};return L("SvelteRegisterBlock",{block:ce,id:Ke.name,type:"slot",source:'(250:8) <Card variant=\\"default\\" padding=\\"lg\\">',ctx:r}),ce}function Re(r){let e,t=r[0][r[20]]?"✓":"×",a,i;const n={c:function(){e=p("span"),a=T(t),this.h()},l:function(s){e=_(s,"SPAN",{class:!0});var f=E(e);a=F(f,t),f.forEach(m),this.h()},h:function(){u(e,"class",i="result-icon "+(r[0][r[20]]?"correct":"incorrect")+" svelte-95o5rd"),d(e,v,201,20,6141)},m:function(s,f){O(s,e,f),o(e,a)},p:function(s,f){f&1&&t!==(t=s[0][s[20]]?"✓":"×")&&ue(a,t),f&1&&i!==(i="result-icon "+(s[0][s[20]]?"correct":"incorrect")+" svelte-95o5rd")&&u(e,"class",i)},d:function(s){s&&m(e)}};return L("SvelteRegisterBlock",{block:n,id:Re.name,type:"if",source:"(201:18) {#if scaleResults[index] !== undefined}",ctx:r}),n}function Ne(r){let e,t,a=r[18]+"",i,n,l,s=r[0][r[20]]!==void 0&&Re(r);const f={c:function(){e=p("div"),t=p("span"),i=T(a),n=N(),s&&s.c(),l=N(),this.h()},l:function(c){e=_(c,"DIV",{class:!0});var g=E(e);t=_(g,"SPAN",{class:!0});var y=E(t);i=F(y,a),y.forEach(m),n=R(g),s&&s.l(g),l=R(g),g.forEach(m),this.h()},h:function(){u(t,"class","note-text svelte-95o5rd"),d(t,v,199,18,6025),u(e,"class","scale-note svelte-95o5rd"),Ve(e,"active",r[20]===r[5]),Ve(e,"completed",r[0][r[20]]!==void 0),d(e,v,198,16,5887)},m:function(c,g){O(c,e,g),o(e,t),o(t,i),o(e,n),s&&s.m(e,null),o(e,l)},p:function(c,g){c[0][c[20]]!==void 0?s?s.p(c,g):(s=Re(c),s.c(),s.m(e,l)):s&&(s.d(1),s=null),g&32&&Ve(e,"active",c[20]===c[5]),g&1&&Ve(e,"completed",c[0][c[20]]!==void 0)},d:function(c){c&&m(e),s&&s.d()}};return L("SvelteRegisterBlock",{block:f,id:Ne.name,type:"each",source:"(198:14) {#each scaleNotes as note, index}",ctx:r}),f}function Qe(r){let e,t,a="ドレミファソラシドを歌ってください",i,n,l=we(r[11]),s=[];for(let C=0;C<l.length;C+=1)s[C]=Ne(Me(r,l,C));const f={c:function(){e=p("div"),t=p("h2"),t.textContent=a,i=N(),n=p("div");for(let c=0;c<s.length;c+=1)s[c].c();this.h()},l:function(c){e=_(c,"DIV",{class:!0});var g=E(e);t=_(g,"H2",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-9l8glf"&&(t.textContent=a),i=R(g),n=_(g,"DIV",{class:!0});var y=E(n);for(let k=0;k<s.length;k+=1)s[k].l(y);y.forEach(m),g.forEach(m),this.h()},h:function(){u(t,"class","guide-title svelte-95o5rd"),d(t,v,195,12,5738),u(n,"class","scale-guide svelte-95o5rd"),d(n,v,196,12,5797),u(e,"class","guide-content svelte-95o5rd"),d(e,v,194,10,5698)},m:function(c,g){O(c,e,g),o(e,t),o(e,i),o(e,n);for(let y=0;y<s.length;y+=1)s[y]&&s[y].m(n,null)},p:function(c,g){if(g&2081){l=we(c[11]);let y;for(y=0;y<l.length;y+=1){const k=Me(c,l,y);s[y]?s[y].p(k,g):(s[y]=Ne(k),s[y].c(),s[y].m(n,null))}for(;y<s.length;y+=1)s[y].d(1);s.length=l.length}},d:function(c){c&&m(e),ze(s,c)}};return L("SvelteRegisterBlock",{block:f,id:Qe.name,type:"slot",source:'(194:8) <Card variant=\\"default\\" padding=\\"lg\\">',ctx:r}),f}function Ue(r){let e,t,a="音量レベル",i,n,l;n=new Fe({props:{volume:r[7],height:"20px"},$$inline:!0});const s={c:function(){e=p("div"),t=p("h3"),t.textContent=a,i=N(),oe(n.$$.fragment),this.h()},l:function(C){e=_(C,"DIV",{class:!0});var c=E(e);t=_(c,"H3",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-1nc8gri"&&(t.textContent=a),i=R(c),le(n.$$.fragment,c),c.forEach(m),this.h()},h:function(){u(t,"class","display-title svelte-95o5rd"),d(t,v,217,16,6659),u(e,"class","volume-display"),d(e,v,216,14,6614)},m:function(C,c){O(C,e,c),o(e,t),o(e,i),se(n,e,null),l=!0},p:function(C,c){const g={};c&128&&(g.volume=C[7]),n.$set(g)},i:function(C){l||(Y(n.$$.fragment,C),l=!0)},o:function(C){X(n.$$.fragment,C),l=!1},d:function(C){C&&m(e),ne(n)}};return L("SvelteRegisterBlock",{block:s,id:Ue.name,type:"slot",source:'(216:12) <Card variant=\\"default\\" padding=\\"md\\">',ctx:r}),s}function Xe(r){let e,t;e=new We({props:{frequency:r[8],targetNote:r[11][r[5]],currentNote:r[9],accuracy:0,isDetecting:r[3]},$$inline:!0});const a={c:function(){oe(e.$$.fragment)},l:function(n){le(e.$$.fragment,n)},m:function(n,l){se(e,n,l),t=!0},p:function(n,l){const s={};l&256&&(s.frequency=n[8]),l&32&&(s.targetNote=n[11][n[5]]),l&512&&(s.currentNote=n[9]),l&8&&(s.isDetecting=n[3]),e.$set(s)},i:function(n){t||(Y(e.$$.fragment,n),t=!0)},o:function(n){X(e.$$.fragment,n),t=!1},d:function(n){ne(e,n)}};return L("SvelteRegisterBlock",{block:a,id:Xe.name,type:"slot",source:'(224:12) <Card variant=\\"default\\" padding=\\"md\\">',ctx:r}),a}function Ye(r){let e,t,a="進行状況",i,n,l,s,f=r[11][r[5]]+"",C,c,g=r[5]+1+"",y,k,$,b,P,D,I,S;const x={c:function(){e=p("div"),t=p("h3"),t.textContent=a,i=N(),n=p("div"),l=p("span"),s=T("現在: "),C=T(f),c=T(" ("),y=T(g),k=T("/8)"),$=N(),b=p("span"),P=T("正解: "),D=T(r[1]),I=T("/"),S=T(r[5]),this.h()},l:function(V){e=_(V,"DIV",{class:!0});var w=E(e);t=_(w,"H3",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-v1qnd4"&&(t.textContent=a),i=R(w),n=_(w,"DIV",{class:!0});var h=E(n);l=_(h,"SPAN",{});var B=E(l);s=F(B,"現在: "),C=F(B,f),c=F(B," ("),y=F(B,g),k=F(B,"/8)"),B.forEach(m),$=R(h),b=_(h,"SPAN",{});var q=E(b);P=F(q,"正解: "),D=F(q,r[1]),I=F(q,"/"),S=F(q,r[5]),q.forEach(m),h.forEach(m),w.forEach(m),this.h()},h:function(){u(t,"class","progress-title svelte-95o5rd"),d(t,v,238,12,7315),d(l,v,240,14,7409),d(b,v,241,14,7500),u(n,"class","progress-details svelte-95o5rd"),d(n,v,239,12,7364),u(e,"class","progress-info svelte-95o5rd"),d(e,v,237,10,7275)},m:function(V,w){O(V,e,w),o(e,t),o(e,i),o(e,n),o(n,l),o(l,s),o(l,C),o(l,c),o(l,y),o(l,k),o(n,$),o(n,b),o(b,P),o(b,D),o(b,I),o(b,S)},p:function(V,w){w&32&&f!==(f=V[11][V[5]]+"")&&ue(C,f),w&32&&g!==(g=V[5]+1+"")&&ue(y,g),w&2&&ue(D,V[1]),w&32&&ue(S,V[5])},d:function(V){V&&m(e)}};return L("SvelteRegisterBlock",{block:x,id:Ye.name,type:"slot",source:'(237:8) <Card variant=\\"default\\" padding=\\"md\\">',ctx:r}),x}function Ze(r){let e,t,a,i,n,l,s,f="基音再生中",C,c,g,y,k,$,b="この音を覚えて「ド」として認識してください",P,D,I,S;const x={c:function(){e=p("div"),t=p("div"),a=ge("svg"),i=ge("circle"),n=ge("polygon"),l=N(),s=p("h2"),s.textContent=f,C=N(),c=p("p"),g=T("基音: "),y=T(r[4]),k=N(),$=p("p"),$.textContent=b,P=N(),D=p("div"),I=p("div"),S=p("div"),this.h()},l:function(V){e=_(V,"DIV",{class:!0});var w=E(e);t=_(w,"DIV",{class:!0});var h=E(t);a=me(h,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0});var B=E(a);i=me(B,"circle",{cx:!0,cy:!0,r:!0}),E(i).forEach(m),n=me(B,"polygon",{points:!0}),E(n).forEach(m),B.forEach(m),h.forEach(m),l=R(w),s=_(w,"H2",{class:!0,"data-svelte-h":!0}),G(s)!=="svelte-1maueo6"&&(s.textContent=f),C=R(w),c=_(w,"P",{class:!0});var q=E(c);g=F(q,"基音: "),y=F(q,r[4]),q.forEach(m),k=R(w),$=_(w,"P",{class:!0,"data-svelte-h":!0}),G($)!=="svelte-1hcrx2z"&&($.textContent=b),P=R(w),D=_(w,"DIV",{class:!0});var j=E(D);I=_(j,"DIV",{class:!0});var J=E(I);S=_(J,"DIV",{class:!0}),E(S).forEach(m),J.forEach(m),j.forEach(m),w.forEach(m),this.h()},h:function(){u(i,"cx","12"),u(i,"cy","12"),u(i,"r","10"),d(i,v,171,16,4962),u(n,"points","10,8 16,12 10,16"),d(n,v,172,16,5011),u(a,"width","48"),u(a,"height","48"),u(a,"viewBox","0 0 24 24"),u(a,"fill","none"),u(a,"stroke","currentColor"),u(a,"stroke-width","2"),d(a,v,170,14,4846),u(t,"class","playing-icon svelte-95o5rd"),d(t,v,169,12,4805),u(s,"class","playing-title svelte-95o5rd"),d(s,v,175,12,5100),u(c,"class","playing-note svelte-95o5rd"),d(c,v,176,12,5149),u($,"class","playing-instruction svelte-95o5rd"),d($,v,177,12,5211),u(S,"class","progress-fill svelte-95o5rd"),d(S,v,183,16,5409),u(I,"class","progress-bar svelte-95o5rd"),d(I,v,182,14,5366),u(D,"class","playing-progress svelte-95o5rd"),d(D,v,181,12,5321),u(e,"class","playing-content svelte-95o5rd"),d(e,v,168,10,4763)},m:function(V,w){O(V,e,w),o(e,t),o(t,a),o(a,i),o(a,n),o(e,l),o(e,s),o(e,C),o(e,c),o(c,g),o(c,y),o(e,k),o(e,$),o(e,P),o(e,D),o(D,I),o(I,S)},p:function(V,w){w&16&&ue(y,V[4])},d:function(V){V&&m(e)}};return L("SvelteRegisterBlock",{block:x,id:Ze.name,type:"slot",source:'(168:8) <Card variant=\\"success\\" padding=\\"lg\\">',ctx:r}),x}function et(r){let e;const t={c:function(){e=T("トレーニング開始")},l:function(i){e=F(i,"トレーニング開始")},m:function(i,n){O(i,e,n)},d:function(i){i&&m(e)}};return L("SvelteRegisterBlock",{block:t,id:et.name,type:"slot",source:'(159:12) <Button variant=\\"success\\" size=\\"lg\\" fullWidth on:click={startTraining}>',ctx:r}),t}function tt(r){let e,t,a="トレーニング開始",i,n,l,s,f,C,c,g,y,k="1",$,b,P,D="基音を聞く",I,S,x="ランダムに選ばれた基音をピアノで再生します",H,V,w,h="2",B,q,j,J="連続歌唱",Z,M,ce="基音を「ド」として、ドレミファソラシドを連続して歌います",K,A,z,U="3",re,W,Q,de="自動判定",_e,ee,pe="歌唱中にリアルタイムで各音階を自動判定します",Se,ie,Ce;ie=new Be({props:{variant:"success",size:"lg",fullWidth:!0,$$slots:{default:[et]},$$scope:{ctx:r}},$$inline:!0}),ie.$on("click",r[12]);const Ae={c:function(){e=p("div"),t=p("h2"),t.textContent=a,i=N(),n=p("p"),l=T("基音を聞いた後、その音を「ド」として"),s=p("br"),f=T(`
              ドレミファソラシドを連続して歌ってください`),C=N(),c=p("div"),g=p("div"),y=p("span"),y.textContent=k,$=N(),b=p("div"),P=p("h3"),P.textContent=D,I=N(),S=p("p"),S.textContent=x,H=N(),V=p("div"),w=p("span"),w.textContent=h,B=N(),q=p("div"),j=p("h3"),j.textContent=J,Z=N(),M=p("p"),M.textContent=ce,K=N(),A=p("div"),z=p("span"),z.textContent=U,re=N(),W=p("div"),Q=p("h3"),Q.textContent=de,_e=N(),ee=p("p"),ee.textContent=pe,Se=N(),oe(ie.$$.fragment),this.h()},l:function(ae){e=_(ae,"DIV",{class:!0});var te=E(e);t=_(te,"H2",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-177yn6"&&(t.textContent=a),i=R(te),n=_(te,"P",{class:!0});var he=E(n);l=F(he,"基音を聞いた後、その音を「ド」として"),s=_(he,"BR",{}),f=F(he,`
              ドレミファソラシドを連続して歌ってください`),he.forEach(m),C=R(te),c=_(te,"DIV",{class:!0});var $e=E(c);g=_($e,"DIV",{class:!0});var ye=E(g);y=_(ye,"SPAN",{class:!0,"data-svelte-h":!0}),G(y)!=="svelte-1gvrwis"&&(y.textContent=k),$=R(ye),b=_(ye,"DIV",{});var ke=E(b);P=_(ke,"H3",{class:!0,"data-svelte-h":!0}),G(P)!=="svelte-3o2umq"&&(P.textContent=D),I=R(ke),S=_(ke,"P",{class:!0,"data-svelte-h":!0}),G(S)!=="svelte-r15f9m"&&(S.textContent=x),ke.forEach(m),ye.forEach(m),H=R($e),V=_($e,"DIV",{class:!0});var be=E(V);w=_(be,"SPAN",{class:!0,"data-svelte-h":!0}),G(w)!=="svelte-1lllrxb"&&(w.textContent=h),B=R(be),q=_(be,"DIV",{});var Ee=E(q);j=_(Ee,"H3",{class:!0,"data-svelte-h":!0}),G(j)!=="svelte-1lldj7q"&&(j.textContent=J),Z=R(Ee),M=_(Ee,"P",{class:!0,"data-svelte-h":!0}),G(M)!=="svelte-1n1vdfq"&&(M.textContent=ce),Ee.forEach(m),be.forEach(m),K=R($e),A=_($e,"DIV",{class:!0});var De=E(A);z=_(De,"SPAN",{class:!0,"data-svelte-h":!0}),G(z)!=="svelte-1swoen2"&&(z.textContent=U),re=R(De),W=_(De,"DIV",{});var Ie=E(W);Q=_(Ie,"H3",{class:!0,"data-svelte-h":!0}),G(Q)!=="svelte-wm6hg7"&&(Q.textContent=de),_e=R(Ie),ee=_(Ie,"P",{class:!0,"data-svelte-h":!0}),G(ee)!=="svelte-1tyv544"&&(ee.textContent=pe),Ie.forEach(m),De.forEach(m),$e.forEach(m),Se=R(te),le(ie.$$.fragment,te),te.forEach(m),this.h()},h:function(){u(t,"class","start-title svelte-95o5rd"),d(t,v,126,12,3447),d(s,v,128,32,3559),u(n,"class","start-description svelte-95o5rd"),d(n,v,127,12,3497),u(y,"class","step-number svelte-95o5rd"),d(y,v,134,16,3730),u(P,"class","svelte-95o5rd"),d(P,v,136,18,3805),u(S,"class","svelte-95o5rd"),d(S,v,137,18,3838),d(b,v,135,16,3781),u(g,"class","instruction-item svelte-95o5rd"),d(g,v,133,14,3683),u(w,"class","step-number svelte-95o5rd"),d(w,v,142,16,3987),u(j,"class","svelte-95o5rd"),d(j,v,144,18,4062),u(M,"class","svelte-95o5rd"),d(M,v,145,18,4094),d(q,v,143,16,4038),u(V,"class","instruction-item svelte-95o5rd"),d(V,v,141,14,3940),u(z,"class","step-number svelte-95o5rd"),d(z,v,150,16,4250),u(Q,"class","svelte-95o5rd"),d(Q,v,152,18,4325),u(ee,"class","svelte-95o5rd"),d(ee,v,153,18,4357),d(W,v,151,16,4301),u(A,"class","instruction-item svelte-95o5rd"),d(A,v,149,14,4203),u(c,"class","instructions svelte-95o5rd"),d(c,v,132,12,3642),u(e,"class","start-content svelte-95o5rd"),d(e,v,125,10,3407)},m:function(ae,te){O(ae,e,te),o(e,t),o(e,i),o(e,n),o(n,l),o(n,s),o(n,f),o(e,C),o(e,c),o(c,g),o(g,y),o(g,$),o(g,b),o(b,P),o(b,I),o(b,S),o(c,H),o(c,V),o(V,w),o(V,B),o(V,q),o(q,j),o(q,Z),o(q,M),o(c,K),o(c,A),o(A,z),o(A,re),o(A,W),o(W,Q),o(W,_e),o(W,ee),o(e,Se),se(ie,e,null),Ce=!0},p:function(ae,te){const he={};te&4194304&&(he.$$scope={dirty:te,ctx:ae}),ie.$set(he)},i:function(ae){Ce||(Y(ie.$$.fragment,ae),Ce=!0)},o:function(ae){X(ie.$$.fragment,ae),Ce=!1},d:function(ae){ae&&m(e),ne(ie)}};return L("SvelteRegisterBlock",{block:Ae,id:tt.name,type:"slot",source:'(125:8) <Card variant=\\"default\\" padding=\\"lg\\">',ctx:r}),Ae}function nt(r){let e,t,a,i,n,l,s,f,C,c,g,y="ランダム基音モード",k,$,b="10種類の基音からランダムに選択してトレーニング",P,D,I,S;const x=[Oe,Le,Ge,Te],H=[];function V(h,B){return!h[2]&&!h[3]&&!h[6]?0:h[2]?1:h[3]?2:h[6]?3:-1}~(D=V(r))&&(I=H[D]=x[D](r));const w={c:function(){e=p("div"),t=p("div"),a=p("div"),i=p("div"),n=ge("svg"),l=ge("path"),s=ge("circle"),f=ge("circle"),C=N(),c=p("div"),g=p("h1"),g.textContent=y,k=N(),$=p("p"),$.textContent=b,P=N(),I&&I.c(),this.h()},l:function(B){e=_(B,"DIV",{class:!0});var q=E(e);t=_(q,"DIV",{class:!0});var j=E(t);a=_(j,"DIV",{class:!0});var J=E(a);i=_(J,"DIV",{class:!0});var Z=E(i);n=me(Z,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0});var M=E(n);l=me(M,"path",{d:!0}),E(l).forEach(m),s=me(M,"circle",{cx:!0,cy:!0,r:!0}),E(s).forEach(m),f=me(M,"circle",{cx:!0,cy:!0,r:!0}),E(f).forEach(m),M.forEach(m),Z.forEach(m),C=R(J),c=_(J,"DIV",{});var ce=E(c);g=_(ce,"H1",{class:!0,"data-svelte-h":!0}),G(g)!=="svelte-4p7mnf"&&(g.textContent=y),k=R(ce),$=_(ce,"P",{class:!0,"data-svelte-h":!0}),G($)!=="svelte-hq31uv"&&($.textContent=b),ce.forEach(m),J.forEach(m),j.forEach(m),P=R(q),I&&I.l(q),q.forEach(m),this.h()},h:function(){u(l,"d","M9 18V5l12-2v13"),d(l,v,109,12,2929),u(s,"cx","6"),u(s,"cy","18"),u(s,"r","3"),d(s,v,110,12,2969),u(f,"cx","18"),u(f,"cy","16"),u(f,"r","3"),d(f,v,111,12,3012),u(n,"width","32"),u(n,"height","32"),u(n,"viewBox","0 0 24 24"),u(n,"fill","none"),u(n,"stroke","currentColor"),u(n,"stroke-width","2"),d(n,v,108,10,2817),u(i,"class","mode-icon svelte-95o5rd"),d(i,v,107,8,2783),u(g,"class","mode-title svelte-95o5rd"),d(g,v,115,10,3100),u($,"class","mode-description svelte-95o5rd"),d($,v,116,10,3148),d(c,v,114,8,3084),u(a,"class","mode-header svelte-95o5rd"),d(a,v,106,6,2749),u(t,"class","header svelte-95o5rd"),d(t,v,105,4,2722),u(e,"class","random-training svelte-95o5rd"),d(e,v,103,2,2670)},m:function(B,q){O(B,e,q),o(e,t),o(t,a),o(a,i),o(i,n),o(n,l),o(n,s),o(n,f),o(a,C),o(a,c),o(c,g),o(c,k),o(c,$),o(e,P),~D&&H[D].m(e,null),S=!0},p:function(B,q){let j=D;D=V(B),D===j?~D&&H[D].p(B,q):(I&&(it(),X(H[j],1,1,()=>{H[j]=null}),ut()),~D?(I=H[D],I?I.p(B,q):(I=H[D]=x[D](B),I.c()),Y(I,1),I.m(e,null)):I=null)},i:function(B){S||(Y(I),S=!0)},o:function(B){X(I),S=!1},d:function(B){B&&m(e),~D&&H[D].d()}};return L("SvelteRegisterBlock",{block:w,id:nt.name,type:"slot",source:"(103:0) <PageLayout showBackButton={true}>",ctx:r}),w}function qe(r){let e,t,a;t=new je({props:{showBackButton:!0,$$slots:{default:[nt]},$$scope:{ctx:r}},$$inline:!0});const i={c:function(){e=N(),oe(t.$$.fragment),this.h()},l:function(l){ct("svelte-1nfe5e4",document.head).forEach(m),e=R(l),le(t.$$.fragment,l),this.h()},h:function(){document.title="ランダム基音モード - 相対音感トレーニング"},m:function(l,s){O(l,e,s),se(t,l,s),a=!0},p:function(l,[s]){const f={};s&4196351&&(f.$$scope={dirty:s,ctx:l}),t.$set(f)},i:function(l){a||(Y(t.$$.fragment,l),a=!0)},o:function(l){X(t.$$.fragment,l),a=!1},d:function(l){l&&m(e),ne(t,l)}};return L("SvelteRegisterBlock",{block:i,id:qe.name,type:"component",source:"",ctx:r}),i}function vt(r,e,t){let a,i,{$$slots:n={},$$scope:l}=e;rt("Page",n,[]);let s=!1,f=!1,C="",c=0,g=[],y=!1,k=0,$=0,b="";const P=["ド","レ","ミ","ファ","ソ","ラ","シ","ド"],D=["Bb3","B3","C4","Db4","D4","Eb4","E4","F4","Gb4","G4"];function I(){const h=Math.floor(Math.random()*D.length);return t(4,C=D[h]),C}function S(){t(5,c=0),t(0,g=[]),t(6,y=!1);const h=I();x(h)}function x(h){t(2,s=!0),console.log(`基音再生: ${h}`),setTimeout(()=>{t(2,s=!1),H()},2500)}function H(){t(3,f=!0);const h=setInterval(()=>{if(!f){clearInterval(h);return}t(7,k=Math.random()*100);const B=[261.63,293.66,329.63,349.23,392,440,493.88,523.25];if(t(8,$=B[Math.floor(Math.random()*B.length)]),t(9,b=P[Math.floor(Math.random()*P.length)]),Math.random()>.7){const q=Math.random()>.3;t(0,g[c]=q,g),t(5,c++,c),c>=8&&V()}},500)}function V(){t(3,f=!1),t(6,y=!0)}const w=[];return Object.keys(e).forEach(h=>{!~w.indexOf(h)&&h.slice(0,2)!=="$$"&&h!=="slot"&&dt.warn(`<Page> was created with unknown prop '${h}'`)}),r.$capture_state=()=>({onMount:at,Card:fe,Button:Be,PageLayout:je,VolumeBar:Fe,PitchDisplay:We,isPlaying:s,isDetecting:f,currentBaseNote:C,currentScaleIndex:c,scaleResults:g,showResults:y,currentVolume:k,currentFrequency:$,currentNote:b,scaleNotes:P,baseNotes:D,selectRandomBase:I,startTraining:S,playBaseNote:x,startDetection:H,finishTraining:V,correctCount:a,score:i}),r.$inject_state=h=>{"isPlaying"in h&&t(2,s=h.isPlaying),"isDetecting"in h&&t(3,f=h.isDetecting),"currentBaseNote"in h&&t(4,C=h.currentBaseNote),"currentScaleIndex"in h&&t(5,c=h.currentScaleIndex),"scaleResults"in h&&t(0,g=h.scaleResults),"showResults"in h&&t(6,y=h.showResults),"currentVolume"in h&&t(7,k=h.currentVolume),"currentFrequency"in h&&t(8,$=h.currentFrequency),"currentNote"in h&&t(9,b=h.currentNote),"correctCount"in h&&t(1,a=h.correctCount),"score"in h&&t(10,i=h.score)},e&&"$$inject"in e&&r.$inject_state(e.$$inject),r.$$.update=()=>{r.$$.dirty&1&&t(1,a=g.filter(h=>h).length),r.$$.dirty&2&&t(10,i=Math.round(a/8*100))},[g,a,s,f,C,c,y,k,$,b,i,P,S]}class $t extends st{constructor(e){super(e),lt(this,e,vt,qe,ot,{}),L("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:qe.name})}}export{$t as component};
