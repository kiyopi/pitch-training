import{S as Zt,i as xt,s as es,d as c,C as ve,m as ie,o as ae,b as O,D as de,N as ts,h as E,E as he,k as D,F as _e,I as ss,p as St,q as Pt,c as s,y as h,e as f,f as b,G as J,r as ot,j as u,O as Je,P as ls,a as X,A as We,g as I,t as V,L as jt,n as Yt,z as Oe}from"../chunks/BbQtw8CC.js";import{e as $e}from"../chunks/D6YF6ztN.js";import"../chunks/IHki7fMi.js";import{P as ns,C as ke}from"../chunks/DNmPTphr.js";import{B as rt}from"../chunks/CB02h6m0.js";import{g as as,b as rs}from"../chunks/BNXdTR5k.js";const os=!1,is=!0,js=Object.freeze(Object.defineProperty({__proto__:null,prerender:is,ssr:os},Symbol.toStringTag,{value:"Module"}));function At(o,e,t){const r=o.slice();return r[38]=e[t],r}function Bt(o,e,t){const r=o.slice();return r[41]=e[t],r[43]=t,r}function Lt(o,e,t){const r=o.slice();return r[41]=e[t],r[43]=t,r}function zt(o,e,t){const r=o.slice();return r[41]=e[t],r[43]=t,r}function Ft(o,e,t){const r=o.slice();return r[41]=e[t],r[43]=t,r}function cs(o){let e,t,r;return t=new ke({props:{variant:"default",padding:"lg",$$slots:{default:[ms]},$$scope:{ctx:o}}}),{c(){e=u("div"),_e(t.$$.fragment),this.h()},l(n){e=f(n,"DIV",{class:!0});var l=b(e);he(t.$$.fragment,l),l.forEach(c),this.h()},h(){h(e,"class","results-screen")},m(n,l){O(n,e,l),de(t,e,null),r=!0},p(n,l){const a={};l[0]&81931|l[1]&65536&&(a.$$scope={dirty:l,ctx:n}),t.$set(a)},i(n){r||(ae(t.$$.fragment,n),r=!0)},o(n){ie(t.$$.fragment,n),r=!1},d(n){n&&c(e),ve(t)}}}function fs(o){let e,t,r,n,l,a,v,m,p,g,$;return t=new ke({props:{variant:"default",padding:"lg",$$slots:{default:[ps]},$$scope:{ctx:o}}}),a=new ke({props:{variant:"default",padding:"md",$$slots:{default:[gs]},$$scope:{ctx:o}}}),m=new ke({props:{variant:"default",padding:"md",$$slots:{default:[$s]},$$scope:{ctx:o}}}),g=new ke({props:{variant:"default",padding:"md",$$slots:{default:[ys]},$$scope:{ctx:o}}}),{c(){e=u("div"),_e(t.$$.fragment),r=D(),n=u("div"),l=u("div"),_e(a.$$.fragment),v=D(),_e(m.$$.fragment),p=D(),_e(g.$$.fragment),this.h()},l(d){e=f(d,"DIV",{class:!0});var i=b(e);he(t.$$.fragment,i),r=E(i),n=f(i,"DIV",{class:!0});var _=b(n);l=f(_,"DIV",{class:!0});var y=b(l);he(a.$$.fragment,y),v=E(y),he(m.$$.fragment,y),y.forEach(c),_.forEach(c),p=E(i),he(g.$$.fragment,i),i.forEach(c),this.h()},h(){h(l,"class","display-grid svelte-15my86"),h(n,"class","realtime-display svelte-15my86"),h(e,"class","detection-screen")},m(d,i){O(d,e,i),de(t,e,null),s(e,r),s(e,n),s(n,l),de(a,l,null),s(l,v),de(m,l,null),s(e,p),de(g,e,null),$=!0},p(d,i){const _={};i[0]&65795|i[1]&65536&&(_.$$scope={dirty:i,ctx:d}),t.$set(_);const y={};i[0]&32772|i[1]&65536&&(y.$$scope={dirty:i,ctx:d}),a.$set(y);const M={};i[0]&3072|i[1]&65536&&(M.$$scope={dirty:i,ctx:d}),m.$set(M);const C={};i[0]&65801|i[1]&65536&&(C.$$scope={dirty:i,ctx:d}),g.$set(C)},i(d){$||(ae(t.$$.fragment,d),ae(a.$$.fragment,d),ae(m.$$.fragment,d),ae(g.$$.fragment,d),$=!0)},o(d){ie(t.$$.fragment,d),ie(a.$$.fragment,d),ie(m.$$.fragment,d),ie(g.$$.fragment,d),$=!1},d(d){d&&c(e),ve(t),ve(a),ve(m),ve(g)}}}function us(o){let e,t,r;return t=new ke({props:{variant:"tertiary",padding:"lg",$$slots:{default:[bs]},$$scope:{ctx:o}}}),{c(){e=u("div"),_e(t.$$.fragment),this.h()},l(n){e=f(n,"DIV",{class:!0});var l=b(e);he(t.$$.fragment,l),l.forEach(c),this.h()},h(){h(e,"class","playing-screen")},m(n,l){O(n,e,l),de(t,e,null),r=!0},p(n,l){const a={};l[0]&65601|l[1]&65536&&(a.$$scope={dirty:l,ctx:n}),t.$set(a)},i(n){r||(ae(t.$$.fragment,n),r=!0)},o(n){ie(t.$$.fragment,n),r=!1},d(n){n&&c(e),ve(t)}}}function vs(o){let e,t,r;return t=new ke({props:{variant:"default",padding:"lg",$$slots:{default:[Es]},$$scope:{ctx:o}}}),{c(){e=u("div"),_e(t.$$.fragment),this.h()},l(n){e=f(n,"DIV",{class:!0});var l=b(e);he(t.$$.fragment,l),l.forEach(c),this.h()},h(){h(e,"class","start-screen")},m(n,l){O(n,e,l),de(t,e,null),r=!0},p(n,l){const a={};l[0]&8321|l[1]&65536&&(a.$$scope={dirty:l,ctx:n}),t.$set(a)},i(n){r||(ae(t.$$.fragment,n),r=!0)},o(n){ie(t.$$.fragment,n),r=!1},d(n){n&&c(e),ve(t)}}}function Ot(o){let e,t,r=o[41]+"",n,l,a,v,m=o[43]+1+"",p,g,$,d=o[1][o[43]]?"✓":"×",i,_,y;return{c(){e=u("div"),t=u("span"),n=V(r),l=D(),a=u("span"),v=V("#"),p=V(m),g=D(),$=u("span"),i=V(d),y=D(),this.h()},l(M){e=f(M,"DIV",{class:!0});var C=b(e);t=f(C,"SPAN",{class:!0});var k=b(t);n=I(k,r),k.forEach(c),l=E(C),a=f(C,"SPAN",{class:!0});var H=b(a);v=I(H,"#"),p=I(H,m),H.forEach(c),g=E(C),$=f(C,"SPAN",{class:!0});var w=b($);i=I(w,d),w.forEach(c),y=E(C),C.forEach(c),this.h()},h(){h(t,"class","chromatic-note-name svelte-15my86"),h(a,"class","chromatic-note-number svelte-15my86"),h($,"class",_="chromatic-result-icon "+(o[1][o[43]]?"correct":"incorrect")+" svelte-15my86"),h(e,"class","chromatic-result svelte-15my86")},m(M,C){O(M,e,C),s(e,t),s(t,n),s(e,l),s(e,a),s(a,v),s(a,p),s(e,g),s(e,$),s($,i),s(e,y)},p(M,C){C[0]&65536&&r!==(r=M[41]+"")&&X(n,r),C[0]&2&&d!==(d=M[1][M[43]]?"✓":"×")&&X(i,d),C[0]&2&&_!==(_="chromatic-result-icon "+(M[1][M[43]]?"correct":"incorrect")+" svelte-15my86")&&h($,"class",_)},d(M){M&&c(e)}}}function ds(o){let e;return{c(){e=V("同じ方向でもう一度")},l(t){e=I(t,"同じ方向でもう一度")},m(t,r){O(t,e,r)},d(t){t&&c(e)}}}function hs(o){let e=o[0]==="ascending"?"下行":"上行",t,r;return{c(){t=V(e),r=V("に切り替え")},l(n){t=I(n,e),r=I(n,"に切り替え")},m(n,l){O(n,t,l),O(n,r,l)},p(n,l){l[0]&1&&e!==(e=n[0]==="ascending"?"下行":"上行")&&X(t,e)},d(n){n&&(c(t),c(r))}}}function _s(o){let e;return{c(){e=V("結果を保存")},l(t){e=I(t,"結果を保存")},m(t,r){O(t,e,r)},d(t){t&&c(e)}}}function ms(o){let e,t,r="12音階トレーニング結果",n,l,a,v,m,p,g,$="点",d,i,_=o[0]==="ascending"?"上行":"下行",y,M,C,k,H,w,j,S,P,A,R="音階別結果",G,Z,se,W,x,me,Y,K,z,B,q=$e(o[16]),L=[];for(let N=0;N<q.length;N+=1)L[N]=Ot(Bt(o,q,N));return x=new rt({props:{variant:"tertiary",size:"lg",fullWidth:!0,$$slots:{default:[ds]},$$scope:{ctx:o}}}),x.$on("click",o[22]),Y=new rt({props:{variant:"secondary",size:"md",fullWidth:!0,$$slots:{default:[hs]},$$scope:{ctx:o}}}),Y.$on("click",o[23]),z=new rt({props:{variant:"secondary",size:"md",fullWidth:!0,$$slots:{default:[_s]},$$scope:{ctx:o}}}),{c(){e=u("div"),t=u("h2"),t.textContent=r,n=D(),l=u("div"),a=u("div"),v=u("span"),m=V(o[14]),p=D(),g=u("span"),g.textContent=$,d=D(),i=u("p"),y=V(_),M=V("クロマチック"),C=D(),k=u("p"),H=V("12音階中 "),w=V(o[3]),j=V("音階 正解"),S=D(),P=u("div"),A=u("h3"),A.textContent=R,G=D(),Z=u("div");for(let N=0;N<L.length;N+=1)L[N].c();se=D(),W=u("div"),_e(x.$$.fragment),me=D(),_e(Y.$$.fragment),K=D(),_e(z.$$.fragment),this.h()},l(N){e=f(N,"DIV",{class:!0});var U=b(e);t=f(U,"H2",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-1001odc"&&(t.textContent=r),n=E(U),l=f(U,"DIV",{class:!0});var ee=b(l);a=f(ee,"DIV",{class:!0});var T=b(a);v=f(T,"SPAN",{class:!0});var ne=b(v);m=I(ne,o[14]),ne.forEach(c),p=E(T),g=f(T,"SPAN",{class:!0,"data-svelte-h":!0}),J(g)!=="svelte-yaz7vv"&&(g.textContent=$),T.forEach(c),d=E(ee),i=f(ee,"P",{class:!0});var te=b(i);y=I(te,_),M=I(te,"クロマチック"),te.forEach(c),C=E(ee),k=f(ee,"P",{class:!0});var ue=b(k);H=I(ue,"12音階中 "),w=I(ue,o[3]),j=I(ue,"音階 正解"),ue.forEach(c),ee.forEach(c),S=E(U),P=f(U,"DIV",{class:!0});var le=b(P);A=f(le,"H3",{class:!0,"data-svelte-h":!0}),J(A)!=="svelte-140f1nw"&&(A.textContent=R),G=E(le),Z=f(le,"DIV",{class:!0});var pe=b(Z);for(let Me=0;Me<L.length;Me+=1)L[Me].l(pe);pe.forEach(c),le.forEach(c),se=E(U),W=f(U,"DIV",{class:!0});var ye=b(W);he(x.$$.fragment,ye),me=E(ye),he(Y.$$.fragment,ye),K=E(ye),he(z.$$.fragment,ye),ye.forEach(c),U.forEach(c),this.h()},h(){h(t,"class","results-title svelte-15my86"),h(v,"class","score-value svelte-15my86"),h(g,"class","score-unit svelte-15my86"),h(a,"class","score-circle svelte-15my86"),h(i,"class","score-description svelte-15my86"),h(k,"class","score-stats svelte-15my86"),h(l,"class","score-display svelte-15my86"),h(A,"class","details-title svelte-15my86"),h(Z,"class","chromatic-results svelte-15my86"),h(P,"class","detailed-results"),h(W,"class","action-buttons svelte-15my86"),h(e,"class","results-content svelte-15my86")},m(N,U){O(N,e,U),s(e,t),s(e,n),s(e,l),s(l,a),s(a,v),s(v,m),s(a,p),s(a,g),s(l,d),s(l,i),s(i,y),s(i,M),s(l,C),s(l,k),s(k,H),s(k,w),s(k,j),s(e,S),s(e,P),s(P,A),s(P,G),s(P,Z);for(let ee=0;ee<L.length;ee+=1)L[ee]&&L[ee].m(Z,null);s(e,se),s(e,W),de(x,W,null),s(W,me),de(Y,W,null),s(W,K),de(z,W,null),B=!0},p(N,U){if((!B||U[0]&16384)&&X(m,N[14]),(!B||U[0]&1)&&_!==(_=N[0]==="ascending"?"上行":"下行")&&X(y,_),(!B||U[0]&8)&&X(w,N[3]),U[0]&65538){q=$e(N[16]);let te;for(te=0;te<q.length;te+=1){const ue=Bt(N,q,te);L[te]?L[te].p(ue,U):(L[te]=Ot(ue),L[te].c(),L[te].m(Z,null))}for(;te<L.length;te+=1)L[te].d(1);L.length=q.length}const ee={};U[1]&65536&&(ee.$$scope={dirty:U,ctx:N}),x.$set(ee);const T={};U[0]&1|U[1]&65536&&(T.$$scope={dirty:U,ctx:N}),Y.$set(T);const ne={};U[1]&65536&&(ne.$$scope={dirty:U,ctx:N}),z.$set(ne)},i(N){B||(ae(x.$$.fragment,N),ae(Y.$$.fragment,N),ae(z.$$.fragment,N),B=!0)},o(N){ie(x.$$.fragment,N),ie(Y.$$.fragment,N),ie(z.$$.fragment,N),B=!1},d(N){N&&c(e),Je(L,N),ve(x),ve(Y),ve(z)}}}function Rt(o){let e,t=o[1][o[43]]?"✓":"×",r,n;return{c(){e=u("span"),r=V(t),this.h()},l(l){e=f(l,"SPAN",{class:!0});var a=b(e);r=I(a,t),a.forEach(c),this.h()},h(){h(e,"class",n="result-icon "+(o[1][o[43]]?"correct":"incorrect")+" svelte-15my86")},m(l,a){O(l,e,a),s(e,r)},p(l,a){a[0]&2&&t!==(t=l[1][l[43]]?"✓":"×")&&X(r,t),a[0]&2&&n!==(n="result-icon "+(l[1][l[43]]?"correct":"incorrect")+" svelte-15my86")&&h(e,"class",n)},d(l){l&&c(e)}}}function Gt(o){let e,t,r=o[41]+"",n,l,a,v=o[43]+1+"",m,p,g,$=o[1][o[43]]!==void 0&&Rt(o);return{c(){e=u("div"),t=u("span"),n=V(r),l=D(),a=u("span"),m=V(v),p=D(),$&&$.c(),g=D(),this.h()},l(d){e=f(d,"DIV",{class:!0});var i=b(e);t=f(i,"SPAN",{class:!0});var _=b(t);n=I(_,r),_.forEach(c),l=E(i),a=f(i,"SPAN",{class:!0});var y=b(a);m=I(y,v),y.forEach(c),p=E(i),$&&$.l(i),g=E(i),i.forEach(c),this.h()},h(){h(t,"class","note-text svelte-15my86"),h(a,"class","note-number svelte-15my86"),h(e,"class","chromatic-note svelte-15my86"),Oe(e,"active",o[43]===o[8]),Oe(e,"completed",o[1][o[43]]!==void 0)},m(d,i){O(d,e,i),s(e,t),s(t,n),s(e,l),s(e,a),s(a,m),s(e,p),$&&$.m(e,null),s(e,g)},p(d,i){i[0]&65536&&r!==(r=d[41]+"")&&X(n,r),d[1][d[43]]!==void 0?$?$.p(d,i):($=Rt(d),$.c(),$.m(e,g)):$&&($.d(1),$=null),i[0]&256&&Oe(e,"active",d[43]===d[8]),i[0]&2&&Oe(e,"completed",d[1][d[43]]!==void 0)},d(d){d&&c(e),$&&$.d()}}}function ps(o){let e,t,r=o[0]==="ascending"?"上行":"下行",n,l,a,v,m=$e(o[16]),p=[];for(let g=0;g<m.length;g+=1)p[g]=Gt(Lt(o,m,g));return{c(){e=u("div"),t=u("h2"),n=V(r),l=V("クロマチックスケールを歌ってください"),a=D(),v=u("div");for(let g=0;g<p.length;g+=1)p[g].c();this.h()},l(g){e=f(g,"DIV",{class:!0});var $=b(e);t=f($,"H2",{class:!0});var d=b(t);n=I(d,r),l=I(d,"クロマチックスケールを歌ってください"),d.forEach(c),a=E($),v=f($,"DIV",{class:!0});var i=b(v);for(let _=0;_<p.length;_+=1)p[_].l(i);i.forEach(c),$.forEach(c),this.h()},h(){h(t,"class","guide-title svelte-15my86"),h(v,"class","chromatic-guide svelte-15my86"),h(e,"class","guide-content svelte-15my86")},m(g,$){O(g,e,$),s(e,t),s(t,n),s(t,l),s(e,a),s(e,v);for(let d=0;d<p.length;d+=1)p[d]&&p[d].m(v,null)},p(g,$){if($[0]&1&&r!==(r=g[0]==="ascending"?"上行":"下行")&&X(n,r),$[0]&65794){m=$e(g[16]);let d;for(d=0;d<m.length;d+=1){const i=Lt(g,m,d);p[d]?p[d].p(i,$):(p[d]=Gt(i),p[d].c(),p[d].m(v,null))}for(;d<p.length;d+=1)p[d].d(1);p.length=m.length}},d(g){g&&c(e),Je(p,g)}}}function gs(o){let e,t,r="音量レベル",n,l,a,v,m,p,g=Math.round(o[2])+"",$,d;return{c(){e=u("div"),t=u("h3"),t.textContent=r,n=D(),l=u("div"),a=u("div"),v=u("div"),m=D(),p=u("span"),$=V(g),d=V("%"),this.h()},l(i){e=f(i,"DIV",{class:!0});var _=b(e);t=f(_,"H3",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-1nc8gri"&&(t.textContent=r),n=E(_),l=f(_,"DIV",{class:!0});var y=b(l);a=f(y,"DIV",{class:!0});var M=b(a);v=f(M,"DIV",{class:!0,style:!0}),b(v).forEach(c),M.forEach(c),m=E(y),p=f(y,"SPAN",{class:!0});var C=b(p);$=I(C,g),d=I(C,"%"),C.forEach(c),y.forEach(c),_.forEach(c),this.h()},h(){h(t,"class","display-title svelte-15my86"),h(v,"class","volume-fill svelte-15my86"),jt(v,"width",o[15]+"%"),h(a,"class","volume-bar svelte-15my86"),h(p,"class","volume-text svelte-15my86"),h(l,"class","volume-bar-container svelte-15my86"),h(e,"class","volume-display")},m(i,_){O(i,e,_),s(e,t),s(e,n),s(e,l),s(l,a),s(a,v),s(l,m),s(l,p),s(p,$),s(p,d)},p(i,_){_[0]&32768&&jt(v,"width",i[15]+"%"),_[0]&4&&g!==(g=Math.round(i[2])+"")&&X($,g)},d(i){i&&c(e)}}}function $s(o){let e,t,r="検出音程",n,l,a,v=o[10].toFixed(1)+"",m,p,g,$,d;return{c(){e=u("div"),t=u("h3"),t.textContent=r,n=D(),l=u("div"),a=u("div"),m=V(v),p=V(" Hz"),g=D(),$=u("div"),d=V(o[11]),this.h()},l(i){e=f(i,"DIV",{class:!0});var _=b(e);t=f(_,"H3",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-tjj9b2"&&(t.textContent=r),n=E(_),l=f(_,"DIV",{class:!0});var y=b(l);a=f(y,"DIV",{class:!0});var M=b(a);m=I(M,v),p=I(M," Hz"),M.forEach(c),g=E(y),$=f(y,"DIV",{class:!0});var C=b($);d=I(C,o[11]),C.forEach(c),y.forEach(c),_.forEach(c),this.h()},h(){h(t,"class","display-title svelte-15my86"),h(a,"class","frequency-value svelte-15my86"),h($,"class","note-value svelte-15my86"),h(l,"class","pitch-info svelte-15my86"),h(e,"class","pitch-display")},m(i,_){O(i,e,_),s(e,t),s(e,n),s(e,l),s(l,a),s(a,m),s(a,p),s(l,g),s(l,$),s($,d)},p(i,_){_[0]&1024&&v!==(v=i[10].toFixed(1)+"")&&X(m,v),_[0]&2048&&X(d,i[11])},d(i){i&&c(e)}}}function ys(o){let e,t,r="進行状況",n,l,a,v,m=o[16][o[8]]+"",p,g,$=o[8]+1+"",d,i,_,y,M,C,k,H,w,j,S,P=o[0]==="ascending"?"上行 📈":"下行 📉",A;return{c(){e=u("div"),t=u("h3"),t.textContent=r,n=D(),l=u("div"),a=u("span"),v=V("現在: "),p=V(m),g=V(" ("),d=V($),i=V("/12)"),_=D(),y=u("span"),M=V("正解: "),C=V(o[3]),k=V("/"),H=V(o[8]),w=D(),j=u("div"),S=V("方向: "),A=V(P),this.h()},l(R){e=f(R,"DIV",{class:!0});var G=b(e);t=f(G,"H3",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-v1qnd4"&&(t.textContent=r),n=E(G),l=f(G,"DIV",{class:!0});var Z=b(l);a=f(Z,"SPAN",{});var se=b(a);v=I(se,"現在: "),p=I(se,m),g=I(se," ("),d=I(se,$),i=I(se,"/12)"),se.forEach(c),_=E(Z),y=f(Z,"SPAN",{});var W=b(y);M=I(W,"正解: "),C=I(W,o[3]),k=I(W,"/"),H=I(W,o[8]),W.forEach(c),Z.forEach(c),w=E(G),j=f(G,"DIV",{class:!0});var x=b(j);S=I(x,"方向: "),A=I(x,P),x.forEach(c),G.forEach(c),this.h()},h(){h(t,"class","progress-title svelte-15my86"),h(l,"class","progress-details svelte-15my86"),h(j,"class","progress-direction svelte-15my86"),h(e,"class","progress-info svelte-15my86")},m(R,G){O(R,e,G),s(e,t),s(e,n),s(e,l),s(l,a),s(a,v),s(a,p),s(a,g),s(a,d),s(a,i),s(l,_),s(l,y),s(y,M),s(y,C),s(y,k),s(y,H),s(e,w),s(e,j),s(j,S),s(j,A)},p(R,G){G[0]&65792&&m!==(m=R[16][R[8]]+"")&&X(p,m),G[0]&256&&$!==($=R[8]+1+"")&&X(d,$),G[0]&8&&X(C,R[3]),G[0]&256&&X(H,R[8]),G[0]&1&&P!==(P=R[0]==="ascending"?"上行 📈":"下行 📉")&&X(A,P)},d(R){R&&c(e)}}}function Ut(o){let e,t="→";return{c(){e=u("span"),e.textContent=t,this.h()},l(r){e=f(r,"SPAN",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-1mixvsg"&&(e.textContent=t),this.h()},h(){h(e,"class","sequence-arrow svelte-15my86")},m(r,n){O(r,e,n)},d(r){r&&c(e)}}}function Wt(o){let e,t=o[41]+"",r,n,l,a=o[43]<o[16].length-1&&Ut();return{c(){e=u("span"),r=V(t),n=D(),a&&a.c(),l=ot(),this.h()},l(v){e=f(v,"SPAN",{class:!0});var m=b(e);r=I(m,t),m.forEach(c),n=E(v),a&&a.l(v),l=ot(),this.h()},h(){h(e,"class","sequence-note svelte-15my86"),Oe(e,"first",o[43]===0)},m(v,m){O(v,e,m),s(e,r),O(v,n,m),a&&a.m(v,m),O(v,l,m)},p(v,m){m[0]&65536&&t!==(t=v[41]+"")&&X(r,t),v[43]<v[16].length-1?a||(a=Ut(),a.c(),a.m(l.parentNode,l)):a&&(a.d(1),a=null)},d(v){v&&(c(e),c(n),c(l)),a&&a.d(v)}}}function bs(o){let e,t,r,n=o[0]==="ascending"?"📈 上行（Ascending）":"📉 下行（Descending）",l,a,v,m='<svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><polygon points="10,8 16,12 10,16"></polygon></svg>',p,g,$="基音再生中",d,i,_,y,M,C,k,H,w=o[0]==="ascending"?"上行":"下行",j,S,P,A,R,G="歌唱する順序:",Z,se,W,x,me='<div class="progress-bar svelte-15my86"><div class="progress-fill svelte-15my86"></div></div>',Y=$e(o[16]),K=[];for(let z=0;z<Y.length;z+=1)K[z]=Wt(zt(o,Y,z));return{c(){e=u("div"),t=u("div"),r=u("span"),l=V(n),a=D(),v=u("div"),v.innerHTML=m,p=D(),g=u("h2"),g.textContent=$,d=D(),i=u("p"),_=V("基音: "),y=V(o[6]),M=V("（ド4）"),C=D(),k=u("p"),H=V("この音を基準として、"),j=V(w),S=V("クロマチックスケールを歌います"),P=D(),A=u("div"),R=u("h4"),R.textContent=G,Z=D(),se=u("div");for(let z=0;z<K.length;z+=1)K[z].c();W=D(),x=u("div"),x.innerHTML=me,this.h()},l(z){e=f(z,"DIV",{class:!0});var B=b(e);t=f(B,"DIV",{class:!0});var q=b(t);r=f(q,"SPAN",{class:!0});var L=b(r);l=I(L,n),L.forEach(c),q.forEach(c),a=E(B),v=f(B,"DIV",{class:!0,"data-svelte-h":!0}),J(v)!=="svelte-11l4yoz"&&(v.innerHTML=m),p=E(B),g=f(B,"H2",{class:!0,"data-svelte-h":!0}),J(g)!=="svelte-1maueo6"&&(g.textContent=$),d=E(B),i=f(B,"P",{class:!0});var N=b(i);_=I(N,"基音: "),y=I(N,o[6]),M=I(N,"（ド4）"),N.forEach(c),C=E(B),k=f(B,"P",{class:!0});var U=b(k);H=I(U,"この音を基準として、"),j=I(U,w),S=I(U,"クロマチックスケールを歌います"),U.forEach(c),P=E(B),A=f(B,"DIV",{class:!0});var ee=b(A);R=f(ee,"H4",{class:!0,"data-svelte-h":!0}),J(R)!=="svelte-kold0"&&(R.textContent=G),Z=E(ee),se=f(ee,"DIV",{class:!0});var T=b(se);for(let ne=0;ne<K.length;ne+=1)K[ne].l(T);T.forEach(c),ee.forEach(c),W=E(B),x=f(B,"DIV",{class:!0,"data-svelte-h":!0}),J(x)!=="svelte-4yu433"&&(x.innerHTML=me),B.forEach(c),this.h()},h(){h(r,"class","direction-text svelte-15my86"),h(t,"class","direction-indicator svelte-15my86"),h(v,"class","playing-icon svelte-15my86"),h(g,"class","playing-title svelte-15my86"),h(i,"class","playing-note svelte-15my86"),h(k,"class","playing-instruction svelte-15my86"),h(R,"class","svelte-15my86"),h(se,"class","scale-sequence svelte-15my86"),h(A,"class","scale-preview svelte-15my86"),h(x,"class","playing-progress svelte-15my86"),h(e,"class","playing-content svelte-15my86")},m(z,B){O(z,e,B),s(e,t),s(t,r),s(r,l),s(e,a),s(e,v),s(e,p),s(e,g),s(e,d),s(e,i),s(i,_),s(i,y),s(i,M),s(e,C),s(e,k),s(k,H),s(k,j),s(k,S),s(e,P),s(e,A),s(A,R),s(A,Z),s(A,se);for(let q=0;q<K.length;q+=1)K[q]&&K[q].m(se,null);s(e,W),s(e,x)},p(z,B){if(B[0]&1&&n!==(n=z[0]==="ascending"?"📈 上行（Ascending）":"📉 下行（Descending）")&&X(l,n),B[0]&64&&X(y,z[6]),B[0]&1&&w!==(w=z[0]==="ascending"?"上行":"下行")&&X(j,w),B[0]&65536){Y=$e(z[16]);let q;for(q=0;q<Y.length;q+=1){const L=zt(z,Y,q);K[q]?K[q].p(L,B):(K[q]=Wt(L),K[q].c(),K[q].m(se,null))}for(;q<K.length;q+=1)K[q].d(1);K.length=Y.length}},d(z){z&&c(e),Je(K,z)}}}function Jt(o){let e,t=o[41]+"",r,n;return{c(){e=u("span"),r=V(t),n=D(),this.h()},l(l){e=f(l,"SPAN",{class:!0});var a=b(e);r=I(a,t),n=E(a),a.forEach(c),this.h()},h(){h(e,"class","demo-note svelte-15my86"),Oe(e,"base-note",o[43]===0)},m(l,a){O(l,e,a),s(e,r),s(e,n)},p:Yt,d(l){l&&c(e)}}}function Kt(o){let e,t,r=o[13].range+"",n,l;return{c(){e=u("span"),t=V("（音域: "),n=V(r),l=V("）"),this.h()},l(a){e=f(a,"SPAN",{class:!0});var v=b(e);t=I(v,"（音域: "),n=I(v,r),l=I(v,"）"),v.forEach(c),this.h()},h(){h(e,"class","range-info svelte-15my86")},m(a,v){O(a,e,v),s(e,t),s(e,n),s(e,l)},p(a,v){v[0]&8192&&r!==(r=a[13].range+"")&&X(n,r)},d(a){a&&c(e)}}}function Cs(o){let e=o[0]==="ascending"?"上行":"下行",t,r;return{c(){t=V(e),r=V("12音階開始")},l(n){t=I(n,e),r=I(n,"12音階開始")},m(n,l){O(n,t,l),O(n,r,l)},p(n,l){l[0]&1&&e!==(e=n[0]==="ascending"?"上行":"下行")&&X(t,e)},d(n){n&&(c(t),c(r))}}}function Es(o){var Ht,Tt;let e,t,r="🎼 12音階（クロマチック）モード",n,l,a="半音階12音すべてを使った高度な相対音感トレーニング<br/> <strong>基音 → ド → ド# → レ → ... → シ</strong> の順序で歌います",v,m,p,g="🎵 歌唱する12音階",$,d,i,_,y="選択した基音を「ド」として、半音ずつ上がって12音すべてを歌います",M,C,k,H="基音選択",w,j,S,P,A,R=(((Ht=o[19].find(o[24]))==null?void 0:Ht.japanese)||o[7])+"",G,Z,se,W,x="基音を変更",me,Y,K,z="スケール方向",B,q,L,N,U='<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M7 17L17 7"></path><path d="M7 7h10v10"></path></svg>',ee,T,ne='<div class="option-title svelte-15my86">上行</div> <div class="option-desc svelte-15my86">ド → ド#→ レ → ... → シ</div>',te,ue,le,pe,ye='<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 7L7 17"></path><path d="M17 17H7V7"></path></svg>',Me,Le,Et='<div class="option-title svelte-15my86">下行</div> <div class="option-desc svelte-15my86">シ → ラ#→ ラ → ... → ド</div>',Ke,it,ge,Ee,we,Dt="1",ct,Ne,He,It="基音確認",ft,De,ut,Re=(((Tt=o[19].find(o[27]))==null?void 0:Tt.japanese)||o[7])+"",Qe,vt,dt,Ie,Te,Vt="2",ht,qe,Se,kt="12音階歌唱",_t,Pe,Ge=o[0]==="ascending"?"上行（ド→ド#→レ...）":"下行（シ→ラ#→ラ...）",Xe,mt,pt,je,Mt='<span class="step-number svelte-15my86">3</span> <div><h3 class="svelte-15my86">高精度判定</h3> <p class="svelte-15my86">半音（50セント）の微細な音程差まで厳密に判定します</p></div>',gt,Ae,wt='<h3 class="test-title svelte-15my86">📋 テスト方法</h3> <div class="test-steps svelte-15my86"><p class="svelte-15my86"><strong>1. 基音を変更</strong> → 「基音を変更」ボタンで好きな基音を選択</p> <p class="svelte-15my86"><strong>2. 方向を選択</strong> → 上行（ド→シ）または下行（シ→ド）を選択</p> <p class="svelte-15my86"><strong>3. トレーニング開始</strong> → 基音を聞いてから12音階を歌唱</p> <p class="svelte-15my86"><strong>4. 音程検出確認</strong> → 各音程で正解/不正解が即座に表示されます</p></div>',$t,be,Ce,yt,Nt,ze=$e(o[18]),re=[];for(let F=0;F<ze.length;F+=1)re[F]=Jt(Ft(o,ze,F));let ce=o[13]&&Kt(o);return be=new rt({props:{variant:"tertiary",size:"lg",fullWidth:!0,$$slots:{default:[Cs]},$$scope:{ctx:o}}}),be.$on("click",o[22]),{c(){e=u("div"),t=u("h2"),t.textContent=r,n=D(),l=u("p"),l.innerHTML=a,v=D(),m=u("div"),p=u("div"),p.textContent=g,$=D(),d=u("div");for(let F=0;F<re.length;F+=1)re[F].c();i=D(),_=u("div"),_.textContent=y,M=D(),C=u("div"),k=u("h3"),k.textContent=H,w=D(),j=u("div"),S=u("div"),P=V("選択中: "),A=u("strong"),G=V(R),Z=D(),ce&&ce.c(),se=D(),W=u("button"),W.textContent=x,me=D(),Y=u("div"),K=u("h3"),K.textContent=z,B=D(),q=u("div"),L=u("button"),N=u("div"),N.innerHTML=U,ee=D(),T=u("div"),T.innerHTML=ne,ue=D(),le=u("button"),pe=u("div"),pe.innerHTML=ye,Me=D(),Le=u("div"),Le.innerHTML=Et,it=D(),ge=u("div"),Ee=u("div"),we=u("span"),we.textContent=Dt,ct=D(),Ne=u("div"),He=u("h3"),He.textContent=It,ft=D(),De=u("p"),ut=V("選択した基音（"),Qe=V(Re),vt=V("）を「ド」として聞きます"),dt=D(),Ie=u("div"),Te=u("span"),Te.textContent=Vt,ht=D(),qe=u("div"),Se=u("h3"),Se.textContent=kt,_t=D(),Pe=u("p"),Xe=V(Ge),mt=V("で12音すべてを歌います"),pt=D(),je=u("div"),je.innerHTML=Mt,gt=D(),Ae=u("div"),Ae.innerHTML=wt,$t=D(),_e(be.$$.fragment),this.h()},l(F){e=f(F,"DIV",{class:!0});var Q=b(e);t=f(Q,"H2",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-10ikj8j"&&(t.textContent=r),n=E(Q),l=f(Q,"P",{class:!0,"data-svelte-h":!0}),J(l)!=="svelte-yfoskf"&&(l.innerHTML=a),v=E(Q),m=f(Q,"DIV",{class:!0});var fe=b(m);p=f(fe,"DIV",{class:!0,"data-svelte-h":!0}),J(p)!=="svelte-18srwop"&&(p.textContent=g),$=E(fe),d=f(fe,"DIV",{class:!0});var Ue=b(d);for(let Ct=0;Ct<re.length;Ct+=1)re[Ct].l(Ue);Ue.forEach(c),i=E(fe),_=f(fe,"DIV",{class:!0,"data-svelte-h":!0}),J(_)!=="svelte-1ypg3ol"&&(_.textContent=y),fe.forEach(c),M=E(Q),C=f(Q,"DIV",{class:!0});var Be=b(C);k=f(Be,"H3",{class:!0,"data-svelte-h":!0}),J(k)!=="svelte-1ncovlg"&&(k.textContent=H),w=E(Be),j=f(Be,"DIV",{class:!0});var oe=b(j);S=f(oe,"DIV",{class:!0});var Ve=b(S);P=I(Ve,"選択中: "),A=f(Ve,"STRONG",{});var qt=b(A);G=I(qt,R),qt.forEach(c),Z=E(Ve),ce&&ce.l(Ve),Ve.forEach(c),se=E(oe),W=f(oe,"BUTTON",{class:!0,"data-svelte-h":!0}),J(W)!=="svelte-18ljnxb"&&(W.textContent=x),oe.forEach(c),Be.forEach(c),me=E(Q),Y=f(Q,"DIV",{class:!0});var Ye=b(Y);K=f(Ye,"H3",{class:!0,"data-svelte-h":!0}),J(K)!=="svelte-1vawqn0"&&(K.textContent=z),B=E(Ye),q=f(Ye,"DIV",{class:!0});var Ze=b(q);L=f(Ze,"BUTTON",{class:!0});var xe=b(L);N=f(xe,"DIV",{class:!0,"data-svelte-h":!0}),J(N)!=="svelte-18subtu"&&(N.innerHTML=U),ee=E(xe),T=f(xe,"DIV",{"data-svelte-h":!0}),J(T)!=="svelte-itwfs9"&&(T.innerHTML=ne),xe.forEach(c),ue=E(Ze),le=f(Ze,"BUTTON",{class:!0});var et=b(le);pe=f(et,"DIV",{class:!0,"data-svelte-h":!0}),J(pe)!=="svelte-7l2y80"&&(pe.innerHTML=ye),Me=E(et),Le=f(et,"DIV",{"data-svelte-h":!0}),J(Le)!=="svelte-n4mmud"&&(Le.innerHTML=Et),et.forEach(c),Ze.forEach(c),Ye.forEach(c),it=E(Q),ge=f(Q,"DIV",{class:!0});var Fe=b(ge);Ee=f(Fe,"DIV",{class:!0});var tt=b(Ee);we=f(tt,"SPAN",{class:!0,"data-svelte-h":!0}),J(we)!=="svelte-1gvrwis"&&(we.textContent=Dt),ct=E(tt),Ne=f(tt,"DIV",{});var st=b(Ne);He=f(st,"H3",{class:!0,"data-svelte-h":!0}),J(He)!=="svelte-haxc9i"&&(He.textContent=It),ft=E(st),De=f(st,"P",{class:!0});var lt=b(De);ut=I(lt,"選択した基音（"),Qe=I(lt,Re),vt=I(lt,"）を「ド」として聞きます"),lt.forEach(c),st.forEach(c),tt.forEach(c),dt=E(Fe),Ie=f(Fe,"DIV",{class:!0});var nt=b(Ie);Te=f(nt,"SPAN",{class:!0,"data-svelte-h":!0}),J(Te)!=="svelte-1lllrxb"&&(Te.textContent=Vt),ht=E(nt),qe=f(nt,"DIV",{});var at=b(qe);Se=f(at,"H3",{class:!0,"data-svelte-h":!0}),J(Se)!=="svelte-11s3iw5"&&(Se.textContent=kt),_t=E(at),Pe=f(at,"P",{class:!0});var bt=b(Pe);Xe=I(bt,Ge),mt=I(bt,"で12音すべてを歌います"),bt.forEach(c),at.forEach(c),nt.forEach(c),pt=E(Fe),je=f(Fe,"DIV",{class:!0,"data-svelte-h":!0}),J(je)!=="svelte-1erjv2b"&&(je.innerHTML=Mt),Fe.forEach(c),gt=E(Q),Ae=f(Q,"DIV",{class:!0,"data-svelte-h":!0}),J(Ae)!=="svelte-4qnj3w"&&(Ae.innerHTML=wt),$t=E(Q),he(be.$$.fragment,Q),Q.forEach(c),this.h()},h(){h(t,"class","start-title svelte-15my86"),h(l,"class","start-description svelte-15my86"),h(p,"class","demo-title svelte-15my86"),h(d,"class","demo-notes svelte-15my86"),h(_,"class","demo-description svelte-15my86"),h(m,"class","chromatic-demo svelte-15my86"),h(k,"class","selector-title svelte-15my86"),h(S,"class","selected-base-note svelte-15my86"),h(W,"class","base-note-change-button svelte-15my86"),h(j,"class","base-note-info svelte-15my86"),h(C,"class","base-note-selector svelte-15my86"),h(K,"class","selector-title svelte-15my86"),h(N,"class","option-icon svelte-15my86"),h(L,"class",te="direction-option "+(o[0]==="ascending"?"selected":"")+" svelte-15my86"),h(pe,"class","option-icon svelte-15my86"),h(le,"class",Ke="direction-option "+(o[0]==="descending"?"selected":"")+" svelte-15my86"),h(q,"class","direction-options svelte-15my86"),h(Y,"class","direction-selector svelte-15my86"),h(we,"class","step-number svelte-15my86"),h(He,"class","svelte-15my86"),h(De,"class","svelte-15my86"),h(Ee,"class","instruction-item svelte-15my86"),h(Te,"class","step-number svelte-15my86"),h(Se,"class","svelte-15my86"),h(Pe,"class","svelte-15my86"),h(Ie,"class","instruction-item svelte-15my86"),h(je,"class","instruction-item svelte-15my86"),h(ge,"class","instructions svelte-15my86"),h(Ae,"class","test-instructions svelte-15my86"),h(e,"class","start-content svelte-15my86")},m(F,Q){O(F,e,Q),s(e,t),s(e,n),s(e,l),s(e,v),s(e,m),s(m,p),s(m,$),s(m,d);for(let fe=0;fe<re.length;fe+=1)re[fe]&&re[fe].m(d,null);s(m,i),s(m,_),s(e,M),s(e,C),s(C,k),s(C,w),s(C,j),s(j,S),s(S,P),s(S,A),s(A,G),s(S,Z),ce&&ce.m(S,null),s(j,se),s(j,W),s(e,me),s(e,Y),s(Y,K),s(Y,B),s(Y,q),s(q,L),s(L,N),s(L,ee),s(L,T),s(q,ue),s(q,le),s(le,pe),s(le,Me),s(le,Le),s(e,it),s(e,ge),s(ge,Ee),s(Ee,we),s(Ee,ct),s(Ee,Ne),s(Ne,He),s(Ne,ft),s(Ne,De),s(De,ut),s(De,Qe),s(De,vt),s(ge,dt),s(ge,Ie),s(Ie,Te),s(Ie,ht),s(Ie,qe),s(qe,Se),s(qe,_t),s(qe,Pe),s(Pe,Xe),s(Pe,mt),s(ge,pt),s(ge,je),s(e,gt),s(e,Ae),s(e,$t),de(be,e,null),Ce=!0,yt||(Nt=[We(W,"click",o[20]),We(L,"click",o[25]),We(le,"click",o[26])],yt=!0)},p(F,Q){var Ue,Be;if(Q[0]&262144){ze=$e(F[18]);let oe;for(oe=0;oe<ze.length;oe+=1){const Ve=Ft(F,ze,oe);re[oe]?re[oe].p(Ve,Q):(re[oe]=Jt(Ve),re[oe].c(),re[oe].m(d,null))}for(;oe<re.length;oe+=1)re[oe].d(1);re.length=ze.length}(!Ce||Q[0]&128)&&R!==(R=(((Ue=F[19].find(F[24]))==null?void 0:Ue.japanese)||F[7])+"")&&X(G,R),F[13]?ce?ce.p(F,Q):(ce=Kt(F),ce.c(),ce.m(S,null)):ce&&(ce.d(1),ce=null),(!Ce||Q[0]&1&&te!==(te="direction-option "+(F[0]==="ascending"?"selected":"")+" svelte-15my86"))&&h(L,"class",te),(!Ce||Q[0]&1&&Ke!==(Ke="direction-option "+(F[0]==="descending"?"selected":"")+" svelte-15my86"))&&h(le,"class",Ke),(!Ce||Q[0]&128)&&Re!==(Re=(((Be=F[19].find(F[27]))==null?void 0:Be.japanese)||F[7])+"")&&X(Qe,Re),(!Ce||Q[0]&1)&&Ge!==(Ge=F[0]==="ascending"?"上行（ド→ド#→レ...）":"下行（シ→ラ#→ラ...）")&&X(Xe,Ge);const fe={};Q[0]&1|Q[1]&65536&&(fe.$$scope={dirty:Q,ctx:F}),be.$set(fe)},i(F){Ce||(ae(be.$$.fragment,F),Ce=!0)},o(F){ie(be.$$.fragment,F),Ce=!1},d(F){F&&c(e),Je(re,F),ce&&ce.d(),ve(be),yt=!1,ls(Nt)}}}function Qt(o){let e,t,r,n;return r=new ke({props:{variant:"default",padding:"xl",$$slots:{default:[Vs]},$$scope:{ctx:o}}}),{c(){e=u("div"),t=u("div"),_e(r.$$.fragment),this.h()},l(l){e=f(l,"DIV",{class:!0});var a=b(e);t=f(a,"DIV",{class:!0});var v=b(t);he(r.$$.fragment,v),v.forEach(c),a.forEach(c),this.h()},h(){h(t,"class","base-selection-modal svelte-15my86"),h(e,"class","base-selection-modal-overlay svelte-15my86")},m(l,a){O(l,e,a),s(e,t),de(r,t,null),n=!0},p(l,a){const v={};a[0]&143488|a[1]&65536&&(v.$$scope={dirty:a,ctx:l}),r.$set(v)},i(l){n||(ae(r.$$.fragment,l),n=!0)},o(l){ie(r.$$.fragment,l),n=!1},d(l){l&&c(e),ve(r)}}}function Ds(o){let e,t="音域測定データがありません。標準的な基音から選択してください";return{c(){e=u("p"),e.textContent=t,this.h()},l(r){e=f(r,"P",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-p643vm"&&(e.textContent=t),this.h()},h(){h(e,"class","vocal-range-info svelte-15my86")},m(r,n){O(r,e,n)},p:Yt,d(r){r&&c(e)}}}function Is(o){let e,t,r,n=o[13].range+"",l,a,v;return{c(){e=u("p"),t=V("あなたの音域: "),r=u("strong"),l=V(n),a=u("br"),v=V(`
                以下は歌いやすい基音です`),this.h()},l(m){e=f(m,"P",{class:!0});var p=b(e);t=I(p,"あなたの音域: "),r=f(p,"STRONG",{});var g=b(r);l=I(g,n),g.forEach(c),a=f(p,"BR",{}),v=I(p,`
                以下は歌いやすい基音です`),p.forEach(c),this.h()},h(){h(e,"class","vocal-range-info svelte-15my86")},m(m,p){O(m,e,p),s(e,t),s(e,r),s(r,l),s(e,a),s(e,v)},p(m,p){p[0]&8192&&n!==(n=m[13].range+"")&&X(l,n)},d(m){m&&c(e)}}}function Xt(o){let e,t,r,n=o[38].japanese+"",l,a,v,m,p=o[38].note+"",g,$,d,i,_=o[38].frequency.toFixed(1)+"",y,M,C,k,H,w;function j(){return o[28](o[38])}return{c(){e=u("button"),t=u("div"),r=u("span"),l=V(n),a=D(),v=u("span"),m=V("("),g=V(p),$=V(")"),d=D(),i=u("div"),y=V(_),M=V(" Hz"),C=D(),this.h()},l(S){e=f(S,"BUTTON",{class:!0});var P=b(e);t=f(P,"DIV",{class:!0});var A=b(t);r=f(A,"SPAN",{class:!0});var R=b(r);l=I(R,n),R.forEach(c),a=E(A),v=f(A,"SPAN",{class:!0});var G=b(v);m=I(G,"("),g=I(G,p),$=I(G,")"),G.forEach(c),A.forEach(c),d=E(P),i=f(P,"DIV",{class:!0});var Z=b(i);y=I(Z,_),M=I(Z," Hz"),Z.forEach(c),C=E(P),P.forEach(c),this.h()},h(){h(r,"class","note-japanese svelte-15my86"),h(v,"class","note-english svelte-15my86"),h(t,"class","note-display svelte-15my86"),h(i,"class","note-frequency svelte-15my86"),h(e,"class",k="base-note-option "+(o[7]===o[38].note?"selected":"")+" svelte-15my86")},m(S,P){O(S,e,P),s(e,t),s(t,r),s(r,l),s(t,a),s(t,v),s(v,m),s(v,g),s(v,$),s(e,d),s(e,i),s(i,y),s(i,M),s(e,C),H||(w=We(e,"click",j),H=!0)},p(S,P){o=S,P[0]&131072&&n!==(n=o[38].japanese+"")&&X(l,n),P[0]&131072&&p!==(p=o[38].note+"")&&X(g,p),P[0]&131072&&_!==(_=o[38].frequency.toFixed(1)+"")&&X(y,_),P[0]&131200&&k!==(k="base-note-option "+(o[7]===o[38].note?"selected":"")+" svelte-15my86")&&h(e,"class",k)},d(S){S&&c(e),H=!1,w()}}}function Vs(o){let e,t,r="基音を選択",n,l,a,v,m,p,g="キャンセル",$,d;function i(k,H){return k[13]?Is:Ds}let _=i(o),y=_(o),M=$e(o[17]),C=[];for(let k=0;k<M.length;k+=1)C[k]=Xt(At(o,M,k));return{c(){e=u("div"),t=u("h2"),t.textContent=r,n=D(),y.c(),l=D(),a=u("div");for(let k=0;k<C.length;k+=1)C[k].c();v=D(),m=u("div"),p=u("button"),p.textContent=g,this.h()},l(k){e=f(k,"DIV",{class:!0});var H=b(e);t=f(H,"H2",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-1goib6j"&&(t.textContent=r),n=E(H),y.l(H),l=E(H),a=f(H,"DIV",{class:!0});var w=b(a);for(let S=0;S<C.length;S+=1)C[S].l(w);w.forEach(c),v=E(H),m=f(H,"DIV",{class:!0});var j=b(m);p=f(j,"BUTTON",{class:!0,"data-svelte-h":!0}),J(p)!=="svelte-144tgxs"&&(p.textContent=g),j.forEach(c),H.forEach(c),this.h()},h(){h(t,"class","base-selection-title svelte-15my86"),h(a,"class","base-note-grid svelte-15my86"),h(p,"class","modal-cancel svelte-15my86"),h(m,"class","modal-actions svelte-15my86"),h(e,"class","base-selection-content svelte-15my86")},m(k,H){O(k,e,H),s(e,t),s(e,n),y.m(e,null),s(e,l),s(e,a);for(let w=0;w<C.length;w+=1)C[w]&&C[w].m(a,null);s(e,v),s(e,m),s(m,p),$||(d=We(p,"click",o[29]),$=!0)},p(k,H){if(_===(_=i(k))&&y?y.p(k,H):(y.d(1),y=_(k),y&&(y.c(),y.m(e,l))),H[0]&2228352){M=$e(k[17]);let w;for(w=0;w<M.length;w+=1){const j=At(k,M,w);C[w]?C[w].p(j,H):(C[w]=Xt(j),C[w].c(),C[w].m(a,null))}for(;w<C.length;w+=1)C[w].d(1);C.length=M.length}},d(k){k&&c(e),y.d(),Je(C,k),$=!1,d()}}}function ks(o){let e,t,r='<div class="mode-header svelte-15my86"><div class="mode-icon svelte-15my86"><svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path><path d="M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path></svg></div> <div><h1 class="mode-title svelte-15my86">12音階モード（クロマチック）</h1> <p class="mode-description svelte-15my86">基音を聞いて半音階12音すべてを相対音感で歌うトレーニング</p></div></div>',n,l,a,v,m,p;const g=[vs,us,fs,cs],$=[];function d(_,y){return!_[4]&&!_[5]&&!_[9]?0:_[4]?1:_[5]?2:_[9]?3:-1}~(l=d(o))&&(a=$[l]=g[l](o));let i=o[12]&&Qt(o);return{c(){e=u("div"),t=u("div"),t.innerHTML=r,n=D(),a&&a.c(),v=D(),i&&i.c(),m=ot(),this.h()},l(_){e=f(_,"DIV",{class:!0});var y=b(e);t=f(y,"DIV",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-f7jglz"&&(t.innerHTML=r),n=E(y),a&&a.l(y),y.forEach(c),v=E(_),i&&i.l(_),m=ot(),this.h()},h(){h(t,"class","header svelte-15my86"),h(e,"class","chromatic-training svelte-15my86")},m(_,y){O(_,e,y),s(e,t),s(e,n),~l&&$[l].m(e,null),O(_,v,y),i&&i.m(_,y),O(_,m,y),p=!0},p(_,y){let M=l;l=d(_),l===M?~l&&$[l].p(_,y):(a&&(St(),ie($[M],1,1,()=>{$[M]=null}),Pt()),~l?(a=$[l],a?a.p(_,y):(a=$[l]=g[l](_),a.c()),ae(a,1),a.m(e,null)):a=null),_[12]?i?(i.p(_,y),y[0]&4096&&ae(i,1)):(i=Qt(_),i.c(),ae(i,1),i.m(m.parentNode,m)):i&&(St(),ie(i,1,1,()=>{i=null}),Pt())},i(_){p||(ae(a),ae(i),p=!0)},o(_){ie(a),ie(i),p=!1},d(_){_&&(c(e),c(v),c(m)),~l&&$[l].d(),i&&i.d(_)}}}function Ms(o){let e,t,r;return t=new ns({props:{showBackButton:!0,$$slots:{default:[ks]},$$scope:{ctx:o}}}),{c(){e=D(),_e(t.$$.fragment),this.h()},l(n){ts("svelte-1umep2t",document.head).forEach(c),e=E(n),he(t.$$.fragment,n),this.h()},h(){document.title="12音階モード（クロマチック） - 相対音感トレーニング"},m(n,l){O(n,e,l),de(t,n,l),r=!0},p(n,l){const a={};l[0]&262143|l[1]&65536&&(a.$$scope={dirty:l,ctx:n}),t.$set(a)},i(n){r||(ae(t.$$.fragment,n),r=!0)},o(n){ie(t.$$.fragment,n),r=!1},d(n){n&&c(e),ve(t,n)}}}function ws(o,e,t){let r,n,l,a,v,m="ascending",p=!1,g=!1,$="C4",d="C4",i=0,_=[],y=!1,M=0,C=0,k="",H=!1,w=null,j=!1;const S=["ド","ド#","レ","レ#","ミ","ファ","ファ#","ソ","ソ#","ラ","ラ#","シ"],P=["シ","ラ#","ラ","ソ#","ソ","ファ#","ファ","ミ","レ#","レ","ド#","ド"],A=[{note:"C3",japanese:"ド3",frequency:130.81},{note:"D3",japanese:"レ3",frequency:146.83},{note:"E3",japanese:"ミ3",frequency:164.81},{note:"F3",japanese:"ファ3",frequency:174.61},{note:"G3",japanese:"ソ3",frequency:196},{note:"A3",japanese:"ラ3",frequency:220},{note:"B3",japanese:"シ3",frequency:246.94},{note:"C4",japanese:"ド4",frequency:261.63},{note:"D4",japanese:"レ4",frequency:293.66},{note:"E4",japanese:"ミ4",frequency:329.63},{note:"F4",japanese:"ファ4",frequency:349.23},{note:"G4",japanese:"ソ4",frequency:392},{note:"A4",japanese:"ラ4",frequency:440},{note:"B4",japanese:"シ4",frequency:493.88},{note:"C5",japanese:"ド5",frequency:523.25}];ss(()=>{R(),G()});function R(){if(typeof localStorage<"u"){if(j=localStorage.getItem("mic-test-completed")==="true",!j){console.log("マイクテスト未完了 - マイクテストページに誘導"),as(`${rs}/microphone-test?mode=chromatic`);return}console.log("✅ マイクテスト完了済み - 12音階モード開始可能")}}function G(){if(typeof localStorage<"u"){const T=localStorage.getItem("vocal-range");if(T)try{t(13,w=JSON.parse(T)),console.log("音域データ読み込み:",w)}catch(ne){console.error("音域データ解析エラー:",ne),t(13,w=null)}}}function Z(){if(!w)return A.filter(le=>le.frequency>=200&&le.frequency<=400);const T=w.lowestFrequency,ne=w.highestFrequency,te=T*1.2,ue=ne*.8;return A.filter(le=>le.frequency>=te&&le.frequency<=ue)}function se(){t(12,H=!0)}function W(T){t(7,d=T.note),t(6,$=T.note),t(12,H=!1),console.log("基音選択:",T)}function x(){t(8,i=0),t(1,_=[]),t(9,y=!1),me(d)}function me(T){t(4,p=!0),t(6,$=T),console.log(`基音再生: ${T} (${m==="ascending"?"上行":"下行"})`),setTimeout(()=>{t(4,p=!1),Y()},3e3)}function Y(){t(5,g=!0);const T=setInterval(()=>{if(!g){clearInterval(T);return}t(2,M=Math.random()*100);const ne=[261.63,277.18,293.66,311.13,329.63,349.23,369.99,392,415.3,440,466.16,493.88];if(t(10,C=ne[Math.floor(Math.random()*ne.length)]),t(11,k=r[Math.floor(Math.random()*r.length)]),Math.random()>.6){const te=Math.random()>.4;t(1,_[i]=te,_),t(8,i++,i),i>=12&&K()}},600)}function K(){t(5,g=!1),t(9,y=!0)}function z(){t(0,m=m==="ascending"?"descending":"ascending")}const B=T=>T.note===d,q=()=>t(0,m="ascending"),L=()=>t(0,m="descending"),N=T=>T.note===d,U=T=>W(T),ee=()=>t(12,H=!1);return o.$$.update=()=>{o.$$.dirty[0]&1&&t(16,r=m==="ascending"?S:P),o.$$.dirty[0]&4&&t(15,l=Math.max(0,Math.min(100,M))),o.$$.dirty[0]&2&&t(3,a=_.filter(T=>T).length),o.$$.dirty[0]&8&&t(14,v=Math.round(a/12*100))},t(17,n=Z()),[m,_,M,a,p,g,$,d,i,y,C,k,H,w,v,l,r,n,S,A,se,W,x,z,B,q,L,N,U,ee]}class As extends Zt{constructor(e){super(),xt(this,e,ws,Ms,es,{},null,[-1,-1])}}export{As as component,js as universal};
