import{S as ne,i as le,d as G,s as se,a as ae,D as oe,b as h,q as at,r as tt,u as et,f as L,w as ot,E as re,m as P,x as rt,p as R,y as ct,F as ce,G as ie,g as a,z as u,h as f,j as p,k as b,B as mt,A as T,o as $,C as gt,J as wt,l as z,t as j,e as nt,M as zt,H as qt,N as Vt}from"../chunks/p0IT90XR.js";import{g as ue}from"../chunks/D0QH3NT1.js";import"../chunks/B0HqwU-P.js";import{P as jt,B as Bt,C as ft}from"../chunks/cNaTqdNa.js";const{console:fe}=ue,d="src/routes/training/random/+page.svelte";function At(o,t,e){const r=o.slice();return r[19]=t[e],r[21]=e,r}function xt(o,t,e){const r=o.slice();return r[19]=t[e],r[21]=e,r}function Wt(o){let t,e,r;e=new ft({props:{variant:"default",padding:"lg",$$slots:{default:[Jt]},$$scope:{ctx:o}},$$inline:!0});const i={c:function(){t=$("div"),ct(e.$$.fragment),this.h()},l:function(l){t=p(l,"DIV",{class:!0});var s=b(t);rt(e.$$.fragment,s),s.forEach(h),this.h()},h:function(){u(t,"class","results-screen"),f(t,d,252,6,7907)},m:function(l,s){L(l,t,s),ot(e,t,null),r=!0},p:function(l,s){const m={};s&8389637&&(m.$$scope={dirty:s,ctx:l}),e.$set(m)},i:function(l){r||(et(e.$$.fragment,l),r=!0)},o:function(l){tt(e.$$.fragment,l),r=!1},d:function(l){l&&h(t),at(e)}};return G("SvelteRegisterBlock",{block:i,id:Wt.name,type:"if",source:"(251:26) ",ctx:o}),i}function Ft(o){let t,e,r,i,n,l,s,m,k,c,v;e=new ft({props:{variant:"default",padding:"lg",$$slots:{default:[Kt]},$$scope:{ctx:o}},$$inline:!0}),l=new ft({props:{variant:"default",padding:"md",$$slots:{default:[Qt]},$$scope:{ctx:o}},$$inline:!0}),m=new ft({props:{variant:"default",padding:"md",$$slots:{default:[Ut]},$$scope:{ctx:o}},$$inline:!0}),c=new ft({props:{variant:"default",padding:"md",$$slots:{default:[Xt]},$$scope:{ctx:o}},$$inline:!0});const C={c:function(){t=$("div"),ct(e.$$.fragment),r=R(),i=$("div"),n=$("div"),ct(l.$$.fragment),s=R(),ct(m.$$.fragment),k=R(),ct(c.$$.fragment),this.h()},l:function(g){t=p(g,"DIV",{class:!0});var y=b(t);rt(e.$$.fragment,y),r=P(y),i=p(y,"DIV",{class:!0});var I=b(i);n=p(I,"DIV",{class:!0});var D=b(n);rt(l.$$.fragment,D),s=P(D),rt(m.$$.fragment,D),D.forEach(h),I.forEach(h),k=P(y),rt(c.$$.fragment,y),y.forEach(h),this.h()},h:function(){u(n,"class","display-grid svelte-tam1lg"),f(n,d,212,10,6433),u(i,"class","realtime-display svelte-tam1lg"),f(i,d,211,8,6392),u(t,"class","detection-screen"),f(t,d,190,6,5519)},m:function(g,y){L(g,t,y),ot(e,t,null),a(t,r),a(t,i),a(i,n),ot(l,n,null),a(n,s),ot(m,n,null),a(t,k),ot(c,t,null),v=!0},p:function(g,y){const I={};y&8388673&&(I.$$scope={dirty:y,ctx:g}),e.$set(I);const D={};y&8390658&&(D.$$scope={dirty:y,ctx:g}),l.$set(D);const V={};y&8389376&&(V.$$scope={dirty:y,ctx:g}),m.$set(V);const w={};y&8388676&&(w.$$scope={dirty:y,ctx:g}),c.$set(w)},i:function(g){v||(et(e.$$.fragment,g),et(l.$$.fragment,g),et(m.$$.fragment,g),et(c.$$.fragment,g),v=!0)},o:function(g){tt(e.$$.fragment,g),tt(l.$$.fragment,g),tt(m.$$.fragment,g),tt(c.$$.fragment,g),v=!1},d:function(g){g&&h(t),at(e),at(l),at(m),at(c)}};return G("SvelteRegisterBlock",{block:C,id:Ft.name,type:"if",source:"(189:26) ",ctx:o}),C}function Tt(o){let t,e,r;e=new ft({props:{variant:"success",padding:"lg",$$slots:{default:[Yt]},$$scope:{ctx:o}},$$inline:!0});const i={c:function(){t=$("div"),ct(e.$$.fragment),this.h()},l:function(l){t=p(l,"DIV",{class:!0});var s=b(t);rt(e.$$.fragment,s),s.forEach(h),this.h()},h:function(){u(t,"class","playing-screen"),f(t,d,165,6,4614)},m:function(l,s){L(l,t,s),ot(e,t,null),r=!0},p:function(l,s){const m={};s&8388640&&(m.$$scope={dirty:s,ctx:l}),e.$set(m)},i:function(l){r||(et(e.$$.fragment,l),r=!0)},o:function(l){tt(e.$$.fragment,l),r=!1},d:function(l){l&&h(t),at(e)}};return G("SvelteRegisterBlock",{block:i,id:Tt.name,type:"if",source:"(164:24) ",ctx:o}),i}function Gt(o){let t,e,r;e=new ft({props:{variant:"default",padding:"lg",$$slots:{default:[te]},$$scope:{ctx:o}},$$inline:!0});const i={c:function(){t=$("div"),ct(e.$$.fragment),this.h()},l:function(l){t=p(l,"DIV",{class:!0});var s=b(t);rt(e.$$.fragment,s),s.forEach(h),this.h()},h:function(){u(t,"class","start-screen"),f(t,d,122,6,3260)},m:function(l,s){L(l,t,s),ot(e,t,null),r=!0},p:function(l,s){const m={};s&8388608&&(m.$$scope={dirty:s,ctx:l}),e.$set(m)},i:function(l){r||(et(e.$$.fragment,l),r=!0)},o:function(l){tt(e.$$.fragment,l),r=!1},d:function(l){l&&h(t),at(e)}};return G("SvelteRegisterBlock",{block:i,id:Gt.name,type:"if",source:"(121:4) {#if !isPlaying && !isDetecting && !showResults}",ctx:o}),i}function Pt(o){let t,e,r=o[19]+"",i,n,l,s=o[0][o[21]]?"✓":"×",m,k,c;const v={c:function(){t=$("div"),e=$("span"),i=j(r),n=R(),l=$("span"),m=j(s),c=R(),this.h()},l:function(E){t=p(E,"DIV",{class:!0});var g=b(t);e=p(g,"SPAN",{class:!0});var y=b(e);i=z(y,r),y.forEach(h),n=P(g),l=p(g,"SPAN",{class:!0});var I=b(l);m=z(I,s),I.forEach(h),c=P(g),g.forEach(h),this.h()},h:function(){u(e,"class","scale-note-name svelte-tam1lg"),f(e,d,274,20,8725),u(l,"class",k="scale-result-icon "+(o[0][o[21]]?"correct":"incorrect")+" svelte-tam1lg"),f(l,d,275,20,8789),u(t,"class","scale-result svelte-tam1lg"),f(t,d,273,18,8678)},m:function(E,g){L(E,t,g),a(t,e),a(e,i),a(t,n),a(t,l),a(l,m),a(t,c)},p:function(E,g){g&1&&s!==(s=E[0][E[21]]?"✓":"×")&&nt(m,s),g&1&&k!==(k="scale-result-icon "+(E[0][E[21]]?"correct":"incorrect")+" svelte-tam1lg")&&u(l,"class",k)},d:function(E){E&&h(t)}};return G("SvelteRegisterBlock",{block:v,id:Pt.name,type:"each",source:"(273:16) {#each scaleNotes as note, index}",ctx:o}),v}function Lt(o){let t;const e={c:function(){t=j("もう一度チャレンジ")},l:function(i){t=z(i,"もう一度チャレンジ")},m:function(i,n){L(i,t,n)},d:function(i){i&&h(t)}};return G("SvelteRegisterBlock",{block:e,id:Lt.name,type:"slot",source:'(286:14) <Button variant=\\"success\\" size=\\"lg\\" fullWidth on:click={startTraining}>',ctx:o}),e}function Ot(o){let t;const e={c:function(){t=j("結果を保存")},l:function(i){t=z(i,"結果を保存")},m:function(i,n){L(i,t,n)},d:function(i){i&&h(t)}};return G("SvelteRegisterBlock",{block:e,id:Ot.name,type:"slot",source:'(289:14) <Button variant=\\"secondary\\" size=\\"md\\" fullWidth>',ctx:o}),e}function Jt(o){let t,e,r="トレーニング結果",i,n,l,s,m,k,c,v="点",C,E,g,y,I,D,V,w,O="音階別結果",q,S,B,N,_,M,x,J,X=wt(o[12]),A=[];for(let K=0;K<X.length;K+=1)A[K]=Pt(At(o,X,K));_=new Bt({props:{variant:"success",size:"lg",fullWidth:!0,$$slots:{default:[Lt]},$$scope:{ctx:o}},$$inline:!0}),_.$on("click",o[13]),x=new Bt({props:{variant:"secondary",size:"md",fullWidth:!0,$$slots:{default:[Ot]},$$scope:{ctx:o}},$$inline:!0});const it={c:function(){t=$("div"),e=$("h2"),e.textContent=r,i=R(),n=$("div"),l=$("div"),s=$("span"),m=j(o[10]),k=R(),c=$("span"),c.textContent=v,C=R(),E=$("p"),g=j("8音階中 "),y=j(o[2]),I=j("音階 正解"),D=R(),V=$("div"),w=$("h3"),w.textContent=O,q=R(),S=$("div");for(let H=0;H<A.length;H+=1)A[H].c();B=R(),N=$("div"),ct(_.$$.fragment),M=R(),ct(x.$$.fragment),this.h()},l:function(H){t=p(H,"DIV",{class:!0});var W=b(t);e=p(W,"H2",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-1w4iqdy"&&(e.textContent=r),i=P(W),n=p(W,"DIV",{class:!0});var U=b(n);l=p(U,"DIV",{class:!0});var lt=b(l);s=p(lt,"SPAN",{class:!0});var F=b(s);m=z(F,o[10]),F.forEach(h),k=P(lt),c=p(lt,"SPAN",{class:!0,"data-svelte-h":!0}),T(c)!=="svelte-yaz7vv"&&(c.textContent=v),lt.forEach(h),C=P(U),E=p(U,"P",{class:!0});var Q=b(E);g=z(Q,"8音階中 "),y=z(Q,o[2]),I=z(Q,"音階 正解"),Q.forEach(h),U.forEach(h),D=P(W),V=p(W,"DIV",{class:!0});var dt=b(V);w=p(dt,"H3",{class:!0,"data-svelte-h":!0}),T(w)!=="svelte-140f1nw"&&(w.textContent=O),q=P(dt),S=p(dt,"DIV",{class:!0});var _t=b(S);for(let pt=0;pt<A.length;pt+=1)A[pt].l(_t);_t.forEach(h),dt.forEach(h),B=P(W),N=p(W,"DIV",{class:!0});var Y=b(N);rt(_.$$.fragment,Y),M=P(Y),rt(x.$$.fragment,Y),Y.forEach(h),W.forEach(h),this.h()},h:function(){u(e,"class","results-title svelte-tam1lg"),f(e,d,255,12,8034),u(s,"class","score-value svelte-tam1lg"),f(s,d,260,16,8211),u(c,"class","score-unit svelte-tam1lg"),f(c,d,261,16,8268),u(l,"class","score-circle svelte-tam1lg"),f(l,d,259,14,8168),u(E,"class","score-description svelte-tam1lg"),f(E,d,263,14,8337),u(n,"class","score-display svelte-tam1lg"),f(n,d,258,12,8126),u(w,"class","details-title svelte-tam1lg"),f(w,d,270,14,8531),u(S,"class","scale-results svelte-tam1lg"),f(S,d,271,14,8582),u(V,"class","detailed-results"),f(V,d,269,12,8486),u(N,"class","action-buttons svelte-tam1lg"),f(N,d,284,12,9086),u(t,"class","results-content svelte-tam1lg"),f(t,d,254,10,7992)},m:function(H,W){L(H,t,W),a(t,e),a(t,i),a(t,n),a(n,l),a(l,s),a(s,m),a(l,k),a(l,c),a(n,C),a(n,E),a(E,g),a(E,y),a(E,I),a(t,D),a(t,V),a(V,w),a(V,q),a(V,S);for(let U=0;U<A.length;U+=1)A[U]&&A[U].m(S,null);a(t,B),a(t,N),ot(_,N,null),a(N,M),ot(x,N,null),J=!0},p:function(H,W){if((!J||W&1024)&&nt(m,H[10]),(!J||W&4)&&nt(y,H[2]),W&4097){X=wt(H[12]);let F;for(F=0;F<X.length;F+=1){const Q=At(H,X,F);A[F]?A[F].p(Q,W):(A[F]=Pt(Q),A[F].c(),A[F].m(S,null))}for(;F<A.length;F+=1)A[F].d(1);A.length=X.length}const U={};W&8388608&&(U.$$scope={dirty:W,ctx:H}),_.$set(U);const lt={};W&8388608&&(lt.$$scope={dirty:W,ctx:H}),x.$set(lt)},i:function(H){J||(et(_.$$.fragment,H),et(x.$$.fragment,H),J=!0)},o:function(H){tt(_.$$.fragment,H),tt(x.$$.fragment,H),J=!1},d:function(H){H&&h(t),zt(A,H),at(_),at(x)}};return G("SvelteRegisterBlock",{block:it,id:Jt.name,type:"slot",source:'(254:8) <Card variant=\\"default\\" padding=\\"lg\\">',ctx:o}),it}function Rt(o){let t,e=o[0][o[21]]?"✓":"×",r,i;const n={c:function(){t=$("span"),r=j(e),this.h()},l:function(s){t=p(s,"SPAN",{class:!0});var m=b(t);r=z(m,e),m.forEach(h),this.h()},h:function(){u(t,"class",i="result-icon "+(o[0][o[21]]?"correct":"incorrect")+" svelte-tam1lg"),f(t,d,200,20,6077)},m:function(s,m){L(s,t,m),a(t,r)},p:function(s,m){m&1&&e!==(e=s[0][s[21]]?"✓":"×")&&nt(r,e),m&1&&i!==(i="result-icon "+(s[0][s[21]]?"correct":"incorrect")+" svelte-tam1lg")&&u(t,"class",i)},d:function(s){s&&h(t)}};return G("SvelteRegisterBlock",{block:n,id:Rt.name,type:"if",source:"(200:18) {#if scaleResults[index] !== undefined}",ctx:o}),n}function Nt(o){let t,e,r=o[19]+"",i,n,l,s=o[0][o[21]]!==void 0&&Rt(o);const m={c:function(){t=$("div"),e=$("span"),i=j(r),n=R(),s&&s.c(),l=R(),this.h()},l:function(c){t=p(c,"DIV",{class:!0});var v=b(t);e=p(v,"SPAN",{class:!0});var C=b(e);i=z(C,r),C.forEach(h),n=P(v),s&&s.l(v),l=P(v),v.forEach(h),this.h()},h:function(){u(e,"class","note-text svelte-tam1lg"),f(e,d,198,18,5961),u(t,"class","scale-note svelte-tam1lg"),Vt(t,"active",o[21]===o[6]),Vt(t,"completed",o[0][o[21]]!==void 0),f(t,d,197,16,5823)},m:function(c,v){L(c,t,v),a(t,e),a(e,i),a(t,n),s&&s.m(t,null),a(t,l)},p:function(c,v){c[0][c[21]]!==void 0?s?s.p(c,v):(s=Rt(c),s.c(),s.m(t,l)):s&&(s.d(1),s=null),v&64&&Vt(t,"active",c[21]===c[6]),v&1&&Vt(t,"completed",c[0][c[21]]!==void 0)},d:function(c){c&&h(t),s&&s.d()}};return G("SvelteRegisterBlock",{block:m,id:Nt.name,type:"each",source:"(197:14) {#each scaleNotes as note, index}",ctx:o}),m}function Kt(o){let t,e,r="ドレミファソラシドを歌ってください",i,n,l=wt(o[12]),s=[];for(let k=0;k<l.length;k+=1)s[k]=Nt(xt(o,l,k));const m={c:function(){t=$("div"),e=$("h2"),e.textContent=r,i=R(),n=$("div");for(let c=0;c<s.length;c+=1)s[c].c();this.h()},l:function(c){t=p(c,"DIV",{class:!0});var v=b(t);e=p(v,"H2",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-9l8glf"&&(e.textContent=r),i=P(v),n=p(v,"DIV",{class:!0});var C=b(n);for(let E=0;E<s.length;E+=1)s[E].l(C);C.forEach(h),v.forEach(h),this.h()},h:function(){u(e,"class","guide-title svelte-tam1lg"),f(e,d,194,12,5674),u(n,"class","scale-guide svelte-tam1lg"),f(n,d,195,12,5733),u(t,"class","guide-content svelte-tam1lg"),f(t,d,193,10,5634)},m:function(c,v){L(c,t,v),a(t,e),a(t,i),a(t,n);for(let C=0;C<s.length;C+=1)s[C]&&s[C].m(n,null)},p:function(c,v){if(v&4161){l=wt(c[12]);let C;for(C=0;C<l.length;C+=1){const E=xt(c,l,C);s[C]?s[C].p(E,v):(s[C]=Nt(E),s[C].c(),s[C].m(n,null))}for(;C<s.length;C+=1)s[C].d(1);s.length=l.length}},d:function(c){c&&h(t),zt(s,c)}};return G("SvelteRegisterBlock",{block:m,id:Kt.name,type:"slot",source:'(193:8) <Card variant=\\"default\\" padding=\\"lg\\">',ctx:o}),m}function Qt(o){let t,e,r="音量レベル",i,n,l,s,m,k,c=Math.round(o[1])+"",v,C;const E={c:function(){t=$("div"),e=$("h3"),e.textContent=r,i=R(),n=$("div"),l=$("div"),s=$("div"),m=R(),k=$("span"),v=j(c),C=j("%"),this.h()},l:function(y){t=p(y,"DIV",{class:!0});var I=b(t);e=p(I,"H3",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-1nc8gri"&&(e.textContent=r),i=P(I),n=p(I,"DIV",{class:!0});var D=b(n);l=p(D,"DIV",{class:!0});var V=b(l);s=p(V,"DIV",{class:!0,style:!0}),b(s).forEach(h),V.forEach(h),m=P(D),k=p(D,"SPAN",{class:!0});var w=b(k);v=z(w,c),C=z(w,"%"),w.forEach(h),D.forEach(h),I.forEach(h),this.h()},h:function(){u(e,"class","display-title svelte-tam1lg"),f(e,d,216,16,6595),u(s,"class","volume-fill svelte-tam1lg"),qt(s,"width",o[11]+"%"),f(s,d,219,20,6746),u(l,"class","volume-bar svelte-tam1lg"),f(l,d,218,18,6701),u(k,"class","volume-text svelte-tam1lg"),f(k,d,221,18,6851),u(n,"class","volume-bar-container svelte-tam1lg"),f(n,d,217,16,6648),u(t,"class","volume-display"),f(t,d,215,14,6550)},m:function(y,I){L(y,t,I),a(t,e),a(t,i),a(t,n),a(n,l),a(l,s),a(n,m),a(n,k),a(k,v),a(k,C)},p:function(y,I){I&2048&&qt(s,"width",y[11]+"%"),I&2&&c!==(c=Math.round(y[1])+"")&&nt(v,c)},d:function(y){y&&h(t)}};return G("SvelteRegisterBlock",{block:E,id:Qt.name,type:"slot",source:'(215:12) <Card variant=\\"default\\" padding=\\"md\\">',ctx:o}),E}function Ut(o){let t,e,r="検出音程",i,n,l,s=o[8].toFixed(1)+"",m,k,c,v,C;const E={c:function(){t=$("div"),e=$("h3"),e.textContent=r,i=R(),n=$("div"),l=$("div"),m=j(s),k=j(" Hz"),c=R(),v=$("div"),C=j(o[9]),this.h()},l:function(y){t=p(y,"DIV",{class:!0});var I=b(t);e=p(I,"H3",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-tjj9b2"&&(e.textContent=r),i=P(I),n=p(I,"DIV",{class:!0});var D=b(n);l=p(D,"DIV",{class:!0});var V=b(l);m=z(V,s),k=z(V," Hz"),V.forEach(h),c=P(D),v=p(D,"DIV",{class:!0});var w=b(v);C=z(w,o[9]),w.forEach(h),D.forEach(h),I.forEach(h),this.h()},h:function(){u(e,"class","display-title svelte-tam1lg"),f(e,d,229,16,7112),u(l,"class","frequency-value svelte-tam1lg"),f(l,d,231,18,7207),u(v,"class","note-value svelte-tam1lg"),f(v,d,232,18,7293),u(n,"class","pitch-info svelte-tam1lg"),f(n,d,230,16,7164),u(t,"class","pitch-display"),f(t,d,228,14,7068)},m:function(y,I){L(y,t,I),a(t,e),a(t,i),a(t,n),a(n,l),a(l,m),a(l,k),a(n,c),a(n,v),a(v,C)},p:function(y,I){I&256&&s!==(s=y[8].toFixed(1)+"")&&nt(m,s),I&512&&nt(C,y[9])},d:function(y){y&&h(t)}};return G("SvelteRegisterBlock",{block:E,id:Ut.name,type:"slot",source:'(228:12) <Card variant=\\"default\\" padding=\\"md\\">',ctx:o}),E}function Xt(o){let t,e,r="進行状況",i,n,l,s,m=o[12][o[6]]+"",k,c,v=o[6]+1+"",C,E,g,y,I,D,V,w;const O={c:function(){t=$("div"),e=$("h3"),e.textContent=r,i=R(),n=$("div"),l=$("span"),s=j("現在: "),k=j(m),c=j(" ("),C=j(v),E=j("/8)"),g=R(),y=$("span"),I=j("正解: "),D=j(o[2]),V=j("/"),w=j(o[6]),this.h()},l:function(S){t=p(S,"DIV",{class:!0});var B=b(t);e=p(B,"H3",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-v1qnd4"&&(e.textContent=r),i=P(B),n=p(B,"DIV",{class:!0});var N=b(n);l=p(N,"SPAN",{});var _=b(l);s=z(_,"現在: "),k=z(_,m),c=z(_," ("),C=z(_,v),E=z(_,"/8)"),_.forEach(h),g=P(N),y=p(N,"SPAN",{});var M=b(y);I=z(M,"正解: "),D=z(M,o[2]),V=z(M,"/"),w=z(M,o[6]),M.forEach(h),N.forEach(h),B.forEach(h),this.h()},h:function(){u(e,"class","progress-title svelte-tam1lg"),f(e,d,242,12,7552),f(l,d,244,14,7646),f(y,d,245,14,7737),u(n,"class","progress-details svelte-tam1lg"),f(n,d,243,12,7601),u(t,"class","progress-info svelte-tam1lg"),f(t,d,241,10,7512)},m:function(S,B){L(S,t,B),a(t,e),a(t,i),a(t,n),a(n,l),a(l,s),a(l,k),a(l,c),a(l,C),a(l,E),a(n,g),a(n,y),a(y,I),a(y,D),a(y,V),a(y,w)},p:function(S,B){B&64&&m!==(m=S[12][S[6]]+"")&&nt(k,m),B&64&&v!==(v=S[6]+1+"")&&nt(C,v),B&4&&nt(D,S[2]),B&64&&nt(w,S[6])},d:function(S){S&&h(t)}};return G("SvelteRegisterBlock",{block:O,id:Xt.name,type:"slot",source:'(241:8) <Card variant=\\"default\\" padding=\\"md\\">',ctx:o}),O}function Yt(o){let t,e,r,i,n,l,s,m="基音再生中",k,c,v,C,E,g,y="この音を覚えて「ド」として認識してください",I,D,V,w;const O={c:function(){t=$("div"),e=$("div"),r=gt("svg"),i=gt("circle"),n=gt("polygon"),l=R(),s=$("h2"),s.textContent=m,k=R(),c=$("p"),v=j("基音: "),C=j(o[5]),E=R(),g=$("p"),g.textContent=y,I=R(),D=$("div"),V=$("div"),w=$("div"),this.h()},l:function(S){t=p(S,"DIV",{class:!0});var B=b(t);e=p(B,"DIV",{class:!0});var N=b(e);r=mt(N,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0});var _=b(r);i=mt(_,"circle",{cx:!0,cy:!0,r:!0}),b(i).forEach(h),n=mt(_,"polygon",{points:!0}),b(n).forEach(h),_.forEach(h),N.forEach(h),l=P(B),s=p(B,"H2",{class:!0,"data-svelte-h":!0}),T(s)!=="svelte-1maueo6"&&(s.textContent=m),k=P(B),c=p(B,"P",{class:!0});var M=b(c);v=z(M,"基音: "),C=z(M,o[5]),M.forEach(h),E=P(B),g=p(B,"P",{class:!0,"data-svelte-h":!0}),T(g)!=="svelte-1hcrx2z"&&(g.textContent=y),I=P(B),D=p(B,"DIV",{class:!0});var x=b(D);V=p(x,"DIV",{class:!0});var J=b(V);w=p(J,"DIV",{class:!0}),b(w).forEach(h),J.forEach(h),x.forEach(h),B.forEach(h),this.h()},h:function(){u(i,"cx","12"),u(i,"cy","12"),u(i,"r","10"),f(i,d,170,16,4898),u(n,"points","10,8 16,12 10,16"),f(n,d,171,16,4947),u(r,"width","48"),u(r,"height","48"),u(r,"viewBox","0 0 24 24"),u(r,"fill","none"),u(r,"stroke","currentColor"),u(r,"stroke-width","2"),f(r,d,169,14,4782),u(e,"class","playing-icon svelte-tam1lg"),f(e,d,168,12,4741),u(s,"class","playing-title svelte-tam1lg"),f(s,d,174,12,5036),u(c,"class","playing-note svelte-tam1lg"),f(c,d,175,12,5085),u(g,"class","playing-instruction svelte-tam1lg"),f(g,d,176,12,5147),u(w,"class","progress-fill svelte-tam1lg"),f(w,d,182,16,5345),u(V,"class","progress-bar svelte-tam1lg"),f(V,d,181,14,5302),u(D,"class","playing-progress svelte-tam1lg"),f(D,d,180,12,5257),u(t,"class","playing-content svelte-tam1lg"),f(t,d,167,10,4699)},m:function(S,B){L(S,t,B),a(t,e),a(e,r),a(r,i),a(r,n),a(t,l),a(t,s),a(t,k),a(t,c),a(c,v),a(c,C),a(t,E),a(t,g),a(t,I),a(t,D),a(D,V),a(V,w)},p:function(S,B){B&32&&nt(C,S[5])},d:function(S){S&&h(t)}};return G("SvelteRegisterBlock",{block:O,id:Yt.name,type:"slot",source:'(167:8) <Card variant=\\"success\\" padding=\\"lg\\">',ctx:o}),O}function Zt(o){let t;const e={c:function(){t=j("トレーニング開始")},l:function(i){t=z(i,"トレーニング開始")},m:function(i,n){L(i,t,n)},d:function(i){i&&h(t)}};return G("SvelteRegisterBlock",{block:e,id:Zt.name,type:"slot",source:'(158:12) <Button variant=\\"success\\" size=\\"lg\\" fullWidth on:click={startTraining}>',ctx:o}),e}function te(o){let t,e,r="トレーニング開始",i,n,l,s,m,k,c,v,C,E="1",g,y,I,D="基音を聞く",V,w,O="ランダムに選ばれた基音をピアノで再生します",q,S,B,N="2",_,M,x,J="連続歌唱",X,A,it="基音を「ド」として、ドレミファソラシドを連続して歌います",K,H,W,U="3",lt,F,Q,dt="自動判定",_t,Y,pt="歌唱中にリアルタイムで各音階を自動判定します",St,ut,Ct;ut=new Bt({props:{variant:"success",size:"lg",fullWidth:!0,$$slots:{default:[Zt]},$$scope:{ctx:o}},$$inline:!0}),ut.$on("click",o[13]);const Ht={c:function(){t=$("div"),e=$("h2"),e.textContent=r,i=R(),n=$("p"),l=j("基音を聞いた後、その音を「ド」として"),s=$("br"),m=j(`
              ドレミファソラシドを連続して歌ってください`),k=R(),c=$("div"),v=$("div"),C=$("span"),C.textContent=E,g=R(),y=$("div"),I=$("h3"),I.textContent=D,V=R(),w=$("p"),w.textContent=O,q=R(),S=$("div"),B=$("span"),B.textContent=N,_=R(),M=$("div"),x=$("h3"),x.textContent=J,X=R(),A=$("p"),A.textContent=it,K=R(),H=$("div"),W=$("span"),W.textContent=U,lt=R(),F=$("div"),Q=$("h3"),Q.textContent=dt,_t=R(),Y=$("p"),Y.textContent=pt,St=R(),ct(ut.$$.fragment),this.h()},l:function(st){t=p(st,"DIV",{class:!0});var Z=b(t);e=p(Z,"H2",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-177yn6"&&(e.textContent=r),i=P(Z),n=p(Z,"P",{class:!0});var ht=b(n);l=z(ht,"基音を聞いた後、その音を「ド」として"),s=p(ht,"BR",{}),m=z(ht,`
              ドレミファソラシドを連続して歌ってください`),ht.forEach(h),k=P(Z),c=p(Z,"DIV",{class:!0});var $t=b(c);v=p($t,"DIV",{class:!0});var yt=b(v);C=p(yt,"SPAN",{class:!0,"data-svelte-h":!0}),T(C)!=="svelte-1gvrwis"&&(C.textContent=E),g=P(yt),y=p(yt,"DIV",{});var kt=b(y);I=p(kt,"H3",{class:!0,"data-svelte-h":!0}),T(I)!=="svelte-3o2umq"&&(I.textContent=D),V=P(kt),w=p(kt,"P",{class:!0,"data-svelte-h":!0}),T(w)!=="svelte-r15f9m"&&(w.textContent=O),kt.forEach(h),yt.forEach(h),q=P($t),S=p($t,"DIV",{class:!0});var Et=b(S);B=p(Et,"SPAN",{class:!0,"data-svelte-h":!0}),T(B)!=="svelte-1lllrxb"&&(B.textContent=N),_=P(Et),M=p(Et,"DIV",{});var bt=b(M);x=p(bt,"H3",{class:!0,"data-svelte-h":!0}),T(x)!=="svelte-1lldj7q"&&(x.textContent=J),X=P(bt),A=p(bt,"P",{class:!0,"data-svelte-h":!0}),T(A)!=="svelte-1n1vdfq"&&(A.textContent=it),bt.forEach(h),Et.forEach(h),K=P($t),H=p($t,"DIV",{class:!0});var Dt=b(H);W=p(Dt,"SPAN",{class:!0,"data-svelte-h":!0}),T(W)!=="svelte-1swoen2"&&(W.textContent=U),lt=P(Dt),F=p(Dt,"DIV",{});var It=b(F);Q=p(It,"H3",{class:!0,"data-svelte-h":!0}),T(Q)!=="svelte-wm6hg7"&&(Q.textContent=dt),_t=P(It),Y=p(It,"P",{class:!0,"data-svelte-h":!0}),T(Y)!=="svelte-1tyv544"&&(Y.textContent=pt),It.forEach(h),Dt.forEach(h),$t.forEach(h),St=P(Z),rt(ut.$$.fragment,Z),Z.forEach(h),this.h()},h:function(){u(e,"class","start-title svelte-tam1lg"),f(e,d,125,12,3383),f(s,d,127,32,3495),u(n,"class","start-description svelte-tam1lg"),f(n,d,126,12,3433),u(C,"class","step-number svelte-tam1lg"),f(C,d,133,16,3666),u(I,"class","svelte-tam1lg"),f(I,d,135,18,3741),u(w,"class","svelte-tam1lg"),f(w,d,136,18,3774),f(y,d,134,16,3717),u(v,"class","instruction-item svelte-tam1lg"),f(v,d,132,14,3619),u(B,"class","step-number svelte-tam1lg"),f(B,d,141,16,3923),u(x,"class","svelte-tam1lg"),f(x,d,143,18,3998),u(A,"class","svelte-tam1lg"),f(A,d,144,18,4030),f(M,d,142,16,3974),u(S,"class","instruction-item svelte-tam1lg"),f(S,d,140,14,3876),u(W,"class","step-number svelte-tam1lg"),f(W,d,149,16,4186),u(Q,"class","svelte-tam1lg"),f(Q,d,151,18,4261),u(Y,"class","svelte-tam1lg"),f(Y,d,152,18,4293),f(F,d,150,16,4237),u(H,"class","instruction-item svelte-tam1lg"),f(H,d,148,14,4139),u(c,"class","instructions svelte-tam1lg"),f(c,d,131,12,3578),u(t,"class","start-content svelte-tam1lg"),f(t,d,124,10,3343)},m:function(st,Z){L(st,t,Z),a(t,e),a(t,i),a(t,n),a(n,l),a(n,s),a(n,m),a(t,k),a(t,c),a(c,v),a(v,C),a(v,g),a(v,y),a(y,I),a(y,V),a(y,w),a(c,q),a(c,S),a(S,B),a(S,_),a(S,M),a(M,x),a(M,X),a(M,A),a(c,K),a(c,H),a(H,W),a(H,lt),a(H,F),a(F,Q),a(F,_t),a(F,Y),a(t,St),ot(ut,t,null),Ct=!0},p:function(st,Z){const ht={};Z&8388608&&(ht.$$scope={dirty:Z,ctx:st}),ut.$set(ht)},i:function(st){Ct||(et(ut.$$.fragment,st),Ct=!0)},o:function(st){tt(ut.$$.fragment,st),Ct=!1},d:function(st){st&&h(t),at(ut)}};return G("SvelteRegisterBlock",{block:Ht,id:te.name,type:"slot",source:'(124:8) <Card variant=\\"default\\" padding=\\"lg\\">',ctx:o}),Ht}function ee(o){let t,e,r,i,n,l,s,m,k,c,v,C="ランダム基音モード",E,g,y="10種類の基音からランダムに選択してトレーニング",I,D,V,w;const O=[Gt,Tt,Ft,Wt],q=[];function S(N,_){return!N[3]&&!N[4]&&!N[7]?0:N[3]?1:N[4]?2:N[7]?3:-1}~(D=S(o))&&(V=q[D]=O[D](o));const B={c:function(){t=$("div"),e=$("div"),r=$("div"),i=$("div"),n=gt("svg"),l=gt("path"),s=gt("circle"),m=gt("circle"),k=R(),c=$("div"),v=$("h1"),v.textContent=C,E=R(),g=$("p"),g.textContent=y,I=R(),V&&V.c(),this.h()},l:function(_){t=p(_,"DIV",{class:!0});var M=b(t);e=p(M,"DIV",{class:!0});var x=b(e);r=p(x,"DIV",{class:!0});var J=b(r);i=p(J,"DIV",{class:!0});var X=b(i);n=mt(X,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0});var A=b(n);l=mt(A,"path",{d:!0}),b(l).forEach(h),s=mt(A,"circle",{cx:!0,cy:!0,r:!0}),b(s).forEach(h),m=mt(A,"circle",{cx:!0,cy:!0,r:!0}),b(m).forEach(h),A.forEach(h),X.forEach(h),k=P(J),c=p(J,"DIV",{});var it=b(c);v=p(it,"H1",{class:!0,"data-svelte-h":!0}),T(v)!=="svelte-4p7mnf"&&(v.textContent=C),E=P(it),g=p(it,"P",{class:!0,"data-svelte-h":!0}),T(g)!=="svelte-hq31uv"&&(g.textContent=y),it.forEach(h),J.forEach(h),x.forEach(h),I=P(M),V&&V.l(M),M.forEach(h),this.h()},h:function(){u(l,"d","M9 18V5l12-2v13"),f(l,d,108,12,2865),u(s,"cx","6"),u(s,"cy","18"),u(s,"r","3"),f(s,d,109,12,2905),u(m,"cx","18"),u(m,"cy","16"),u(m,"r","3"),f(m,d,110,12,2948),u(n,"width","32"),u(n,"height","32"),u(n,"viewBox","0 0 24 24"),u(n,"fill","none"),u(n,"stroke","currentColor"),u(n,"stroke-width","2"),f(n,d,107,10,2753),u(i,"class","mode-icon svelte-tam1lg"),f(i,d,106,8,2719),u(v,"class","mode-title svelte-tam1lg"),f(v,d,114,10,3036),u(g,"class","mode-description svelte-tam1lg"),f(g,d,115,10,3084),f(c,d,113,8,3020),u(r,"class","mode-header svelte-tam1lg"),f(r,d,105,6,2685),u(e,"class","header svelte-tam1lg"),f(e,d,104,4,2658),u(t,"class","random-training svelte-tam1lg"),f(t,d,102,2,2606)},m:function(_,M){L(_,t,M),a(t,e),a(e,r),a(r,i),a(i,n),a(n,l),a(n,s),a(n,m),a(r,k),a(r,c),a(c,v),a(c,E),a(c,g),a(t,I),~D&&q[D].m(t,null),w=!0},p:function(_,M){let x=D;D=S(_),D===x?~D&&q[D].p(_,M):(V&&(ce(),tt(q[x],1,1,()=>{q[x]=null}),ie()),~D?(V=q[D],V?V.p(_,M):(V=q[D]=O[D](_),V.c()),et(V,1),V.m(t,null)):V=null)},i:function(_){w||(et(V),w=!0)},o:function(_){tt(V),w=!1},d:function(_){_&&h(t),~D&&q[D].d()}};return G("SvelteRegisterBlock",{block:B,id:ee.name,type:"slot",source:"(102:0) <PageLayout showBackButton={true}>",ctx:o}),B}function Mt(o){let t,e,r;e=new jt({props:{showBackButton:!0,$$slots:{default:[ee]},$$scope:{ctx:o}},$$inline:!0});const i={c:function(){t=R(),ct(e.$$.fragment),this.h()},l:function(l){re("svelte-1nfe5e4",document.head).forEach(h),t=P(l),rt(e.$$.fragment,l),this.h()},h:function(){document.title="ランダム基音モード - 相対音感トレーニング"},m:function(l,s){L(l,t,s),ot(e,l,s),r=!0},p:function(l,[s]){const m={};s&8392703&&(m.$$scope={dirty:s,ctx:l}),e.$set(m)},i:function(l){r||(et(e.$$.fragment,l),r=!0)},o:function(l){tt(e.$$.fragment,l),r=!1},d:function(l){l&&h(t),at(e,l)}};return G("SvelteRegisterBlock",{block:i,id:Mt.name,type:"component",source:"",ctx:o}),i}function de(o,t,e){let r,i,n,{$$slots:l={},$$scope:s}=t;ae("Page",l,[]);let m=!1,k=!1,c="",v=0,C=[],E=!1,g=0,y=0,I="";const D=["ド","レ","ミ","ファ","ソ","ラ","シ","ド"],V=["Bb3","B3","C4","Db4","D4","Eb4","E4","F4","Gb4","G4"];function w(){const _=Math.floor(Math.random()*V.length);return e(5,c=V[_]),c}function O(){e(6,v=0),e(0,C=[]),e(7,E=!1);const _=w();q(_)}function q(_){e(3,m=!0),console.log(`基音再生: ${_}`),setTimeout(()=>{e(3,m=!1),S()},2500)}function S(){e(4,k=!0);const _=setInterval(()=>{if(!k){clearInterval(_);return}e(1,g=Math.random()*100);const M=[261.63,293.66,329.63,349.23,392,440,493.88,523.25];if(e(8,y=M[Math.floor(Math.random()*M.length)]),e(9,I=D[Math.floor(Math.random()*D.length)]),Math.random()>.7){const x=Math.random()>.3;e(0,C[v]=x,C),e(6,v++,v),v>=8&&B()}},500)}function B(){e(4,k=!1),e(7,E=!0)}const N=[];return Object.keys(t).forEach(_=>{!~N.indexOf(_)&&_.slice(0,2)!=="$$"&&_!=="slot"&&fe.warn(`<Page> was created with unknown prop '${_}'`)}),o.$capture_state=()=>({onMount:oe,Card:ft,Button:Bt,PageLayout:jt,isPlaying:m,isDetecting:k,currentBaseNote:c,currentScaleIndex:v,scaleResults:C,showResults:E,currentVolume:g,currentFrequency:y,currentNote:I,scaleNotes:D,baseNotes:V,selectRandomBase:w,startTraining:O,playBaseNote:q,startDetection:S,finishTraining:B,correctCount:i,score:n,volumeWidth:r}),o.$inject_state=_=>{"isPlaying"in _&&e(3,m=_.isPlaying),"isDetecting"in _&&e(4,k=_.isDetecting),"currentBaseNote"in _&&e(5,c=_.currentBaseNote),"currentScaleIndex"in _&&e(6,v=_.currentScaleIndex),"scaleResults"in _&&e(0,C=_.scaleResults),"showResults"in _&&e(7,E=_.showResults),"currentVolume"in _&&e(1,g=_.currentVolume),"currentFrequency"in _&&e(8,y=_.currentFrequency),"currentNote"in _&&e(9,I=_.currentNote),"correctCount"in _&&e(2,i=_.correctCount),"score"in _&&e(10,n=_.score),"volumeWidth"in _&&e(11,r=_.volumeWidth)},t&&"$$inject"in t&&o.$inject_state(t.$$inject),o.$$.update=()=>{o.$$.dirty&2&&e(11,r=Math.max(0,Math.min(100,g))),o.$$.dirty&1&&e(2,i=C.filter(_=>_).length),o.$$.dirty&4&&e(10,n=Math.round(i/8*100))},[C,g,i,m,k,c,v,E,y,I,n,r,D,O]}class _e extends ne{constructor(t){super(t),le(this,t,de,Mt,se,{}),G("SvelteRegisterComponent",{component:this,tagName:"Page",options:t,id:Mt.name})}}export{_e as component};
