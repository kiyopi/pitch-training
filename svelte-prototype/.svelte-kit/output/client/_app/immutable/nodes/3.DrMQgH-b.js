import{S as $t,i as te,d as M,s as ee,v as ne,c as oe,a as se,D as qt,E as Pt,b as d,q as ct,r as nt,u as ot,f as I,w as at,F as ie,m as F,x as rt,p as R,y as ut,g as v,z as f,h as _,j as g,k as D,B as it,A as H,o as p,C as lt,G as le,H as ce,l as Q,t as X,n as Dt,I as At,e as _t,J as mt,K as Mt}from"../chunks/C8Utt7Cv.js";import"../chunks/Bo3Gy9_l.js";import{p as yt}from"../chunks/D7Jirv2C.js";import{P as Nt,B as Bt,C as gt}from"../chunks/C9iqe4bs.js";const y="src/routes/microphone-test/+page.svelte";function zt(l){let t,n="üé§ „Éû„Ç§„ÇØ„ÉÜ„Çπ„Éà„ÇíÈñãÂßã„Åó„Å¶„Åè„Å†„Åï„ÅÑ",i,o,e="„Éû„Ç§„ÇØË®±ÂèØ„ÇíÂèñÂæó",s,c;const u={c:function(){t=p("div"),t.textContent=n,i=R(),o=p("button"),o.textContent=e,this.h()},l:function(a){t=g(a,"DIV",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-1trsgl3"&&(t.textContent=n),i=F(a),o=g(a,"BUTTON",{class:!0,"data-svelte-h":!0}),H(o)!=="svelte-1m6icav"&&(o.textContent=e),this.h()},h:function(){f(t,"class","status-indicator pending svelte-oc1ya0"),_(t,y,256,14,7484),f(o,"class","retry-button svelte-oc1ya0"),_(o,y,257,14,7561)},m:function(a,m){I(a,t,m),I(a,i,m),I(a,o,m),s||(c=Mt(o,"click",l[9],!1),s=!0)},p:Dt,d:function(a){a&&(d(t),d(i),d(o)),s=!1,c()}};return M("SvelteRegisterBlock",{block:u,id:zt.name,type:"else",source:"(256:12) {:else}",ctx:l}),u}function Lt(l){let t,n="‚ùå „Éû„Ç§„ÇØ„Ç¢„ÇØ„Çª„Çπ„ÅåÊãíÂê¶„Åï„Çå„Åæ„Åó„Åü",i,o,e="„Éû„Ç§„ÇØË®±ÂèØ„ÇíÂÜçË©¶Ë°å",s,c;const u={c:function(){t=p("div"),t.textContent=n,i=R(),o=p("button"),o.textContent=e,this.h()},l:function(a){t=g(a,"DIV",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-4rewx4"&&(t.textContent=n),i=F(a),o=g(a,"BUTTON",{class:!0,"data-svelte-h":!0}),H(o)!=="svelte-1co4n23"&&(o.textContent=e),this.h()},h:function(){f(t,"class","status-indicator error svelte-oc1ya0"),_(t,y,251,14,7267),f(o,"class","retry-button svelte-oc1ya0"),_(o,y,252,14,7341)},m:function(a,m){I(a,t,m),I(a,i,m),I(a,o,m),s||(c=Mt(o,"click",l[9],!1),s=!0)},p:Dt,d:function(a){a&&(d(t),d(i),d(o)),s=!1,c()}};return M("SvelteRegisterBlock",{block:u,id:Lt.name,type:"if",source:"(251:49) ",ctx:l}),u}function Ht(l){let t,n="‚úÖ „Éû„Ç§„ÇØ„Ç¢„ÇØ„Çª„ÇπË®±ÂèØÊ∏à„Åø",i,o,e=l[3]&&pt(l);const s={c:function(){t=p("div"),t.textContent=n,i=R(),e&&e.c(),o=mt(),this.h()},l:function(u){t=g(u,"DIV",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-96x1w2"&&(t.textContent=n),i=F(u),e&&e.l(u),o=mt(),this.h()},h:function(){f(t,"class","status-indicator granted svelte-oc1ya0"),_(t,y,246,14,7020)},m:function(u,r){I(u,t,r),I(u,i,r),e&&e.m(u,r),I(u,o,r)},p:function(u,r){u[3]?e||(e=pt(u),e.c(),e.m(o.parentNode,o)):e&&(e.d(1),e=null)},d:function(u){u&&(d(t),d(i),d(o)),e&&e.d(u)}};return M("SvelteRegisterBlock",{block:s,id:Ht.name,type:"if",source:"(246:50) ",ctx:l}),s}function Tt(l){let t,n="‚è≥ „Éû„Ç§„ÇØË®±ÂèØ„ÇíÁ¢∫Ë™ç‰∏≠...";const i={c:function(){t=p("div"),t.textContent=n,this.h()},l:function(e){t=g(e,"DIV",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-qiomfc"&&(t.textContent=n),this.h()},h:function(){f(t,"class","status-indicator pending svelte-oc1ya0"),_(t,y,244,14,6896)},m:function(e,s){I(e,t,s)},p:Dt,d:function(e){e&&d(t)}};return M("SvelteRegisterBlock",{block:i,id:Tt.name,type:"if",source:"(244:12) {#if micPermission === 'pending'}",ctx:l}),i}function pt(l){let t,n="üé§ „É™„Ç¢„É´„Çø„Ç§„É†Ëß£Êûê‰∏≠";const i={c:function(){t=p("div"),t.textContent=n,this.h()},l:function(e){t=g(e,"DIV",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-bm11qy"&&(t.textContent=n),this.h()},h:function(){f(t,"class","status-indicator success svelte-oc1ya0"),_(t,y,248,16,7126)},m:function(e,s){I(e,t,s)},d:function(e){e&&d(t)}};return M("SvelteRegisterBlock",{block:i,id:pt.name,type:"if",source:"(248:14) {#if isListening}",ctx:l}),i}function kt(l){let t,n,i,o="Èü≥Èáè„É¨„Éô„É´",e,s,c,u,r,a=l[4].toFixed(1)+"",m,b,T,S,B,x,k,C="Èü≥Á®ãÊ§úÂá∫",E,q,P,z=l[5].toFixed(1)+"",O,Y,h,w,A,J,N,U,L;function tt(Z,V){return Z[1]?jt:Gt}let et=tt(l),W=et(l);function Et(Z,V){return Z[2]?Ot:Ut}let ft=Et(l),K=ft(l),j=l[1]&&!l[2]&&bt(l);const wt={c:function(){t=p("div"),n=p("div"),i=p("h3"),i.textContent=o,e=R(),s=p("div"),c=p("div"),u=R(),r=p("div"),m=X(a),b=X("%"),T=R(),S=p("div"),W.c(),B=R(),x=p("div"),k=p("h3"),k.textContent=C,E=R(),q=p("div"),P=p("div"),O=X(z),Y=X(" Hz"),h=R(),w=p("div"),A=X(l[6]),J=R(),N=p("div"),K.c(),U=R(),j&&j.c(),L=mt(),this.h()},l:function(V){t=g(V,"DIV",{class:!0});var G=D(t);n=g(G,"DIV",{class:!0});var $=D(n);i=g($,"H3",{class:!0,"data-svelte-h":!0}),H(i)!=="svelte-1nc8gri"&&(i.textContent=o),e=F($),s=g($,"DIV",{class:!0});var St=D(s);c=g(St,"DIV",{class:!0,style:!0}),D(c).forEach(d),St.forEach(d),u=F($),r=g($,"DIV",{class:!0});var vt=D(r);m=Q(vt,a),b=Q(vt,"%"),vt.forEach(d),T=F($),S=g($,"DIV",{class:!0});var xt=D(S);W.l(xt),xt.forEach(d),$.forEach(d),B=F(G),x=g(G,"DIV",{class:!0});var st=D(x);k=g(st,"H3",{class:!0,"data-svelte-h":!0}),H(k)!=="svelte-1ofzoy2"&&(k.textContent=C),E=F(st),q=g(st,"DIV",{class:!0});var dt=D(q);P=g(dt,"DIV",{class:!0});var ht=D(P);O=Q(ht,z),Y=Q(ht," Hz"),ht.forEach(d),h=F(dt),w=g(dt,"DIV",{class:!0});var Vt=D(w);A=Q(Vt,l[6]),Vt.forEach(d),dt.forEach(d),J=F(st),N=g(st,"DIV",{class:!0});var It=D(N);K.l(It),It.forEach(d),st.forEach(d),G.forEach(d),U=F(V),j&&j.l(V),L=mt(),this.h()},h:function(){f(i,"class","display-title svelte-oc1ya0"),_(i,y,268,16,7923),f(c,"class","volume-bar svelte-oc1ya0"),At(c,"width",l[4]+"%"),_(c,y,270,18,8029),f(s,"class","volume-bar-container svelte-oc1ya0"),_(s,y,269,16,7976),f(r,"class","volume-text svelte-oc1ya0"),_(r,y,272,16,8131),f(S,"class","volume-status svelte-oc1ya0"),_(S,y,273,16,8206),f(n,"class","volume-section svelte-oc1ya0"),_(n,y,267,14,7878),f(k,"class","display-title svelte-oc1ya0"),_(k,y,284,16,8603),f(P,"class","frequency-value svelte-oc1ya0"),_(P,y,286,18,8705),f(w,"class","note-value svelte-oc1ya0"),_(w,y,287,18,8791),f(q,"class","frequency-display svelte-oc1ya0"),_(q,y,285,16,8655),f(N,"class","frequency-status svelte-oc1ya0"),_(N,y,289,16,8874),f(x,"class","frequency-section"),_(x,y,283,14,8555),f(t,"class","realtime-display svelte-oc1ya0"),_(t,y,265,12,7804)},m:function(V,G){I(V,t,G),v(t,n),v(n,i),v(n,e),v(n,s),v(s,c),v(n,u),v(n,r),v(r,m),v(r,b),v(n,T),v(n,S),W.m(S,null),v(t,B),v(t,x),v(x,k),v(x,E),v(x,q),v(q,P),v(P,O),v(P,Y),v(q,h),v(q,w),v(w,A),v(x,J),v(x,N),K.m(N,null),I(V,U,G),j&&j.m(V,G),I(V,L,G)},p:function(V,G){G&16&&At(c,"width",V[4]+"%"),G&16&&a!==(a=V[4].toFixed(1)+"")&&_t(m,a),et!==(et=tt(V))&&(W.d(1),W=et(V),W&&(W.c(),W.m(S,null))),G&32&&z!==(z=V[5].toFixed(1)+"")&&_t(O,z),G&64&&_t(A,V[6]),ft!==(ft=Et(V))&&(K.d(1),K=ft(V),K&&(K.c(),K.m(N,null))),V[1]&&!V[2]?j||(j=bt(V),j.c(),j.m(L.parentNode,L)):j&&(j.d(1),j=null)},d:function(V){V&&(d(t),d(U),d(L)),W.d(),K.d(),j&&j.d(V)}};return M("SvelteRegisterBlock",{block:wt,id:kt.name,type:"if",source:"(265:10) {#if micPermission === 'granted' && isListening}",ctx:l}),wt}function jt(l){let t,n="‚úÖ Èü≥ÈáèÊ§úÂá∫ÊàêÂäü";const i={c:function(){t=p("span"),t.textContent=n,this.h()},l:function(e){t=g(e,"SPAN",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-1brhil9"&&(t.textContent=n),this.h()},h:function(){f(t,"class","status-success svelte-oc1ya0"),_(t,y,277,20,8395)},m:function(e,s){I(e,t,s)},d:function(e){e&&d(t)}};return M("SvelteRegisterBlock",{block:i,id:jt.name,type:"else",source:"(277:18) {:else}",ctx:l}),i}function Gt(l){let t,n="‚è≥ Â£∞„ÇíÂá∫„Åó„Å¶Èü≥Èáè„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ";const i={c:function(){t=p("span"),t.textContent=n,this.h()},l:function(e){t=g(e,"SPAN",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-7eexnn"&&(t.textContent=n),this.h()},h:function(){f(t,"class","status-pending svelte-oc1ya0"),_(t,y,275,20,8294)},m:function(e,s){I(e,t,s)},d:function(e){e&&d(t)}};return M("SvelteRegisterBlock",{block:i,id:Gt.name,type:"if",source:"(275:18) {#if !volumeDetected}",ctx:l}),i}function Ot(l){let t,n="‚úÖ Èü≥Á®ãÊ§úÂá∫ÊàêÂäü";const i={c:function(){t=p("span"),t.textContent=n,this.h()},l:function(e){t=g(e,"SPAN",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-1cbaao1"&&(t.textContent=n),this.h()},h:function(){f(t,"class","status-success svelte-oc1ya0"),_(t,y,293,20,9072)},m:function(e,s){I(e,t,s)},d:function(e){e&&d(t)}};return M("SvelteRegisterBlock",{block:i,id:Ot.name,type:"else",source:"(293:18) {:else}",ctx:l}),i}function Ut(l){let t,n="‚è≥ „Äå„Éâ„Äç„ÇíÁô∫Â£∞„Åó„Å¶Èü≥Á®ã„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ";const i={c:function(){t=p("span"),t.textContent=n,this.h()},l:function(e){t=g(e,"SPAN",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-lvftl7"&&(t.textContent=n),this.h()},h:function(){f(t,"class","status-pending svelte-oc1ya0"),_(t,y,291,20,8968)},m:function(e,s){I(e,t,s)},d:function(e){e&&d(t)}};return M("SvelteRegisterBlock",{block:i,id:Ut.name,type:"if",source:"(291:18) {#if !frequencyDetected}",ctx:l}),i}function bt(l){let t,n,i,o="„Äå„Éâ„Äç„ÇíÁô∫Â£∞„Åó„Å¶„Åè„Å†„Åï„ÅÑ",e,s,c="‰ªªÊÑè„ÅÆÈ´ò„Åï„Åß„Äå„Éâ„Éº„Äç„Å®Ê≠å„ÅÜ„Çà„ÅÜ„Å´Áô∫Â£∞„Åó„Å¶„Åè„Å†„Åï„ÅÑ";const u={c:function(){t=p("div"),n=p("div"),i=p("h3"),i.textContent=o,e=R(),s=p("p"),s.textContent=c,this.h()},l:function(a){t=g(a,"DIV",{class:!0});var m=D(t);n=g(m,"DIV",{class:!0});var b=D(n);i=g(b,"H3",{class:!0,"data-svelte-h":!0}),H(i)!=="svelte-xe90gt"&&(i.textContent=o),e=F(b),s=g(b,"P",{class:!0,"data-svelte-h":!0}),H(s)!=="svelte-1rtajtc"&&(s.textContent=c),b.forEach(d),m.forEach(d),this.h()},h:function(){f(i,"class","svelte-oc1ya0"),_(i,y,303,18,9389),f(s,"class","svelte-oc1ya0"),_(s,y,304,18,9429),f(n,"class","guidance-content svelte-oc1ya0"),_(n,y,302,16,9340),f(t,"class","guidance svelte-oc1ya0"),_(t,y,301,14,9301)},m:function(a,m){I(a,t,m),v(t,n),v(n,i),v(n,e),v(n,s)},d:function(a){a&&d(t)}};return M("SvelteRegisterBlock",{block:u,id:bt.name,type:"if",source:"(301:12) {#if volumeDetected && !frequencyDetected}",ctx:l}),u}function Wt(l){let t,n,i;function o(r,a){return r[0]==="pending"?Tt:r[0]==="granted"?Ht:r[0]==="denied"?Lt:zt}let e=o(l),s=e(l),c=l[0]==="granted"&&l[3]&&kt(l);const u={c:function(){t=p("div"),n=p("div"),s.c(),i=R(),c&&c.c(),this.h()},l:function(a){t=g(a,"DIV",{class:!0});var m=D(t);n=g(m,"DIV",{class:!0});var b=D(n);s.l(b),b.forEach(d),i=F(m),c&&c.l(m),m.forEach(d),this.h()},h:function(){f(n,"class","mic-status svelte-oc1ya0"),_(n,y,242,10,6811),f(t,"class","mic-test-content svelte-oc1ya0"),_(t,y,239,8,6732)},m:function(a,m){I(a,t,m),v(t,n),s.m(n,null),v(t,i),c&&c.m(t,null)},p:function(a,m){e===(e=o(a))&&s?s.p(a,m):(s.d(1),s=e(a),s&&(s.c(),s.m(n,null))),a[0]==="granted"&&a[3]?c?c.p(a,m):(c=kt(a),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},d:function(a){a&&d(t),s.d(),c&&c.d()}};return M("SvelteRegisterBlock",{block:u,id:Wt.name,type:"slot",source:'(239:6) <Card variant=\\"default\\" padding=\\"lg\\">',ctx:l}),u}function Jt(l){let t,n;t=new Bt({props:{variant:"disabled",size:"lg",fullWidth:!0,disabled:!0,$$slots:{default:[Zt]},$$scope:{ctx:l}},$$inline:!0});const i={c:function(){ut(t.$$.fragment)},l:function(e){rt(t.$$.fragment,e)},m:function(e,s){at(t,e,s),n=!0},p:function(e,s){const c={};s&524288&&(c.$$scope={dirty:s,ctx:e}),t.$set(c)},i:function(e){n||(ot(t.$$.fragment,e),n=!0)},o:function(e){nt(t.$$.fragment,e),n=!1},d:function(e){ct(t,e)}};return M("SvelteRegisterBlock",{block:i,id:Jt.name,type:"else",source:"(332:10) {:else}",ctx:l}),i}function Kt(l){let t,n;t=new Bt({props:{href:l[8].path,variant:"primary",size:"lg",fullWidth:!0,$$slots:{default:[Qt]},$$scope:{ctx:l}},$$inline:!0});const i={c:function(){ut(t.$$.fragment)},l:function(e){rt(t.$$.fragment,e)},m:function(e,s){at(t,e,s),n=!0},p:function(e,s){const c={};s&524288&&(c.$$scope={dirty:s,ctx:e}),t.$set(c)},i:function(e){n||(ot(t.$$.fragment,e),n=!0)},o:function(e){nt(t.$$.fragment,e),n=!1},d:function(e){ct(t,e)}};return M("SvelteRegisterBlock",{block:i,id:Kt.name,type:"if",source:"(323:10) {#if startButtonEnabled}",ctx:l}),i}function Zt(l){let t;const n={c:function(){t=X("„Éû„Ç§„ÇØ„ÉÜ„Çπ„ÉàÂÆå‰∫ÜÂæå„Å´ÈñãÂßã")},l:function(o){t=Q(o,"„Éû„Ç§„ÇØ„ÉÜ„Çπ„ÉàÂÆå‰∫ÜÂæå„Å´ÈñãÂßã")},m:function(o,e){I(o,t,e)},d:function(o){o&&d(t)}};return M("SvelteRegisterBlock",{block:n,id:Zt.name,type:"slot",source:'(333:12) <Button                variant=\\"disabled\\"                size=\\"lg\\"                fullWidth                disabled             >',ctx:l}),n}function Qt(l){let t;const n={c:function(){t=X("„Éà„É¨„Éº„Éã„É≥„Ç∞ÈñãÂßã")},l:function(o){t=Q(o,"„Éà„É¨„Éº„Éã„É≥„Ç∞ÈñãÂßã")},m:function(o,e){I(o,t,e)},d:function(o){o&&d(t)}};return M("SvelteRegisterBlock",{block:n,id:Qt.name,type:"slot",source:'(324:12) <Button                href={selectedMode.path}                variant=\\"primary\\"                size=\\"lg\\"                fullWidth             >',ctx:l}),n}function Xt(l){let t,n,i=l[8].name+"",o,e,s,c=l[8].description+"",u,r,a,m,b;const T=[Kt,Jt],S=[];function B(k,C){return k[7]?0:1}a=B(l),m=S[a]=T[a](l);const x={c:function(){t=p("div"),n=p("h3"),o=X(i),e=R(),s=p("p"),u=X(c),r=R(),m.c(),this.h()},l:function(C){t=g(C,"DIV",{class:!0});var E=D(t);n=g(E,"H3",{class:!0});var q=D(n);o=Q(q,i),q.forEach(d),e=F(E),s=g(E,"P",{class:!0});var P=D(s);u=Q(P,c),P.forEach(d),r=F(E),m.l(E),E.forEach(d),this.h()},h:function(){f(n,"class","start-title svelte-oc1ya0"),_(n,y,317,10,9723),f(s,"class","start-description svelte-oc1ya0"),_(s,y,318,10,9782),f(t,"class","start-content svelte-oc1ya0"),_(t,y,316,8,9685)},m:function(C,E){I(C,t,E),v(t,n),v(n,o),v(t,e),v(t,s),v(s,u),v(t,r),S[a].m(t,null),b=!0},p:function(C,E){let q=a;a=B(C),a===q?S[a].p(C,E):(le(),nt(S[q],1,1,()=>{S[q]=null}),ce(),m=S[a],m?m.p(C,E):(m=S[a]=T[a](C),m.c()),ot(m,1),m.m(t,null))},i:function(C){b||(ot(m),b=!0)},o:function(C){nt(m),b=!1},d:function(C){C&&d(t),S[a].d()}};return M("SvelteRegisterBlock",{block:x,id:Xt.name,type:"slot",source:'(316:6) <Card variant=\\"default\\" padding=\\"lg\\">',ctx:l}),x}function Yt(l){let t,n,i,o,e,s,c,u,r,a,m,b,T="„Éû„Ç§„ÇØ„ÉÜ„Çπ„Éà",S,B,x="Èü≥ÊÑü„Éà„É¨„Éº„Éã„É≥„Ç∞„ÇíÂßã„ÇÅ„ÇãÂâç„Å´„ÄÅ„Éû„Ç§„ÇØ„ÅÆÂãï‰Ωú„ÇíÁ¢∫Ë™ç„Åó„Åæ„Åô",k,C,E,q,P,z,O;E=new gt({props:{variant:"default",padding:"lg",$$slots:{default:[Wt]},$$scope:{ctx:l}},$$inline:!0}),z=new gt({props:{variant:"default",padding:"lg",$$slots:{default:[Xt]},$$scope:{ctx:l}},$$inline:!0});const Y={c:function(){t=p("div"),n=p("div"),i=p("div"),o=p("div"),e=lt("svg"),s=lt("path"),c=lt("path"),u=lt("line"),r=lt("line"),a=R(),m=p("div"),b=p("h1"),b.textContent=T,S=R(),B=p("p"),B.textContent=x,k=R(),C=p("div"),ut(E.$$.fragment),q=R(),P=p("div"),ut(z.$$.fragment),this.h()},l:function(w){t=g(w,"DIV",{class:!0});var A=D(t);n=g(A,"DIV",{class:!0});var J=D(n);i=g(J,"DIV",{class:!0});var N=D(i);o=g(N,"DIV",{class:!0});var U=D(o);e=it(U,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0});var L=D(e);s=it(L,"path",{d:!0}),D(s).forEach(d),c=it(L,"path",{d:!0}),D(c).forEach(d),u=it(L,"line",{x1:!0,x2:!0,y1:!0,y2:!0}),D(u).forEach(d),r=it(L,"line",{x1:!0,x2:!0,y1:!0,y2:!0}),D(r).forEach(d),L.forEach(d),U.forEach(d),a=F(N),m=g(N,"DIV",{});var tt=D(m);b=g(tt,"H1",{class:!0,"data-svelte-h":!0}),H(b)!=="svelte-z7m4lk"&&(b.textContent=T),S=F(tt),B=g(tt,"P",{class:!0,"data-svelte-h":!0}),H(B)!=="svelte-1vtv92f"&&(B.textContent=x),tt.forEach(d),N.forEach(d),J.forEach(d),k=F(A),C=g(A,"DIV",{class:!0});var et=D(C);rt(E.$$.fragment,et),et.forEach(d),q=F(A),P=g(A,"DIV",{class:!0});var W=D(P);rt(z.$$.fragment,W),W.forEach(d),A.forEach(d),this.h()},h:function(){f(s,"d","M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"),_(s,y,223,12,6196),f(c,"d","M19 10v2a7 7 0 0 1-14 0v-2"),_(c,y,224,12,6273),f(u,"x1","12"),f(u,"x2","12"),f(u,"y1","19"),f(u,"y2","22"),_(u,y,225,12,6324),f(r,"x1","8"),f(r,"x2","16"),f(r,"y1","22"),f(r,"y2","22"),_(r,y,226,12,6376),f(e,"width","48"),f(e,"height","48"),f(e,"viewBox","0 0 24 24"),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"stroke-width","2"),_(e,y,222,10,6084),f(o,"class","mic-icon svelte-oc1ya0"),_(o,y,221,8,6051),f(b,"class","mic-test-title svelte-oc1ya0"),_(b,y,230,10,6471),f(B,"class","mic-test-description svelte-oc1ya0"),_(B,y,231,10,6520),_(m,y,229,8,6455),f(i,"class","mic-test-header svelte-oc1ya0"),_(i,y,220,6,6013),f(n,"class","header svelte-oc1ya0"),_(n,y,219,4,5986),f(C,"class","test-section"),_(C,y,237,4,6653),f(P,"class","start-section"),_(P,y,314,4,9605),f(t,"class","microphone-test svelte-oc1ya0"),_(t,y,217,2,5934)},m:function(w,A){I(w,t,A),v(t,n),v(n,i),v(i,o),v(o,e),v(e,s),v(e,c),v(e,u),v(e,r),v(i,a),v(i,m),v(m,b),v(m,S),v(m,B),v(t,k),v(t,C),at(E,C,null),v(t,q),v(t,P),at(z,P,null),O=!0},p:function(w,A){const J={};A&524415&&(J.$$scope={dirty:A,ctx:w}),E.$set(J);const N={};A&524416&&(N.$$scope={dirty:A,ctx:w}),z.$set(N)},i:function(w){O||(ot(E.$$.fragment,w),ot(z.$$.fragment,w),O=!0)},o:function(w){nt(E.$$.fragment,w),nt(z.$$.fragment,w),O=!1},d:function(w){w&&d(t),ct(E),ct(z)}};return M("SvelteRegisterBlock",{block:Y,id:Yt.name,type:"slot",source:"(217:0) <PageLayout showBackButton={true}>",ctx:l}),Y}function Ct(l){let t,n,i;n=new Nt({props:{showBackButton:!0,$$slots:{default:[Yt]},$$scope:{ctx:l}},$$inline:!0});const o={c:function(){t=R(),ut(n.$$.fragment),this.h()},l:function(s){ie("svelte-8st1fo",document.head).forEach(d),t=F(s),rt(n.$$.fragment,s),this.h()},h:function(){document.title="„Éû„Ç§„ÇØ„ÉÜ„Çπ„Éà - Áõ∏ÂØæÈü≥ÊÑü„Éà„É¨„Éº„Éã„É≥„Ç∞"},m:function(s,c){I(s,t,c),at(n,s,c),i=!0},p:function(s,[c]){const u={};c&524543&&(u.$$scope={dirty:c,ctx:s}),n.$set(u)},i:function(s){i||(ot(n.$$.fragment,s),i=!0)},o:function(s){nt(n.$$.fragment,s),i=!1},d:function(s){s&&d(t),ct(n,s)}};return M("SvelteRegisterBlock",{block:o,id:Ct.name,type:"component",source:"",ctx:l}),o}function Ft(l,t){let n=0;for(let c=0;c<l.length;c++)n+=l[c]*l[c];if(n=Math.sqrt(n/l.length),n<.005)return 0;const i=Math.floor(t/800),o=Math.floor(t/80);let e=0,s=0;for(let c=i;c<=o;c++){let u=0,r=0;for(let a=0;a<l.length-c;a++)u+=l[a]*l[a+c],r+=l[a]*l[a];r>0&&(u=u/Math.sqrt(r),u>e&&(e=u,s=c))}return e>.25?t/s:0}function Rt(l){const n=Math.round(12*Math.log2(l/440)),i=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],o=((n+9)%12+12)%12,e=Math.floor((n+9)/12)+4,s=i[o];return`${s}${e}Ôºà${{C:"„Éâ","C#":"„Éâ#",D:"„É¨","D#":"„É¨#",E:"„Éü",F:"„Éï„Ç°","F#":"„Éï„Ç°#",G:"„ÇΩ","G#":"„ÇΩ#",A:"„É©","A#":"„É©#",B:"„Ç∑"}[s]}${e}Ôºâ`}function ae(l,t,n){let i,o;ne(yt,"page"),oe(l,yt,h=>n(15,o=h));let{$$slots:e={},$$scope:s}=t;se("Page",e,[]);let c="random";qt(()=>{o.url.searchParams.has("mode")&&(c=o.url.searchParams.get("mode")||"random")});let u="initial",r=!1,a=!1,m=!1,b=0,T=0,S="",B=null,x=null,k=null,C=null;const E={random:{name:"„É©„É≥„ÉÄ„É†Âü∫Èü≥„É¢„Éº„Éâ",description:"10Á®ÆÈ°û„ÅÆÂü∫Èü≥„Åã„Çâ„É©„É≥„ÉÄ„É†„Å´ÈÅ∏Êäû„Åó„Å¶„Éà„É¨„Éº„Éã„É≥„Ç∞",color:"green",path:"./training/random"},continuous:{name:"ÈÄ£Á∂ö„ÉÅ„É£„É¨„É≥„Ç∏„É¢„Éº„Éâ",description:"ÈÅ∏Êäû„Åó„ÅüÂõûÊï∞„Å†„ÅëÈÄ£Á∂ö„ÅßÂÆüË°å„Åó„ÄÅÁ∑èÂêàË©ï‰æ°„ÇíÁ¢∫Ë™ç",color:"orange",path:"./training/continuous"},chromatic:{name:"12Èü≥Èöé„É¢„Éº„Éâ",description:"„ÇØ„É≠„Éû„ÉÅ„ÉÉ„ÇØ„Çπ„Ç±„Éº„É´„ÅÆ‰∏äË°å„Éª‰∏ãË°å„ÅßÂÆåÂÖ®Âà∂Ë¶á",color:"purple",path:"./training/chromatic"}},q=E[c]||E.random;async function P(){n(0,u="pending");try{x=await navigator.mediaDevices.getUserMedia({audio:!0}),n(0,u="granted"),B=new(window.AudioContext||window.webkitAudioContext),B.state==="suspended"&&await B.resume(),k=B.createAnalyser(),k.fftSize=2048,k.smoothingTimeConstant=.8,k.minDecibels=-90,k.maxDecibels=-10,B.createMediaStreamSource(x).connect(k),n(3,r=!0),z()}catch{n(0,u="denied")}}function z(){if(!r||!k)return;const h=k.frequencyBinCount,w=new Uint8Array(h);k.getByteFrequencyData(w);let A=0;for(let L=0;L<w.length;L++)A+=w[L]*w[L];const J=Math.sqrt(A/w.length);n(4,b=Math.min(100,J/64*100)),b>15&&n(1,a=!0);const N=new Float32Array(k.fftSize);k.getFloatTimeDomainData(N);const U=Ft(N,B.sampleRate);U>80&&U<800?(n(5,T=U),n(6,S=Rt(U)),n(2,m=!0)):(n(5,T=0),n(6,S="")),C=requestAnimationFrame(z)}function O(){n(3,r=!1),C&&(cancelAnimationFrame(C),C=null),x&&(x.getTracks().forEach(h=>h.stop()),x=null),B&&B.state!=="closed"&&(B.close(),B=null),k=null}Pt(()=>{O()});const Y=[];return Object.keys(t).forEach(h=>{!~Y.indexOf(h)&&h.slice(0,2)!=="$$"&&h!=="slot"&&console.warn(`<Page> was created with unknown prop '${h}'`)}),l.$capture_state=()=>({onMount:qt,onDestroy:Pt,page:yt,Card:gt,Button:Bt,PageLayout:Nt,mode:c,micPermission:u,isListening:r,volumeDetected:a,frequencyDetected:m,currentVolume:b,currentFrequency:T,currentNote:S,audioContext:B,mediaStream:x,analyser:k,animationFrame:C,trainingModes:E,selectedMode:q,requestMicrophone:P,analyzeAudio:z,detectPitch:Ft,frequencyToNote:Rt,stopListening:O,startButtonEnabled:i,$page:o}),l.$inject_state=h=>{"mode"in h&&(c=h.mode),"micPermission"in h&&n(0,u=h.micPermission),"isListening"in h&&n(3,r=h.isListening),"volumeDetected"in h&&n(1,a=h.volumeDetected),"frequencyDetected"in h&&n(2,m=h.frequencyDetected),"currentVolume"in h&&n(4,b=h.currentVolume),"currentFrequency"in h&&n(5,T=h.currentFrequency),"currentNote"in h&&n(6,S=h.currentNote),"audioContext"in h&&(B=h.audioContext),"mediaStream"in h&&(x=h.mediaStream),"analyser"in h&&(k=h.analyser),"animationFrame"in h&&(C=h.animationFrame),"startButtonEnabled"in h&&n(7,i=h.startButtonEnabled)},t&&"$$inject"in t&&l.$inject_state(t.$$inject),l.$$.update=()=>{l.$$.dirty&7&&n(7,i=u==="granted"&&a&&m)},[u,a,m,r,b,T,S,i,q,P]}class me extends $t{constructor(t){super(t),te(this,t,ae,Ct,ee,{}),M("SvelteRegisterComponent",{component:this,tagName:"Page",options:t,id:Ct.name})}}export{me as component};
