import{S as Jt,i as Qt,s as Wt,d as M,v as Ge,c as Fe,a as Zt,H as ct,Z as Rt,b as y,r as F,u as L,K as kt,L as Pt,f as R,z as w,h as b,j as C,k as x,o as _,J as In,n as pe,q as Y,w as $,x as ee,y as te,m as T,p as I,Q as qt,g as d,M as Ze,A as B,R as xn,e as at,l as Q,t as W,N as At,I as Bn,O as Xt}from"../chunks/DQJjpEFo.js";import{g as Yt}from"../chunks/D0QH3NT1.js";import"../chunks/CCOHz7Q4.js";import{b as Qe,g as We}from"../chunks/NzVuCKpP.js";import{P as Et,B as Dt,C as Ne}from"../chunks/GmfwjkDy.js";import{p as Nn}from"../chunks/Bn32RrF2.js";import{a as Mt,l as Vn,h as Rn,P as $t,b as en,V as qn}from"../chunks/18BvmwZn.js";import{i as ht,n as gt,u as vt,a as bt,c as Ct,p as _t,l as Lt,S as An,b as Mn,s as Ln,d as Gn,r as Fn,e as Gt,f as Hn,g as On,o as zn,h as Un,j as Kn,k as Jn,m as Qn,t as Wn,E as pt,A as tn,U as nn,T as Zn,P as Xn,M as on,C as Yn,q as $n,v as eo}from"../chunks/BOMYtyDt.js";const to=!1,go=Object.freeze(Object.defineProperty({__proto__:null,prerender:to},Symbol.toStringTag,{value:"Module"})),{console:no}=Yt,q="src/lib/components/TrainingCore.svelte";function Ft(i,e,t){const s=i.slice();return s[56]=e[t],s[58]=t,s}function sn(i){let e,t,s,l,n,r,c,m,u,a,g,h=i[3]&&yt(i);s=new Ne({props:{class:"main-card half-width",$$slots:{default:[gn]},$$scope:{ctx:i}},$$inline:!0}),n=new Ne({props:{class:"main-card half-width",$$slots:{default:[vn]},$$scope:{ctx:i}},$$inline:!0}),c=new Ne({props:{class:"main-card",$$slots:{default:[bn]},$$scope:{ctx:i}},$$inline:!0});let p={isActive:i[4]==="granted"&&i[11]==="listening",debugMode:!1};a=new en({props:p,$$inline:!0}),i[34](a),a.$on("pitchUpdate",i[22]),a.$on("error",i[23]);const S={c:function(){h&&h.c(),e=I(),t=_("div"),te(s.$$.fragment),l=I(),te(n.$$.fragment),r=I(),te(c.$$.fragment),m=I(),u=_("div"),te(a.$$.fragment),this.h()},l:function(f){h&&h.l(f),e=T(f),t=C(f,"DIV",{class:!0});var v=x(t);ee(s.$$.fragment,v),l=T(v),ee(n.$$.fragment,v),v.forEach(y),r=T(f),ee(c.$$.fragment,f),m=T(f),u=C(f,"DIV",{style:!0});var j=x(u);ee(a.$$.fragment,j),j.forEach(y),this.h()},h:function(){w(t,"class","side-by-side-container svelte-q662rn"),b(t,q,628,4,19364),Ze(u,"display","none"),b(u,q,696,4,21470)},m:function(f,v){h&&h.m(f,v),R(f,e,v),R(f,t,v),$(s,t,null),d(t,l),$(n,t,null),R(f,r,v),$(c,f,v),R(f,m,v),R(f,u,v),$(a,u,null),g=!0},p:function(f,v){f[3]?h?(h.p(f,v),v[0]&8&&L(h,1)):(h=yt(f),h.c(),L(h,1),h.m(e.parentNode,e)):h&&(kt(),F(h,1,1,()=>{h=null}),Pt());const j={};v[0]&3778|v[1]&268435456&&(j.$$scope={dirty:v,ctx:f}),s.$set(j);const N={};v[0]&28672|v[1]&268435456&&(N.$$scope={dirty:v,ctx:f}),n.$set(N);const V={};v[0]&131329|v[1]&268435456&&(V.$$scope={dirty:v,ctx:f}),c.$set(V);const P={};v[0]&2064&&(P.isActive=f[4]==="granted"&&f[11]==="listening"),a.$set(P)},i:function(f){g||(L(h),L(s.$$.fragment,f),L(n.$$.fragment,f),L(c.$$.fragment,f),L(a.$$.fragment,f),g=!0)},o:function(f){F(h),F(s.$$.fragment,f),F(n.$$.fragment,f),F(c.$$.fragment,f),F(a.$$.fragment,f),g=!1},d:function(f){f&&(y(e),y(t),y(r),y(m),y(u)),h&&h.d(f),Y(s),Y(n),Y(c,f),i[34](null),Y(a)}};return M("SvelteRegisterBlock",{block:S,id:sn.name,type:"else",source:"(606:2) {:else}",ctx:i}),S}function rn(i){let e,t,s,l;e=new nn({props:{currentScoreData:i[16],intervalData:[],consistencyData:[],feedbackData:null,technicalFeedbackData:null},$$inline:!0}),s=new tn({props:{showRestart:!i[18],showNext:!i[18],showHome:!0},$$inline:!0}),s.$on("restart",i[24]),s.$on("next",i[25]),s.$on("home",i[26]);const n={c:function(){te(e.$$.fragment),t=I(),te(s.$$.fragment)},l:function(c){ee(e.$$.fragment,c),t=T(c),ee(s.$$.fragment,c)},m:function(c,m){$(e,c,m),R(c,t,m),$(s,c,m),l=!0},p:function(c,m){const u={};m[0]&65536&&(u.currentScoreData=c[16]),e.$set(u);const a={};m[0]&262144&&(a.showRestart=!c[18]),m[0]&262144&&(a.showNext=!c[18]),s.$set(a)},i:function(c){l||(L(e.$$.fragment,c),L(s.$$.fragment,c),l=!0)},o:function(c){F(e.$$.fragment,c),F(s.$$.fragment,c),l=!1},d:function(c){c&&y(t),Y(e,c),Y(s,c)}};return M("SvelteRegisterBlock",{block:n,id:rn.name,type:"if",source:"(587:55) ",ctx:i}),n}function ln(i){let e,t;e=new Ne({props:{class:"main-card",$$slots:{default:[_n]},$$scope:{ctx:i}},$$inline:!0});const s={c:function(){te(e.$$.fragment)},l:function(n){ee(e.$$.fragment,n)},m:function(n,r){$(e,n,r),t=!0},p:function(n,r){const c={};r[1]&268435456&&(c.$$scope={dirty:r,ctx:n}),e.$set(c)},i:function(n){t||(L(e.$$.fragment,n),t=!0)},o:function(n){F(e.$$.fragment,n),t=!1},d:function(n){Y(e,n)}};return M("SvelteRegisterBlock",{block:s,id:ln.name,type:"if",source:"(575:72) ",ctx:i}),s}function cn(i){let e,t;e=new Ne({props:{class:"main-card",$$slots:{default:[pn]},$$scope:{ctx:i}},$$inline:!0});const s={c:function(){te(e.$$.fragment)},l:function(n){ee(e.$$.fragment,n)},m:function(n,r){$(e,n,r),t=!0},p:function(n,r){const c={};r[1]&268435456&&(c.$$scope={dirty:r,ctx:n}),e.$set(c)},i:function(n){t||(L(e.$$.fragment,n),t=!0)},o:function(n){F(e.$$.fragment,n),t=!1},d:function(n){Y(e,n)}};return M("SvelteRegisterBlock",{block:s,id:cn.name,type:"if",source:"(567:2) {#if microphoneState === 'checking'}",ctx:i}),s}function yt(i){let e,t;e=new Ne({props:{class:"main-card",$$slots:{default:[an]},$$scope:{ctx:i}},$$inline:!0});const s={c:function(){te(e.$$.fragment)},l:function(n){ee(e.$$.fragment,n)},m:function(n,r){$(e,n,r),t=!0},p:function(n,r){const c={};r[0]&1572868|r[1]&268435456&&(c.$$scope={dirty:r,ctx:n}),e.$set(c)},i:function(n){t||(L(e.$$.fragment,n),t=!0)},o:function(n){F(e.$$.fragment,n),t=!1},d:function(n){Y(e,n)}};return M("SvelteRegisterBlock",{block:s,id:yt.name,type:"if",source:"(610:4) {#if useLocalStorage}",ctx:i}),s}function an(i){let e,t,s="üìä ÈÄ≤ÊçóÁä∂Ê≥Å",l,n,r,c,m,u,a,g,h,p,S;const E={c:function(){e=_("div"),t=_("h3"),t.textContent=s,l=I(),n=_("div"),r=_("div"),c=_("div"),m=W("„Çª„ÉÉ„Ç∑„Éß„É≥ "),u=W(i[19]),a=W(" / "),g=W(i[2]),h=I(),p=_("div"),S=_("div"),this.h()},l:function(v){e=C(v,"DIV",{class:!0});var j=x(e);t=C(j,"H3",{class:!0,"data-svelte-h":!0}),B(t)!=="svelte-r02tv0"&&(t.textContent=s),j.forEach(y),l=T(v),n=C(v,"DIV",{class:!0});var N=x(n);r=C(N,"DIV",{class:!0});var V=x(r);c=C(V,"DIV",{class:!0});var P=x(c);m=Q(P,"„Çª„ÉÉ„Ç∑„Éß„É≥ "),u=Q(P,i[19]),a=Q(P," / "),g=Q(P,i[2]),P.forEach(y),h=T(V),p=C(V,"DIV",{class:!0});var D=x(p);S=C(D,"DIV",{class:!0,style:!0}),x(S).forEach(y),D.forEach(y),V.forEach(y),N.forEach(y),this.h()},h:function(){w(t,"class","section-title svelte-q662rn"),b(t,q,612,10,18889),w(e,"class","card-header svelte-q662rn"),b(e,q,611,8,18853),w(c,"class","session-counter svelte-q662rn"),b(c,q,616,12,19028),w(S,"class","progress-fill svelte-q662rn"),Ze(S,"width",i[20]+"%"),b(S,q,620,14,19187),w(p,"class","progress-bar svelte-q662rn"),b(p,q,619,12,19146),w(r,"class","progress-info svelte-q662rn"),b(r,q,615,10,18988),w(n,"class","card-content svelte-q662rn"),b(n,q,614,8,18951)},m:function(v,j){R(v,e,j),d(e,t),R(v,l,j),R(v,n,j),d(n,r),d(r,c),d(c,m),d(c,u),d(c,a),d(c,g),d(r,h),d(r,p),d(p,S)},p:function(v,j){j[0]&524288&&at(u,v[19]),j[0]&4&&at(g,v[2]),j[0]&1048576&&Ze(S,"width",v[20]+"%")},d:function(v){v&&(y(e),y(l),y(n))}};return M("SvelteRegisterBlock",{block:E,id:an.name,type:"slot",source:'(611:6) <Card class=\\"main-card\\">',ctx:i}),E}function un(i){let e;const t={c:function(){e=W("üéπ Âü∫Èü≥ÂÜçÁîü")},l:function(l){e=Q(l,"üéπ Âü∫Èü≥ÂÜçÁîü")},m:function(l,n){R(l,e,n)},d:function(l){l&&y(e)}};return M("SvelteRegisterBlock",{block:t,id:un.name,type:"else",source:"(646:12) {:else}",ctx:i}),t}function fn(i){let e;const t={c:function(){e=W("üîÑ Ëá™ÂãïÂÜçÁîü„É¢„Éº„Éâ")},l:function(l){e=Q(l,"üîÑ Ëá™ÂãïÂÜçÁîü„É¢„Éº„Éâ")},m:function(l,n){R(l,e,n)},d:function(l){l&&y(e)}};return M("SvelteRegisterBlock",{block:t,id:fn.name,type:"if",source:"(644:31) ",ctx:i}),t}function dn(i){let e;const t={c:function(){e=W("‚è≥ Ë™≠„ÅøËæº„Åø‰∏≠...")},l:function(l){e=Q(l,"‚è≥ Ë™≠„ÅøËæº„Åø‰∏≠...")},m:function(l,n){R(l,e,n)},d:function(l){l&&y(e)}};return M("SvelteRegisterBlock",{block:t,id:dn.name,type:"if",source:"(642:39) ",ctx:i}),t}function mn(i){let e;const t={c:function(){e=W("üéµ ÂÜçÁîü‰∏≠...")},l:function(l){e=Q(l,"üéµ ÂÜçÁîü‰∏≠...")},m:function(l,n){R(l,e,n)},d:function(l){l&&y(e)}};return M("SvelteRegisterBlock",{block:t,id:mn.name,type:"if",source:"(640:12) {#if isPlaying}",ctx:i}),t}function hn(i){let e;function t(r,c){return r[7]?mn:r[6]?dn:r[1]?fn:un}let s=t(i),l=s(i);const n={c:function(){l.c(),e=At()},l:function(c){l.l(c),e=At()},m:function(c,m){l.m(c,m),R(c,e,m)},p:function(c,m){s!==(s=t(c))&&(l.d(1),l=s(c),l&&(l.c(),l.m(e.parentNode,e)))},d:function(c){c&&y(e),l.d(c)}};return M("SvelteRegisterBlock",{block:n,id:hn.name,type:"slot",source:`(635:10) <Button              variant=\\"primary\\"             disabled={isPlaying || isSamplerLoading || (autoPlay && trainingPhase === 'guiding')}             on:click={playBaseNote}           >`,ctx:i}),n}function gn(i){let e,t,s="üéπ Âü∫Èü≥ÂÜçÁîü",l,n,r,c,m,u,a="„Ç¨„Ç§„ÉâÈñãÂßã„Åæ„Åß",g,h,p,S,E,f,v,j;r=new Dt({props:{variant:"primary",disabled:i[7]||i[6]||i[1]&&i[11]==="guiding",$$slots:{default:[hn]},$$scope:{ctx:i}},$$inline:!0}),r.$on("click",i[21]),f=new on({props:{size:"20"},$$inline:!0});const N={c:function(){e=_("div"),t=_("h3"),t.textContent=s,l=I(),n=_("div"),te(r.$$.fragment),c=I(),m=_("div"),u=_("div"),u.textContent=a,g=I(),h=_("div"),p=_("div"),S=I(),E=_("div"),te(f.$$.fragment),this.h()},l:function(P){e=C(P,"DIV",{class:!0});var D=x(e);t=C(D,"H3",{class:!0,"data-svelte-h":!0}),B(t)!=="svelte-syc53b"&&(t.textContent=s),D.forEach(y),l=T(P),n=C(P,"DIV",{class:!0});var H=x(n);ee(r.$$.fragment,H),c=T(H),m=C(H,"DIV",{class:!0});var J=x(m);u=C(J,"DIV",{class:!0,"data-svelte-h":!0}),B(u)!=="svelte-1dufnpv"&&(u.textContent=a),g=T(J),h=C(J,"DIV",{class:!0});var ne=x(h);p=C(ne,"DIV",{class:!0,style:!0}),x(p).forEach(y),S=T(ne),E=C(ne,"DIV",{class:!0});var U=x(E);ee(f.$$.fragment,U),U.forEach(y),ne.forEach(y),J.forEach(y),H.forEach(y),this.h()},h:function(){w(t,"class","section-title svelte-q662rn"),b(t,q,631,10,19487),w(e,"class","card-header svelte-q662rn"),b(e,q,630,8,19451),w(u,"class","guide-start-label svelte-q662rn"),b(u,q,652,12,20136),w(p,"class","guide-progress-fill svelte-q662rn"),Ze(p,"width",i[9]+"%"),b(p,q,654,14,20237),w(E,"class",v="guide-music-icon "+(i[10]?"glowing":"")+" svelte-q662rn"),b(E,q,655,14,20328),w(h,"class","guide-start-bar svelte-q662rn"),b(h,q,653,12,20193),w(m,"class","guide-start-bar-container svelte-q662rn"),b(m,q,651,10,20084),w(n,"class","card-content svelte-q662rn"),b(n,q,633,8,19549)},m:function(P,D){R(P,e,D),d(e,t),R(P,l,D),R(P,n,D),$(r,n,null),d(n,c),d(n,m),d(m,u),d(m,g),d(m,h),d(h,p),d(h,S),d(h,E),$(f,E,null),j=!0},p:function(P,D){const H={};D[0]&2242&&(H.disabled=P[7]||P[6]||P[1]&&P[11]==="guiding"),D[0]&194|D[1]&268435456&&(H.$$scope={dirty:D,ctx:P}),r.$set(H),(!j||D[0]&512)&&Ze(p,"width",P[9]+"%"),(!j||D[0]&1024&&v!==(v="guide-music-icon "+(P[10]?"glowing":"")+" svelte-q662rn"))&&w(E,"class",v)},i:function(P){j||(L(r.$$.fragment,P),L(f.$$.fragment,P),j=!0)},o:function(P){F(r.$$.fragment,P),F(f.$$.fragment,P),j=!1},d:function(P){P&&(y(e),y(l),y(n)),Y(r),Y(f)}};return M("SvelteRegisterBlock",{block:N,id:gn.name,type:"slot",source:'(630:6) <Card class=\\"main-card half-width\\">',ctx:i}),N}function vn(i){let e,t,s="üé§ „É™„Ç¢„É´„Çø„Ç§„É†Ê§úÂá∫",l,n,r,c;r=new $t({props:{frequency:i[13],note:i[14],volume:i[12],isMuted:!1},$$inline:!0});const m={c:function(){e=_("div"),t=_("h3"),t.textContent=s,l=I(),n=_("div"),te(r.$$.fragment),this.h()},l:function(a){e=C(a,"DIV",{class:!0});var g=x(e);t=C(g,"H3",{class:!0,"data-svelte-h":!0}),B(t)!=="svelte-1vribo5"&&(t.textContent=s),g.forEach(y),l=T(a),n=C(a,"DIV",{class:!0});var h=x(n);ee(r.$$.fragment,h),h.forEach(y),this.h()},h:function(){w(t,"class","section-title svelte-q662rn"),b(t,q,666,10,20637),w(e,"class","card-header svelte-q662rn"),b(e,q,665,8,20601),w(n,"class","card-content svelte-q662rn"),b(n,q,668,8,20703)},m:function(a,g){R(a,e,g),d(e,t),R(a,l,g),R(a,n,g),$(r,n,null),c=!0},p:function(a,g){const h={};g[0]&8192&&(h.frequency=a[13]),g[0]&16384&&(h.note=a[14]),g[0]&4096&&(h.volume=a[12]),r.$set(h)},i:function(a){c||(L(r.$$.fragment,a),c=!0)},o:function(a){F(r.$$.fragment,a),c=!1},d:function(a){a&&(y(e),y(l),y(n)),Y(r)}};return M("SvelteRegisterBlock",{block:m,id:vn.name,type:"slot",source:'(665:6) <Card class=\\"main-card half-width\\">',ctx:i}),m}function wt(i){let e,t=i[56]+"",s,l,n;const r={c:function(){e=_("div"),s=W(t),l=I(),this.h()},l:function(m){e=C(m,"DIV",{class:!0});var u=x(e);s=Q(u,t),l=T(u),u.forEach(y),this.h()},h:function(){var m;w(e,"class",n="scale-item "+(((m=i[8][i[58]])==null?void 0:m.state)||"inactive")+" svelte-q662rn"),b(e,q,687,12,21258)},m:function(m,u){R(m,e,u),d(e,s),d(e,l)},p:function(m,u){var a;u[0]&131072&&t!==(t=m[56]+"")&&at(s,t),u[0]&256&&n!==(n="scale-item "+(((a=m[8][m[58]])==null?void 0:a.state)||"inactive")+" svelte-q662rn")&&w(e,"class",n)},d:function(m){m&&y(e)}};return M("SvelteRegisterBlock",{block:r,id:wt.name,type:"each",source:"(687:10) {#each currentScale as step, index}",ctx:i}),r}function bn(i){let e,t,s,l=i[0]==="chromatic"?"12":"8",n,r,c,m,u,a=qt(i[17]),g=[];for(let p=0;p<a.length;p+=1)g[p]=wt(Ft(i,a,p));const h={c:function(){e=_("div"),t=_("h3"),s=W("üéµ "),n=W(l),r=W("Èü≥Èöé„Ç¨„Ç§„Éâ"),c=I(),m=_("div"),u=_("div");for(let S=0;S<g.length;S+=1)g[S].c();this.h()},l:function(S){e=C(S,"DIV",{class:!0});var E=x(e);t=C(E,"H3",{class:!0});var f=x(t);s=Q(f,"üéµ "),n=Q(f,l),r=Q(f,"Èü≥Èöé„Ç¨„Ç§„Éâ"),f.forEach(y),E.forEach(y),c=T(S),m=C(S,"DIV",{class:!0});var v=x(m);u=C(v,"DIV",{class:!0});var j=x(u);for(let N=0;N<g.length;N+=1)g[N].l(j);j.forEach(y),v.forEach(y),this.h()},h:function(){w(t,"class","section-title svelte-q662rn"),b(t,q,682,8,21045),w(e,"class","card-header svelte-q662rn"),b(e,q,681,6,21011),w(u,"class","scale-guide svelte-q662rn"),b(u,q,685,8,21174),w(m,"class","card-content svelte-q662rn"),b(m,q,684,6,21139)},m:function(S,E){R(S,e,E),d(e,t),d(t,s),d(t,n),d(t,r),R(S,c,E),R(S,m,E),d(m,u);for(let f=0;f<g.length;f+=1)g[f]&&g[f].m(u,null)},p:function(S,E){if(E[0]&1&&l!==(l=S[0]==="chromatic"?"12":"8")&&at(n,l),E[0]&131328){a=qt(S[17]);let f;for(f=0;f<a.length;f+=1){const v=Ft(S,a,f);g[f]?g[f].p(v,E):(g[f]=wt(v),g[f].c(),g[f].m(u,null))}for(;f<g.length;f+=1)g[f].d(1);g.length=a.length}},d:function(S){S&&(y(e),y(c),y(m)),xn(g,S)}};return M("SvelteRegisterBlock",{block:h,id:bn.name,type:"slot",source:'(681:4) <Card class=\\"main-card\\">',ctx:i}),h}function Cn(i){let e;const t={c:function(){e=W("„Éõ„Éº„É†„Å´Êàª„Çã")},l:function(l){e=Q(l,"„Éõ„Éº„É†„Å´Êàª„Çã")},m:function(l,n){R(l,e,n)},d:function(l){l&&y(e)}};return M("SvelteRegisterBlock",{block:t,id:Cn.name,type:"slot",source:'(581:8) <Button variant=\\"primary\\" on:click={handleBackToHome}>',ctx:i}),t}function _n(i){let e,t,s="‚ö†Ô∏è „Éû„Ç§„ÇØË®±ÂèØ„ÅåÂøÖË¶Å„Åß„Åô",l,n,r="„Éû„Ç§„ÇØ„ÉÜ„Çπ„Éà„Éö„Éº„Ç∏„Åã„ÇâÈñãÂßã„Åó„Å¶„Åè„Å†„Åï„ÅÑ",c,m,u;m=new Dt({props:{variant:"primary",$$slots:{default:[Cn]},$$scope:{ctx:i}},$$inline:!0}),m.$on("click",i[26]);const a={c:function(){e=_("div"),t=_("h3"),t.textContent=s,l=I(),n=_("p"),n.textContent=r,c=I(),te(m.$$.fragment),this.h()},l:function(h){e=C(h,"DIV",{class:!0});var p=x(e);t=C(p,"H3",{"data-svelte-h":!0}),B(t)!=="svelte-1iz0ljq"&&(t.textContent=s),l=T(p),n=C(p,"P",{"data-svelte-h":!0}),B(n)!=="svelte-13xvrzt"&&(n.textContent=r),c=T(p),ee(m.$$.fragment,p),p.forEach(y),this.h()},h:function(){b(t,q,578,8,18044),b(n,q,579,8,18075),w(e,"class","card-content text-center svelte-q662rn"),b(e,q,577,6,17997)},m:function(h,p){R(h,e,p),d(e,t),d(e,l),d(e,n),d(e,c),$(m,e,null),u=!0},p:function(h,p){const S={};p[1]&268435456&&(S.$$scope={dirty:p,ctx:h}),m.$set(S)},i:function(h){u||(L(m.$$.fragment,h),u=!0)},o:function(h){F(m.$$.fragment,h),u=!1},d:function(h){h&&y(e),Y(m)}};return M("SvelteRegisterBlock",{block:a,id:_n.name,type:"slot",source:'(577:4) <Card class=\\"main-card\\">',ctx:i}),a}function pn(i){let e,t,s="‚è≥ „Éû„Ç§„ÇØÂàùÊúüÂåñ‰∏≠...",l,n,r="„Åó„Å∞„Çâ„Åè„ÅäÂæÖ„Å°„Åè„Å†„Åï„ÅÑ";const c={c:function(){e=_("div"),t=_("h3"),t.textContent=s,l=I(),n=_("p"),n.textContent=r,this.h()},l:function(u){e=C(u,"DIV",{class:!0});var a=x(e);t=C(a,"H3",{"data-svelte-h":!0}),B(t)!=="svelte-1tpl2vf"&&(t.textContent=s),l=T(a),n=C(a,"P",{"data-svelte-h":!0}),B(n)!=="svelte-1vogiv7"&&(n.textContent=r),a.forEach(y),this.h()},h:function(){b(t,q,570,8,17793),b(n,q,571,8,17823),w(e,"class","card-content text-center svelte-q662rn"),b(e,q,569,6,17746)},m:function(u,a){R(u,e,a),d(e,t),d(e,l),d(e,n)},p:pe,d:function(u){u&&y(e)}};return M("SvelteRegisterBlock",{block:c,id:pn.name,type:"slot",source:'(569:4) <Card class=\\"main-card\\">',ctx:i}),c}function St(i){let e,t,s,l;const n=[cn,ln,rn,sn],r=[];function c(u,a){return u[4]==="checking"?0:u[4]==="denied"||u[4]==="error"?1:u[15]&&u[16]?2:3}t=c(i),s=r[t]=n[t](i);const m={c:function(){e=_("div"),s.c(),this.h()},l:function(a){e=C(a,"DIV",{class:!0});var g=x(e);s.l(g),g.forEach(y),this.h()},h:function(){w(e,"class","training-core svelte-q662rn"),b(e,q,564,0,17619)},m:function(a,g){R(a,e,g),r[t].m(e,null),l=!0},p:function(a,g){let h=t;t=c(a),t===h?r[t].p(a,g):(kt(),F(r[h],1,1,()=>{r[h]=null}),Pt(),s=r[t],s?s.p(a,g):(s=r[t]=n[t](a),s.c()),L(s,1),s.m(e,null))},i:function(a){l||(L(s),l=!0)},o:function(a){F(s),l=!1},d:function(a){a&&y(e),r[t].d()}};return M("SvelteRegisterBlock",{block:m,id:St.name,type:"component",source:"",ctx:i}),m}function Ht(){const i=/iPhone/.test(navigator.userAgent),e=/iPad/.test(navigator.userAgent),t=/Macintosh/.test(navigator.userAgent)&&"ontouchend"in document;return i||e||t?35:-6}function Ot(i){return{C4:261.63,Db4:277.18,D4:293.66,Eb4:311.13,E4:329.63,F4:349.23,Gb4:369.99,G4:392,Ab4:415.3,A4:440,Bb4:466.16,B4:493.88,C5:523.25,Db5:554.37,D5:587.33,Eb5:622.25,E5:659.25,F5:698.46,Gb5:739.99,G5:783.99}[i]||261.63}function zt(i,e){return i*([1,1.125,1.25,1.3333333333333333,1.5,1.6666666666666667,1.875,2][e]||1)}function Ut(i,e){return!i||!e||i<=0||e<=0?null:Math.round(1200*Math.log2(i/e))}function Kt(i){if(i===null)return 0;const e=Math.abs(i);return Math.max(0,Math.min(100,100-e/50*100))}function oo(i,e,t){let s,l,n,r,c,m,u,a;Ge(ht,"isCompleted"),Fe(i,ht,o=>t(18,n=o)),Ge(gt,"nextBaseNote"),Fe(i,gt,o=>t(42,r=o)),Ge(vt,"unifiedScoreData"),Fe(i,vt,o=>t(43,c=o)),Ge(bt,"nextBaseName"),Fe(i,bt,o=>t(44,m=o)),Ge(Ct,"currentSessionId"),Fe(i,Ct,o=>t(19,u=o)),Ge(_t,"progressPercentage"),Fe(i,_t,o=>t(20,a=o));let{$$slots:g={},$$scope:h}=e;Zt("TrainingCore",g,[]);let{mode:p="random"}=e,{autoPlay:S=!1}=e,{sessionCount:E=8}=e,{baseNote:f=null}=e,{direction:v="asc"}=e,{useLocalStorage:j=!0}=e;const N="random-training-progress";let{onSessionComplete:V=null}=e,{onAllComplete:P=null}=e,{onMicrophoneError:D=null}=e;const H=null;let J="checking",ne=null,U=null,ce=null,ae=null,re=null,ue=!1,fe=!1,G=[],oe=0,je=!1,de="waiting",se=0,ie=0,Ie="„Éº„Éº",K=[],we=null,ye=!1,Z=null;ct(async()=>{console.log(`üöÄ [TrainingCore] ${p}„É¢„Éº„ÉâÂàùÊúüÂåñÈñãÂßã`);try{j&&(await Lt(),console.log(`‚úÖ [TrainingCore] localStorageÂàùÊúüÂåñÂÆå‰∫Ü: „Çª„ÉÉ„Ç∑„Éß„É≥${u}/8`)),await me(),await he(),xe(),console.log(`‚úÖ [TrainingCore] ${p}„É¢„Éº„ÉâÂàùÊúüÂåñÂÆå‰∫Ü`)}catch(o){console.error("‚ùå [TrainingCore] ÂàùÊúüÂåñ„Ç®„É©„Éº:",o),D&&D(o.message)}}),Rt(()=>{re&&re.dispose()});async function me(){const o=typeof localStorage<"u"&&localStorage.getItem("mic-test-completed")==="true";if(console.log("üé§ [TrainingCore] „Éû„Ç§„ÇØ„ÉÜ„Çπ„ÉàÂÆå‰∫Ü„Éï„É©„Ç∞:",o),!o){console.log("‚ö†Ô∏è [TrainingCore] „Éû„Ç§„ÇØ„ÉÜ„Çπ„ÉàÊú™ÂÆå‰∫Ü - „Éû„Ç§„ÇØ„ÉÜ„Çπ„Éà„Éö„Éº„Ç∏„Å∏„É™„ÉÄ„Ç§„É¨„ÇØ„Éà"),D&&D("„Éû„Ç§„ÇØ„ÉÜ„Çπ„Éà„ÅåÂøÖË¶Å„Åß„Åô");return}new URLSearchParams(window.location.search).get("from")==="microphone-test"?(t(4,J="granted"),console.log("‚úÖ [TrainingCore] „Éû„Ç§„ÇØ„ÉÜ„Çπ„ÉàÁµåÁî±„Åß„Ç¢„ÇØ„Çª„Çπ - Ë®±ÂèØÊ∏à„Åø"),await ke()):(await He(),J==="granted"&&await ke())}async function He(){try{(await navigator.permissions.query({name:"microphone"})).state==="granted"?await ke():(t(4,J="denied"),console.log("‚ö†Ô∏è [TrainingCore] „Éû„Ç§„ÇØË®±ÂèØ„ÅåÂøÖË¶Å„Åß„Åô"))}catch(o){console.error("‚ùå [TrainingCore] „Éû„Ç§„ÇØË®±ÂèØÁ¢∫Ë™ç„Ç®„É©„Éº:",o),t(4,J="error")}}async function ke(){try{const o=await Mt.initialize();U=o.audioContext,ne=o.mediaStream,ce=o.sourceNode,t(4,J="granted"),console.log("‚úÖ [TrainingCore] AudioManagerÂàùÊúüÂåñÂÆå‰∫Ü"),await A()}catch(o){console.error("‚ùå [TrainingCore] AudioManagerÂàùÊúüÂåñ„Ç®„É©„Éº:",o),t(4,J="error"),D&&D(o.message)}}async function A(){console.log("üéôÔ∏è [TrainingCore] PitchDetectorÂàùÊúüÂåñÈñãÂßã");let o=0;const O=10;for(;!ae&&o<O;)console.log(`‚è≥ [TrainingCore] PitchDetector„Ç≥„É≥„Éù„Éº„Éç„É≥„ÉàÂæÖÊ©ü‰∏≠... (${o+1}/${O})`),await new Promise(X=>setTimeout(X,200)),o++;if(!ae){console.error("‚ùå [TrainingCore] PitchDetector„Ç≥„É≥„Éù„Éº„Éç„É≥„ÉàÂèñÂæóÂ§±Êïó");return}try{U&&ne?(console.log("üîß [TrainingCore] PitchDetectorÂ§ñÈÉ®AudioContextÂàùÊúüÂåñÂÆüË°å"),await ae.initializeWithExternalAudioContext(U,ne),console.log("‚úÖ [TrainingCore] PitchDetectorÂàùÊúüÂåñÂÆå‰∫Ü")):console.error("‚ùå [TrainingCore] AudioContext „Åæ„Åü„ÅØ MediaStream „ÅåÊú™ÂàùÊúüÂåñ")}catch(X){console.error("‚ùå [TrainingCore] PitchDetectorÂàùÊúüÂåñ„Ç®„É©„Éº:",X)}}async function he(){try{t(6,ue=!0),console.log("üéπ [TrainingCore] Salamander Grand Piano Ë™≠„ÅøËæº„ÅøÈñãÂßã"),re=new An({urls:{C4:"C4.mp3"},baseUrl:"https://tonejs.github.io/audio/salamander/",release:1.5}).toDestination(),await Mn(),t(6,ue=!1),console.log("‚úÖ [TrainingCore] Salamander Grand Piano Ë™≠„ÅøËæº„ÅøÂÆå‰∫Ü")}catch(o){console.error("‚ùå [TrainingCore] Âü∫Èü≥ÂÜçÁîüÂàùÊúüÂåñ„Ç®„É©„Éº:",o),t(6,ue=!1)}}async function Ve(){if(!(fe||!re||ue))try{$n.state!=="running"&&(await eo(),console.log("üîä [TrainingCore] Tone.js AudioContext ÈñãÂßã")),t(7,fe=!0);const o=f||r,O=Ht();re.volume.value=O,console.log(`üéπ [TrainingCore] Âü∫Èü≥ÂÜçÁîü: ${o} (${O}dB)`),re.triggerAttackRelease(o,"2n"),ge(),setTimeout(()=>{t(7,fe=!1)},3e3)}catch(o){console.error("‚ùå [TrainingCore] Âü∫Èü≥ÂÜçÁîü„Ç®„É©„Éº:",o),t(7,fe=!1)}}function xe(){t(8,G=s.map(()=>({state:"inactive"}))),console.log(`üéµ [TrainingCore] „Ç¨„Ç§„Éâ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñ: ${s.length}Èü≥Èöé`)}function ge(){t(11,de="guiding");let o=0;const O=setInterval(()=>{o+=2,t(9,oe=o),o>=100&&(clearInterval(O),t(10,je=!0),setTimeout(()=>{Oe()},2e3))},40)}function Oe(){console.log("üéµ [TrainingCore] „Ç¨„Ç§„Éâ„Ç∑„Éº„Ç±„É≥„ÇπÈñãÂßã");let o=0;const O=setInterval(()=>{o<G.length?(t(8,G[o].state="active",G),o++,t(8,G=[...G])):(clearInterval(O),t(11,de="listening"),we=Date.now(),K=s.map(X=>({name:X,cents:null,targetFreq:0,detectedFreq:0,diff:0,accuracy:0})),console.log("üé§ [TrainingCore] „É™„Çπ„Éã„É≥„Ç∞„Éï„Çß„Éº„Ç∫ÈñãÂßã"))},500)}async function Re(){if(!we)return;const o=Math.round((Date.now()-we)/1e3),O=f||r,X=m;console.log(`‚úÖ [TrainingCore] „Çª„ÉÉ„Ç∑„Éß„É≥ÂÆå‰∫Ü: ${o}Áßí`),j?await Gt(K,o,O,X)&&(console.log("‚úÖ [TrainingCore] „Çª„ÉÉ„Ç∑„Éß„É≥ÁµêÊûú‰øùÂ≠òÂÆå‰∫Ü"),t(16,Z=c),t(15,ye=!0),V&&V(),n&&P&&P()):(t(16,Z={mode:p,sessionHistory:[{sessionId:1,grade:pt.evaluateSession(K),accuracy:pt.calculateAccuracy(K),baseNote:O,baseName:X,noteResults:K,completedAt:new Date().toISOString()}],isCompleted:!0,totalSessions:1,targetSessions:1}),t(15,ye=!0),V&&V())}function ve(o){const{frequency:O,note:X,volume:le}=o.detail;t(13,ie=O),t(14,Ie=X),t(12,se=le),de==="listening"&&K.length>0&&ze(O)}function ze(o,O){const le=Ot(f||r),Pe=qe();if(Pe>=0&&Pe<K.length){const Be=zt(le,Pe),_e=Ut(o,Be);K[Pe]={name:s[Pe],cents:_e,targetFreq:Be,detectedFreq:o,diff:o-Be,accuracy:Kt(_e)},K=[...K],K.filter(Ke=>Ke.cents!==null).length>=s.length&&Re()}}function qe(){for(let o=0;o<G.length;o++)if(G[o].state==="active")return o;return-1}function be(o){console.error("‚ùå [TrainingCore] PitchDetector„Ç®„É©„Éº:",o.detail),D&&D(o.detail.error)}function Ae(){t(15,ye=!1),t(11,de="waiting"),t(9,oe=0),t(10,je=!1),xe()}function Me(){Ae(),S&&!n&&setTimeout(()=>Ve(),1e3)}function Ce(){We(`${Qe}/`)}const Xe=["mode","autoPlay","sessionCount","baseNote","direction","useLocalStorage","onSessionComplete","onAllComplete","onMicrophoneError"];Object.keys(e).forEach(o=>{!~Xe.indexOf(o)&&o.slice(0,2)!=="$$"&&o!=="slot"&&no.warn(`<TrainingCore> was created with unknown prop '${o}'`)});function Ue(o){In[o?"unshift":"push"](()=>{ae=o,t(5,ae)})}return i.$$set=o=>{"mode"in o&&t(0,p=o.mode),"autoPlay"in o&&t(1,S=o.autoPlay),"sessionCount"in o&&t(2,E=o.sessionCount),"baseNote"in o&&t(27,f=o.baseNote),"direction"in o&&t(28,v=o.direction),"useLocalStorage"in o&&t(3,j=o.useLocalStorage),"onSessionComplete"in o&&t(30,V=o.onSessionComplete),"onAllComplete"in o&&t(31,P=o.onAllComplete),"onMicrophoneError"in o&&t(32,D=o.onMicrophoneError)},i.$capture_state=()=>({onMount:ct,onDestroy:Rt,goto:We,base:Qe,page:Nn,ChevronRight:Yn,Music:on,Card:Ne,Button:Dt,VolumeBar:qn,PitchDisplay:Xn,PitchDetector:en,PitchDetectionDisplay:$t,PageLayout:Et,Tone:Zn,audioManager:Mt,harmonicCorrection:Rn,logger:Vn,UnifiedScoreResultFixed:nn,ActionButtons:tn,EvaluationEngine:pt,trainingProgress:Wn,currentSessionId:Ct,nextBaseNote:gt,nextBaseName:bt,isLoading:Qn,storageError:Jn,isCompleted:ht,sessionHistory:Kn,overallGrade:Un,overallAccuracy:zn,progressPercentage:_t,remainingSessions:On,latestSessionResult:Hn,unifiedScoreData:vt,loadProgress:Lt,saveSessionResult:Gt,resetProgress:Fn,createNewProgress:Gn,startNewCycleIfCompleted:Ln,mode:p,autoPlay:S,sessionCount:E,baseNote:f,direction:v,useLocalStorage:j,sessionKey:N,onSessionComplete:V,onAllComplete:P,onMicrophoneError:D,onStorageError:H,microphoneState:J,mediaStream:ne,audioContext:U,sourceNode:ce,pitchDetectorComponent:ae,sampler:re,isSamplerLoading:ue,isPlaying:fe,scaleSteps:G,guideStartProgress:oe,musicIconGlowing:je,trainingPhase:de,currentVolume:se,currentFrequency:ie,detectedNote:Ie,noteResults:K,sessionStartTime:we,showScoreResult:ye,currentUnifiedScoreData:Z,initializeMicrophone:me,checkExistingMicrophonePermission:He,checkMicrophonePermission:ke,initializePitchDetector:A,initializeBaseNotePlaying:he,playBaseNote:Ve,getVolumeForDevice:Ht,initializeGuideSystem:xe,startGuideAnimation:ge,executeGuideSequence:Oe,completeSession:Re,handlePitchUpdate:ve,processNoteDetection:ze,getCurrentStepIndex:qe,getFrequencyFromNote:Ot,calculateTargetFrequency:zt,calculateCents:Ut,calculateNoteAccuracy:Kt,handlePitchDetectorError:be,handleRestart:Ae,handleNextSession:Me,handleBackToHome:Ce,currentScale:s,baseNotePool:l,$isCompleted:n,$nextBaseNote:r,$unifiedScoreData:c,$nextBaseName:m,$currentSessionId:u,$progressPercentage:a}),i.$inject_state=o=>{"mode"in o&&t(0,p=o.mode),"autoPlay"in o&&t(1,S=o.autoPlay),"sessionCount"in o&&t(2,E=o.sessionCount),"baseNote"in o&&t(27,f=o.baseNote),"direction"in o&&t(28,v=o.direction),"useLocalStorage"in o&&t(3,j=o.useLocalStorage),"onSessionComplete"in o&&t(30,V=o.onSessionComplete),"onAllComplete"in o&&t(31,P=o.onAllComplete),"onMicrophoneError"in o&&t(32,D=o.onMicrophoneError),"microphoneState"in o&&t(4,J=o.microphoneState),"mediaStream"in o&&(ne=o.mediaStream),"audioContext"in o&&(U=o.audioContext),"sourceNode"in o&&(ce=o.sourceNode),"pitchDetectorComponent"in o&&t(5,ae=o.pitchDetectorComponent),"sampler"in o&&(re=o.sampler),"isSamplerLoading"in o&&t(6,ue=o.isSamplerLoading),"isPlaying"in o&&t(7,fe=o.isPlaying),"scaleSteps"in o&&t(8,G=o.scaleSteps),"guideStartProgress"in o&&t(9,oe=o.guideStartProgress),"musicIconGlowing"in o&&t(10,je=o.musicIconGlowing),"trainingPhase"in o&&t(11,de=o.trainingPhase),"currentVolume"in o&&t(12,se=o.currentVolume),"currentFrequency"in o&&t(13,ie=o.currentFrequency),"detectedNote"in o&&t(14,Ie=o.detectedNote),"noteResults"in o&&(K=o.noteResults),"sessionStartTime"in o&&(we=o.sessionStartTime),"showScoreResult"in o&&t(15,ye=o.showScoreResult),"currentUnifiedScoreData"in o&&t(16,Z=o.currentUnifiedScoreData),"currentScale"in o&&t(17,s=o.currentScale),"baseNotePool"in o&&(l=o.baseNotePool)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),i.$$.update=()=>{i.$$.dirty[0]&268435457&&t(17,s=p==="chromatic"?v==="asc"?["„Éâ","„Éâ#","„É¨","„É¨#","„Éü","„Éï„Ç°","„Éï„Ç°#","„ÇΩ","„ÇΩ#","„É©","„É©#","„Ç∑"]:["„Ç∑","„É©#","„É©","„ÇΩ#","„ÇΩ","„Éï„Ç°#","„Éï„Ç°","„Éü","„É¨#","„É¨","„Éâ#","„Éâ"]:["„Éâ","„É¨","„Éü","„Éï„Ç°","„ÇΩ","„É©","„Ç∑","„ÉâÔºàÈ´òÔºâ"]),i.$$.dirty[0]&1&&(l=p==="continuous"?["Bb3","B3","Db4","Eb4","F#4","G#4","Bb4","C#5","Eb5","F#5"]:["C4","Db4","D4","Eb4","E4","F4","Gb4","Ab4","Bb3","B3"])},[p,S,E,j,J,ae,ue,fe,G,oe,je,de,se,ie,Ie,ye,Z,s,n,u,a,Ve,ve,be,Ae,Me,Ce,f,v,N,V,P,D,H,Ue]}class yn extends Jt{constructor(e){super(e),Qt(this,e,oo,St,Wt,{mode:0,autoPlay:1,sessionCount:2,baseNote:27,direction:28,useLocalStorage:3,sessionKey:29,onSessionComplete:30,onAllComplete:31,onMicrophoneError:32,onStorageError:33},null,[-1,-1]),M("SvelteRegisterComponent",{component:this,tagName:"TrainingCore",options:e,id:St.name})}get mode(){throw new Error("<TrainingCore>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set mode(e){throw new Error("<TrainingCore>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get autoPlay(){throw new Error("<TrainingCore>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set autoPlay(e){throw new Error("<TrainingCore>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get sessionCount(){throw new Error("<TrainingCore>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set sessionCount(e){throw new Error("<TrainingCore>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get baseNote(){throw new Error("<TrainingCore>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set baseNote(e){throw new Error("<TrainingCore>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get direction(){throw new Error("<TrainingCore>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set direction(e){throw new Error("<TrainingCore>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get useLocalStorage(){throw new Error("<TrainingCore>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set useLocalStorage(e){throw new Error("<TrainingCore>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get sessionKey(){return this.$$.ctx[29]}set sessionKey(e){throw new Error("<TrainingCore>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onSessionComplete(){throw new Error("<TrainingCore>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onSessionComplete(e){throw new Error("<TrainingCore>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onAllComplete(){throw new Error("<TrainingCore>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onAllComplete(e){throw new Error("<TrainingCore>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onMicrophoneError(){throw new Error("<TrainingCore>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onMicrophoneError(e){throw new Error("<TrainingCore>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onStorageError(){return this.$$.ctx[33]}set onStorageError(e){throw new Error("<TrainingCore>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{console:so}=Yt,k="src/routes/training/continuous/+page.svelte";function wn(i){let e,t,s="‚ö°",l,n,r="Ë™≠„ÅøËæº„Åø‰∏≠...";const c={c:function(){e=_("div"),t=_("div"),t.textContent=s,l=I(),n=_("p"),n.textContent=r,this.h()},l:function(u){e=C(u,"DIV",{class:!0});var a=x(e);t=C(a,"DIV",{class:!0,"data-svelte-h":!0}),B(t)!=="svelte-2fq1u0"&&(t.textContent=s),l=T(a),n=C(a,"P",{"data-svelte-h":!0}),B(n)!=="svelte-c7iph6"&&(n.textContent=r),a.forEach(y),this.h()},h:function(){w(t,"class","loading-spinner svelte-14jb1jb"),b(t,k,156,8,4890),b(n,k,157,8,4935),w(e,"class","loading-placeholder svelte-14jb1jb"),b(e,k,155,6,4848)},m:function(u,a){R(u,e,a),d(e,t),d(e,l),d(e,n)},p:pe,i:pe,o:pe,d:function(u){u&&y(e)}};return M("SvelteRegisterBlock",{block:c,id:wn.name,type:"if",source:"(154:24) ",ctx:i}),c}function Sn(i){let e,t;e=new yn({props:{mode:"continuous",autoPlay:!0,sessionCount:8,useLocalStorage:!0,sessionKey:"continuous-training-progress",onMicrophoneError:i[3],onStorageError:En,onSessionComplete:Dn,onAllComplete:Tn},$$inline:!0});const s={c:function(){te(e.$$.fragment)},l:function(n){ee(e.$$.fragment,n)},m:function(n,r){$(e,n,r),t=!0},p:pe,i:function(n){t||(L(e.$$.fragment,n),t=!0)},o:function(n){F(e.$$.fragment,n),t=!1},d:function(n){Y(e,n)}};return M("SvelteRegisterBlock",{block:s,id:Sn.name,type:"if",source:"(141:63) ",ctx:i}),s}function jn(i){let e,t,s,l,n="‚ö°",r,c,m,u="ÈÄ£Á∂ö„ÉÅ„É£„É¨„É≥„Ç∏„É¢„Éº„Éâ",a,g,h,p,S="üéØ",E,f,v,j="8„Çª„ÉÉ„Ç∑„Éß„É≥ÈÄ£Á∂ö",N,V,P,D,H,J="üî•",ne,U,ce,ae="‰∏≠Á¥öÂêë„ÅëÈõ£ÊòìÂ∫¶",re,ue,fe,G,oe,je="üöÄ",de,se,ie,Ie="Ëá™ÂãïÈÄ≤Ë°å",K,we,ye,Z,me,He="üéº ‰ΩøÁî®Âü∫Èü≥Ôºà‰∏≠Á¥ö„É¨„Éô„É´Ôºâ",ke,A,he,Ve="Bb3",xe,ge,Oe="B3",Re,ve,ze="Db4",qe,be,Ae="Eb4",Me,Ce,Xe="F#4",Ue,o,O="G#4",X,le,Pe="Bb4",Be,_e,ut="C#5",Ke,Ee,Tt="Eb5",ft,De,It="F#5",dt,Se,xt="üî• „ÉÅ„É£„É¨„É≥„Ç∏ÈñãÂßãÔºÅ",mt,Bt;const Nt={c:function(){e=_("div"),t=_("div"),s=_("div"),l=_("div"),l.textContent=n,r=I(),c=_("div"),m=_("h2"),m.textContent=u,a=I(),g=_("div"),h=_("div"),p=_("div"),p.textContent=S,E=I(),f=_("div"),v=_("strong"),v.textContent=j,N=_("br"),V=W(`
                  ÈÄî‰∏≠„ÅßÊ≠¢„Åæ„Çâ„Å™„ÅÑÈõÜ‰∏≠„Éà„É¨„Éº„Éã„É≥„Ç∞`),P=I(),D=_("div"),H=_("div"),H.textContent=J,ne=I(),U=_("div"),ce=_("strong"),ce.textContent=ae,re=_("br"),ue=W(`
                  „Çà„ÇäÈõ£„Åó„ÅÑÂü∫Èü≥„Åß„ÅÆÊåëÊà¶`),fe=I(),G=_("div"),oe=_("div"),oe.textContent=je,de=I(),se=_("div"),ie=_("strong"),ie.textContent=Ie,K=_("br"),we=W(`
                  „Çª„ÉÉ„Ç∑„Éß„É≥ÂÆå‰∫ÜÂæå„Å´Ëá™Âãï„ÅßÊ¨°„Å∏`),ye=I(),Z=_("div"),me=_("h3"),me.textContent=He,ke=I(),A=_("div"),he=_("span"),he.textContent=Ve,xe=I(),ge=_("span"),ge.textContent=Oe,Re=I(),ve=_("span"),ve.textContent=ze,qe=I(),be=_("span"),be.textContent=Ae,Me=I(),Ce=_("span"),Ce.textContent=Xe,Ue=I(),o=_("span"),o.textContent=O,X=I(),le=_("span"),le.textContent=Pe,Be=I(),_e=_("span"),_e.textContent=ut,Ke=I(),Ee=_("span"),Ee.textContent=Tt,ft=I(),De=_("span"),De.textContent=It,dt=I(),Se=_("button"),Se.textContent=xt,this.h()},l:function(Je){e=C(Je,"DIV",{class:!0});var $e=x(e);t=C($e,"DIV",{class:!0});var et=x(t);s=C(et,"DIV",{class:!0});var Vt=x(s);l=C(Vt,"DIV",{class:!0,"data-svelte-h":!0}),B(l)!=="svelte-9b7bld"&&(l.textContent=n),Vt.forEach(y),r=T(et),c=C(et,"DIV",{class:!0});var Te=x(c);m=C(Te,"H2",{class:!0,"data-svelte-h":!0}),B(m)!=="svelte-1je1qsu"&&(m.textContent=u),a=T(Te),g=C(Te,"DIV",{class:!0});var Le=x(g);h=C(Le,"DIV",{class:!0});var tt=x(h);p=C(tt,"DIV",{class:!0,"data-svelte-h":!0}),B(p)!=="svelte-9nnsxm"&&(p.textContent=S),E=T(tt),f=C(tt,"DIV",{class:!0});var nt=x(f);v=C(nt,"STRONG",{class:!0,"data-svelte-h":!0}),B(v)!=="svelte-uvx9fo"&&(v.textContent=j),N=C(nt,"BR",{}),V=Q(nt,`
                  ÈÄî‰∏≠„ÅßÊ≠¢„Åæ„Çâ„Å™„ÅÑÈõÜ‰∏≠„Éà„É¨„Éº„Éã„É≥„Ç∞`),nt.forEach(y),tt.forEach(y),P=T(Le),D=C(Le,"DIV",{class:!0});var ot=x(D);H=C(ot,"DIV",{class:!0,"data-svelte-h":!0}),B(H)!=="svelte-c6ysz9"&&(H.textContent=J),ne=T(ot),U=C(ot,"DIV",{class:!0});var st=x(U);ce=C(st,"STRONG",{class:!0,"data-svelte-h":!0}),B(ce)!=="svelte-1g98qif"&&(ce.textContent=ae),re=C(st,"BR",{}),ue=Q(st,`
                  „Çà„ÇäÈõ£„Åó„ÅÑÂü∫Èü≥„Åß„ÅÆÊåëÊà¶`),st.forEach(y),ot.forEach(y),fe=T(Le),G=C(Le,"DIV",{class:!0});var rt=x(G);oe=C(rt,"DIV",{class:!0,"data-svelte-h":!0}),B(oe)!=="svelte-1ypnhme"&&(oe.textContent=je),de=T(rt),se=C(rt,"DIV",{class:!0});var it=x(se);ie=C(it,"STRONG",{class:!0,"data-svelte-h":!0}),B(ie)!=="svelte-1g1wvsb"&&(ie.textContent=Ie),K=C(it,"BR",{}),we=Q(it,`
                  „Çª„ÉÉ„Ç∑„Éß„É≥ÂÆå‰∫ÜÂæå„Å´Ëá™Âãï„ÅßÊ¨°„Å∏`),it.forEach(y),rt.forEach(y),Le.forEach(y),ye=T(Te),Z=C(Te,"DIV",{class:!0});var lt=x(Z);me=C(lt,"H3",{class:!0,"data-svelte-h":!0}),B(me)!=="svelte-gsfsbo"&&(me.textContent=He),ke=T(lt),A=C(lt,"DIV",{class:!0});var z=x(A);he=C(z,"SPAN",{class:!0,"data-svelte-h":!0}),B(he)!=="svelte-1cztwaa"&&(he.textContent=Ve),xe=T(z),ge=C(z,"SPAN",{class:!0,"data-svelte-h":!0}),B(ge)!=="svelte-1npsk0u"&&(ge.textContent=Oe),Re=T(z),ve=C(z,"SPAN",{class:!0,"data-svelte-h":!0}),B(ve)!=="svelte-6itt2f"&&(ve.textContent=ze),qe=T(z),be=C(z,"SPAN",{class:!0,"data-svelte-h":!0}),B(be)!=="svelte-1ke7wry"&&(be.textContent=Ae),Me=T(z),Ce=C(z,"SPAN",{class:!0,"data-svelte-h":!0}),B(Ce)!=="svelte-1nmuxhq"&&(Ce.textContent=Xe),Ue=T(z),o=C(z,"SPAN",{class:!0,"data-svelte-h":!0}),B(o)!=="svelte-1rndh3b"&&(o.textContent=O),X=T(z),le=C(z,"SPAN",{class:!0,"data-svelte-h":!0}),B(le)!=="svelte-1ml1h8x"&&(le.textContent=Pe),Be=T(z),_e=C(z,"SPAN",{class:!0,"data-svelte-h":!0}),B(_e)!=="svelte-1e15m8i"&&(_e.textContent=ut),Ke=T(z),Ee=C(z,"SPAN",{class:!0,"data-svelte-h":!0}),B(Ee)!=="svelte-g14k23"&&(Ee.textContent=Tt),ft=T(z),De=C(z,"SPAN",{class:!0,"data-svelte-h":!0}),B(De)!=="svelte-1ut7nin"&&(De.textContent=It),z.forEach(y),lt.forEach(y),dt=T(Te),Se=C(Te,"BUTTON",{class:!0,"data-svelte-h":!0}),B(Se)!=="svelte-la0s3j"&&(Se.textContent=xt),Te.forEach(y),et.forEach(y),$e.forEach(y),this.h()},h:function(){w(l,"class","challenge-icon svelte-14jb1jb"),b(l,k,86,12,2396),w(s,"class","challenge-icon-wrapper svelte-14jb1jb"),b(s,k,85,10,2347),w(m,"class","challenge-title svelte-14jb1jb"),b(m,k,90,12,2514),w(p,"class","feature-icon svelte-14jb1jb"),b(p,k,94,16,2673),w(v,"class","svelte-14jb1jb"),b(v,k,96,18,2769),b(N,k,96,43,2794),w(f,"class","feature-text svelte-14jb1jb"),b(f,k,95,16,2724),w(h,"class","feature-item svelte-14jb1jb"),b(h,k,93,14,2630),w(H,"class","feature-icon svelte-14jb1jb"),b(H,k,102,16,2950),w(ce,"class","svelte-14jb1jb"),b(ce,k,104,18,3046),b(re,k,104,42,3070),w(U,"class","feature-text svelte-14jb1jb"),b(U,k,103,16,3001),w(D,"class","feature-item svelte-14jb1jb"),b(D,k,101,14,2907),w(oe,"class","feature-icon svelte-14jb1jb"),b(oe,k,110,16,3221),w(ie,"class","svelte-14jb1jb"),b(ie,k,112,18,3317),b(K,k,112,39,3338),w(se,"class","feature-text svelte-14jb1jb"),b(se,k,111,16,3272),w(G,"class","feature-item svelte-14jb1jb"),b(G,k,109,14,3178),w(g,"class","challenge-features svelte-14jb1jb"),b(g,k,92,12,2583),w(me,"class","svelte-14jb1jb"),b(me,k,119,14,3508),w(he,"class","base-note svelte-14jb1jb"),b(he,k,121,16,3592),w(ge,"class","base-note svelte-14jb1jb"),b(ge,k,122,16,3643),w(ve,"class","base-note svelte-14jb1jb"),b(ve,k,123,16,3693),w(be,"class","base-note svelte-14jb1jb"),b(be,k,124,16,3744),w(Ce,"class","base-note svelte-14jb1jb"),b(Ce,k,125,16,3795),w(o,"class","base-note svelte-14jb1jb"),b(o,k,126,16,3846),w(le,"class","base-note svelte-14jb1jb"),b(le,k,127,16,3897),w(_e,"class","base-note svelte-14jb1jb"),b(_e,k,128,16,3948),w(Ee,"class","base-note svelte-14jb1jb"),b(Ee,k,129,16,3999),w(De,"class","base-note svelte-14jb1jb"),b(De,k,130,16,4050),w(A,"class","base-notes-grid svelte-14jb1jb"),b(A,k,120,14,3546),w(Z,"class","difficulty-info svelte-14jb1jb"),b(Z,k,118,12,3464),w(Se,"class","start-challenge-button svelte-14jb1jb"),b(Se,k,134,12,4150),w(c,"class","challenge-content"),b(c,k,89,10,2470),w(t,"class","challenge-card svelte-14jb1jb"),b(t,k,84,8,2308),w(e,"class","start-screen svelte-14jb1jb"),b(e,k,83,6,2273)},m:function(Je,$e){R(Je,e,$e),d(e,t),d(t,s),d(s,l),d(t,r),d(t,c),d(c,m),d(c,a),d(c,g),d(g,h),d(h,p),d(h,E),d(h,f),d(f,v),d(f,N),d(f,V),d(g,P),d(g,D),d(D,H),d(D,ne),d(D,U),d(U,ce),d(U,re),d(U,ue),d(g,fe),d(g,G),d(G,oe),d(G,de),d(G,se),d(se,ie),d(se,K),d(se,we),d(c,ye),d(c,Z),d(Z,me),d(Z,ke),d(Z,A),d(A,he),d(A,xe),d(A,ge),d(A,Re),d(A,ve),d(A,qe),d(A,be),d(A,Me),d(A,Ce),d(A,Ue),d(A,o),d(A,X),d(A,le),d(A,Be),d(A,_e),d(A,Ke),d(A,Ee),d(A,ft),d(A,De),d(c,dt),d(c,Se),mt||(Bt=Xt(Se,"click",i[4],!1,!1,!1),mt=!0)},p:pe,i:pe,o:pe,d:function(Je){Je&&y(e),mt=!1,Bt()}};return M("SvelteRegisterBlock",{block:Nt,id:jn.name,type:"if",source:"(82:62) ",ctx:i}),Nt}function kn(i){let e,t,s,l="‚ö†Ô∏è",n,r,c,m="„Éû„Ç§„ÇØ„ÉÜ„Çπ„Éà„ÅåÂøÖË¶Å„Åß„Åô",u,a,g="ÈÄ£Á∂ö„ÉÅ„É£„É¨„É≥„Ç∏„ÇíÈñãÂßã„Åô„ÇãÂâç„Å´„ÄÅ„Éû„Ç§„ÇØ„ÅÆÂãï‰ΩúÁ¢∫Ë™ç„ÇíË°å„Å£„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ",h,p,S="„Éû„Ç§„ÇØ„ÉÜ„Çπ„Éà„ÇíÈñãÂßã",E,f;const v={c:function(){e=_("div"),t=_("div"),s=_("div"),s.textContent=l,n=I(),r=_("div"),c=_("h3"),c.textContent=m,u=I(),a=_("p"),a.textContent=g,h=I(),p=_("button"),p.textContent=S,this.h()},l:function(N){e=C(N,"DIV",{class:!0});var V=x(e);t=C(V,"DIV",{class:!0});var P=x(t);s=C(P,"DIV",{class:!0,"data-svelte-h":!0}),B(s)!=="svelte-dwi5dc"&&(s.textContent=l),n=T(P),r=C(P,"DIV",{class:!0});var D=x(r);c=C(D,"H3",{class:!0,"data-svelte-h":!0}),B(c)!=="svelte-17kvze2"&&(c.textContent=m),u=T(D),a=C(D,"P",{class:!0,"data-svelte-h":!0}),B(a)!=="svelte-t9m3nr"&&(a.textContent=g),h=T(D),p=C(D,"BUTTON",{class:!0,"data-svelte-h":!0}),B(p)!=="svelte-18xr2xp"&&(p.textContent=S),D.forEach(y),P.forEach(y),V.forEach(y),this.h()},h:function(){w(s,"class","warning-icon svelte-14jb1jb"),b(s,k,68,10,1776),w(c,"class","svelte-14jb1jb"),b(c,k,70,12,1863),w(a,"class","svelte-14jb1jb"),b(a,k,71,12,1896),w(p,"class","mic-test-button svelte-14jb1jb"),b(p,k,72,12,1948),w(r,"class","warning-content svelte-14jb1jb"),b(r,k,69,10,1821),w(t,"class","warning-card svelte-14jb1jb"),b(t,k,67,8,1739),w(e,"class","mic-test-required svelte-14jb1jb"),b(e,k,66,6,1699)},m:function(N,V){R(N,e,V),d(e,t),d(t,s),d(t,n),d(t,r),d(r,c),d(r,u),d(r,a),d(r,h),d(r,p),E||(f=Xt(p,"click",i[5],!1,!1,!1),E=!0)},p:pe,i:pe,o:pe,d:function(N){N&&y(e),E=!1,f()}};return M("SvelteRegisterBlock",{block:v,id:kn.name,type:"if",source:"(66:4) {#if isClient && !micTestCompleted}",ctx:i}),v}function Pn(i){let e,t,s,l="‚ö° ÈÄ£Á∂ö„ÉÅ„É£„É¨„É≥„Ç∏„É¢„Éº„Éâ",n,r,c="‰∏≠Á¥öËÄÖÂêë„ÅëÔºö„Çà„ÇäÈõ£„Åó„ÅÑÂü∫Èü≥„Åß8„Çª„ÉÉ„Ç∑„Éß„É≥ÈÄ£Á∂öÊåëÊà¶",m,u,a,g;const h=[kn,jn,Sn,wn],p=[];function S(f,v){return f[2]&&!f[0]?0:f[2]&&f[0]&&f[1]?1:f[2]&&f[0]&&!f[1]?2:f[2]?-1:3}~(u=S(i))&&(a=p[u]=h[u](i));const E={c:function(){e=_("div"),t=_("div"),s=_("h1"),s.textContent=l,n=I(),r=_("p"),r.textContent=c,m=I(),a&&a.c(),this.h()},l:function(v){e=C(v,"DIV",{class:!0});var j=x(e);t=C(j,"DIV",{class:!0});var N=x(t);s=C(N,"H1",{class:!0,"data-svelte-h":!0}),B(s)!=="svelte-1nub9gt"&&(s.textContent=l),n=T(N),r=C(N,"P",{class:!0,"data-svelte-h":!0}),B(r)!=="svelte-16c1632"&&(r.textContent=c),N.forEach(y),m=T(j),a&&a.l(j),j.forEach(y),this.h()},h:function(){w(s,"class","page-title svelte-14jb1jb"),b(s,k,58,6,1492),w(r,"class","page-description svelte-14jb1jb"),b(r,k,59,6,1539),w(t,"class","page-header svelte-14jb1jb"),b(t,k,57,4,1460),w(e,"class","continuous-training-page svelte-14jb1jb"),b(e,k,54,2,1391)},m:function(v,j){R(v,e,j),d(e,t),d(t,s),d(t,n),d(t,r),d(e,m),~u&&p[u].m(e,null),g=!0},p:function(v,j){let N=u;u=S(v),u===N?~u&&p[u].p(v,j):(a&&(kt(),F(p[N],1,1,()=>{p[N]=null}),Pt()),~u?(a=p[u],a?a.p(v,j):(a=p[u]=h[u](v),a.c()),L(a,1),a.m(e,null)):a=null)},i:function(v){g||(L(a),g=!0)},o:function(v){F(a),g=!1},d:function(v){v&&y(e),~u&&p[u].d()}};return M("SvelteRegisterBlock",{block:E,id:Pn.name,type:"slot",source:"(54:0) <PageLayout showBackButton={true}>",ctx:i}),E}function jt(i){let e,t,s;t=new Et({props:{showBackButton:!0,$$slots:{default:[Pn]},$$scope:{ctx:i}},$$inline:!0});const l={c:function(){e=I(),te(t.$$.fragment),this.h()},l:function(r){Bn("svelte-13kpo59",document.head).forEach(y),e=T(r),ee(t.$$.fragment,r),this.h()},h:function(){document.title="ÈÄ£Á∂ö„ÉÅ„É£„É¨„É≥„Ç∏„É¢„Éº„Éâ - Áõ∏ÂØæÈü≥ÊÑü„Éà„É¨„Éº„Éã„É≥„Ç∞"},m:function(r,c){R(r,e,c),$(t,r,c),s=!0},p:function(r,[c]){const m={};c&71&&(m.$$scope={dirty:c,ctx:r}),t.$set(m)},i:function(r){s||(L(t.$$.fragment,r),s=!0)},o:function(r){F(t.$$.fragment,r),s=!1},d:function(r){r&&y(e),Y(t,r)}};return M("SvelteRegisterBlock",{block:l,id:jt.name,type:"component",source:"",ctx:i}),l}function En(i){console.error("üö® [ContinuousTraining] „Çπ„Éà„É¨„Éº„Ç∏„Ç®„É©„Éº:",i)}function Dn(){console.log("‚úÖ [ContinuousTraining] „Çª„ÉÉ„Ç∑„Éß„É≥ÂÆå‰∫Ü")}function Tn(){console.log("üéâ [ContinuousTraining] 8„Çª„ÉÉ„Ç∑„Éß„É≥ÂÆå‰∫ÜÔºÅ")}function ro(i,e,t){let{$$slots:s={},$$scope:l}=e;Zt("Page",s,[]);let n=!1,r=!0,c=!1;ct(()=>{t(2,c=!0),typeof localStorage<"u"&&(t(0,n=localStorage.getItem("mic-test-completed")==="true"),console.log("üé§ [ContinuousTraining] „Éû„Ç§„ÇØ„ÉÜ„Çπ„ÉàÂÆå‰∫Ü„Éï„É©„Ç∞:",n))});function m(h){console.error("üö® [ContinuousTraining] „Éû„Ç§„ÇØ„É≠„Éï„Ç©„É≥„Ç®„É©„Éº:",h),We(`${Qe}/microphone-test?mode=continuous`)}function u(){t(1,r=!1)}const a=[];Object.keys(e).forEach(h=>{!~a.indexOf(h)&&h.slice(0,2)!=="$$"&&h!=="slot"&&so.warn(`<Page> was created with unknown prop '${h}'`)});const g=()=>We(`${Qe}/microphone-test?mode=continuous`);return i.$capture_state=()=>({onMount:ct,goto:We,base:Qe,PageLayout:Et,TrainingCore:yn,micTestCompleted:n,showStartScreen:r,isClient:c,handleMicrophoneError:m,handleStorageError:En,handleSessionComplete:Dn,handleAllComplete:Tn,startChallenge:u}),i.$inject_state=h=>{"micTestCompleted"in h&&t(0,n=h.micTestCompleted),"showStartScreen"in h&&t(1,r=h.showStartScreen),"isClient"in h&&t(2,c=h.isClient)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),[n,r,c,m,u,g]}class vo extends Jt{constructor(e){super(e),Qt(this,e,ro,jt,Wt,{}),M("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:jt.name})}}export{vo as component,go as universal};
