import{S as Hs,i as Ms,d as se,s as zs,a as Os,H as as,b as f,q as ke,r as _e,u as ve,f as J,w as Ee,I as Fs,m as V,x as De,p as B,y as Se,K as cs,L as is,g as t,z as i,h as r,j as v,k as y,B as Ve,A as U,N as Lt,o as h,C as Be,Q as Ne,n as ps,R as Vt,T as Ws,e as ne,O as St,l as N,t as R,M as rs,U as Ct}from"../chunks/DXfV3yLF.js";import{g as Gs}from"../chunks/D0QH3NT1.js";import"../chunks/BnpKoSs-.js";import{P as gs,B as It,C as Oe}from"../chunks/CrwomGmF.js";import{g as us,b as fs}from"../chunks/DsJ4At2a.js";const Us=!1,Ls=!1,el=Object.freeze(Object.defineProperty({__proto__:null,prerender:Ls,ssr:Us},Symbol.toStringTag,{value:"Module"})),{console:Js}=Gs,u="src/routes/training/chromatic/+page.svelte";function ds(o,e,n){const c=o.slice();return c[38]=e[n],c}function vs(o,e,n){const c=o.slice();return c[41]=e[n],c[43]=n,c}function hs(o,e,n){const c=o.slice();return c[41]=e[n],c[43]=n,c}function ms(o,e,n){const c=o.slice();return c[41]=e[n],c[43]=n,c}function _s(o,e,n){const c=o.slice();return c[41]=e[n],c[43]=n,c}function ys(o){let e,n,c;n=new Oe({props:{variant:"default",padding:"lg",$$slots:{default:[Is]},$$scope:{ctx:o}},$$inline:!0});const d={c:function(){e=h("div"),Se(n.$$.fragment),this.h()},l:function(s){e=v(s,"DIV",{class:!0});var a=y(e);De(n.$$.fragment,a),a.forEach(f),this.h()},h:function(){i(e,"class","results-screen"),r(e,u,468,6,15972)},m:function(s,a){J(s,e,a),Ee(n,e,null),c=!0},p:function(s,a){const _={};a[0]&81931|a[1]&65536&&(_.$$scope={dirty:a,ctx:s}),n.$set(_)},i:function(s){c||(ve(n.$$.fragment,s),c=!0)},o:function(s){_e(n.$$.fragment,s),c=!1},d:function(s){s&&f(e),ke(n)}};return se("SvelteRegisterBlock",{block:d,id:ys.name,type:"if",source:"(467:26) ",ctx:o}),d}function Cs(o){let e,n,c,d,l,s,a,_,m,C,b;n=new Oe({props:{variant:"default",padding:"lg",$$slots:{default:[Vs]},$$scope:{ctx:o}},$$inline:!0}),s=new Oe({props:{variant:"default",padding:"md",$$slots:{default:[Bs]},$$scope:{ctx:o}},$$inline:!0}),_=new Oe({props:{variant:"default",padding:"md",$$slots:{default:[ws]},$$scope:{ctx:o}},$$inline:!0}),C=new Oe({props:{variant:"default",padding:"md",$$slots:{default:[$s]},$$scope:{ctx:o}},$$inline:!0});const I={c:function(){e=h("div"),Se(n.$$.fragment),c=B(),d=h("div"),l=h("div"),Se(s.$$.fragment),a=B(),Se(_.$$.fragment),m=B(),Se(C.$$.fragment),this.h()},l:function(g){e=v(g,"DIV",{class:!0});var p=y(e);De(n.$$.fragment,p),c=V(p),d=v(p,"DIV",{class:!0});var S=y(d);l=v(S,"DIV",{class:!0});var k=y(l);De(s.$$.fragment,k),a=V(k),De(_.$$.fragment,k),k.forEach(f),S.forEach(f),m=V(p),De(C.$$.fragment,p),p.forEach(f),this.h()},h:function(){i(l,"class","display-grid svelte-15my86"),r(l,u,425,10,14365),i(d,"class","realtime-display svelte-15my86"),r(d,u,424,8,14324),i(e,"class","detection-screen"),r(e,u,398,6,13264)},m:function(g,p){J(g,e,p),Ee(n,e,null),t(e,c),t(e,d),t(d,l),Ee(s,l,null),t(l,a),Ee(_,l,null),t(e,m),Ee(C,e,null),b=!0},p:function(g,p){const S={};p[0]&65795|p[1]&65536&&(S.$$scope={dirty:p,ctx:g}),n.$set(S);const k={};p[0]&32772|p[1]&65536&&(k.$$scope={dirty:p,ctx:g}),s.$set(k);const q={};p[0]&3072|p[1]&65536&&(q.$$scope={dirty:p,ctx:g}),_.$set(q);const w={};p[0]&65801|p[1]&65536&&(w.$$scope={dirty:p,ctx:g}),C.$set(w)},i:function(g){b||(ve(n.$$.fragment,g),ve(s.$$.fragment,g),ve(_.$$.fragment,g),ve(C.$$.fragment,g),b=!0)},o:function(g){_e(n.$$.fragment,g),_e(s.$$.fragment,g),_e(_.$$.fragment,g),_e(C.$$.fragment,g),b=!1},d:function(g){g&&f(e),ke(n),ke(s),ke(_),ke(C)}};return se("SvelteRegisterBlock",{block:I,id:Cs.name,type:"if",source:"(397:26) ",ctx:o}),I}function bs(o){let e,n,c;n=new Oe({props:{variant:"tertiary",padding:"lg",$$slots:{default:[Ns]},$$scope:{ctx:o}},$$inline:!0});const d={c:function(){e=h("div"),Se(n.$$.fragment),this.h()},l:function(s){e=v(s,"DIV",{class:!0});var a=y(e);De(n.$$.fragment,a),a.forEach(f),this.h()},h:function(){i(e,"class","playing-screen"),r(e,u,353,6,11571)},m:function(s,a){J(s,e,a),Ee(n,e,null),c=!0},p:function(s,a){const _={};a[0]&65601|a[1]&65536&&(_.$$scope={dirty:a,ctx:s}),n.$set(_)},i:function(s){c||(ve(n.$$.fragment,s),c=!0)},o:function(s){_e(n.$$.fragment,s),c=!1},d:function(s){s&&f(e),ke(n)}};return se("SvelteRegisterBlock",{block:d,id:bs.name,type:"if",source:"(352:24) ",ctx:o}),d}function ks(o){let e,n,c;n=new Oe({props:{variant:"default",padding:"lg",$$slots:{default:[Ps]},$$scope:{ctx:o}},$$inline:!0});const d={c:function(){e=h("div"),Se(n.$$.fragment),this.h()},l:function(s){e=v(s,"DIV",{class:!0});var a=y(e);De(n.$$.fragment,a),a.forEach(f),this.h()},h:function(){i(e,"class","start-screen"),r(e,u,232,6,6660)},m:function(s,a){J(s,e,a),Ee(n,e,null),c=!0},p:function(s,a){const _={};a[0]&8321|a[1]&65536&&(_.$$scope={dirty:a,ctx:s}),n.$set(_)},i:function(s){c||(ve(n.$$.fragment,s),c=!0)},o:function(s){_e(n.$$.fragment,s),c=!1},d:function(s){s&&f(e),ke(n)}};return se("SvelteRegisterBlock",{block:d,id:ks.name,type:"if",source:"(231:4) {#if !isPlaying && !isDetecting && !showResults}",ctx:o}),d}function Bn(o){let e,n,c=o[41]+"",d,l,s,a,_=o[43]+1+"",m,C,b,I=o[1][o[43]]?"✓":"×",E,g,p;const S={c:function(){e=h("div"),n=h("span"),d=R(c),l=B(),s=h("span"),a=R("#"),m=R(_),C=B(),b=h("span"),E=R(I),p=B(),this.h()},l:function(q){e=v(q,"DIV",{class:!0});var w=y(e);n=v(w,"SPAN",{class:!0});var H=y(n);d=N(H,c),H.forEach(f),l=V(w),s=v(w,"SPAN",{class:!0});var z=y(s);a=N(z,"#"),m=N(z,_),z.forEach(f),C=V(w),b=v(w,"SPAN",{class:!0});var P=y(b);E=N(P,I),P.forEach(f),p=V(w),w.forEach(f),this.h()},h:function(){i(n,"class","chromatic-note-name svelte-15my86"),r(n,u,493,20,16926),i(s,"class","chromatic-note-number svelte-15my86"),r(s,u,494,20,16994),i(b,"class",g="chromatic-result-icon "+(o[1][o[43]]?"correct":"incorrect")+" svelte-15my86"),r(b,u,495,20,17070),i(e,"class","chromatic-result svelte-15my86"),r(e,u,492,18,16875)},m:function(q,w){J(q,e,w),t(e,n),t(n,d),t(e,l),t(e,s),t(s,a),t(s,m),t(e,C),t(e,b),t(b,E),t(e,p)},p:function(q,w){w[0]&65536&&c!==(c=q[41]+"")&&ne(d,c),w[0]&2&&I!==(I=q[1][q[43]]?"✓":"×")&&ne(E,I),w[0]&2&&g!==(g="chromatic-result-icon "+(q[1][q[43]]?"correct":"incorrect")+" svelte-15my86")&&i(b,"class",g)},d:function(q){q&&f(e)}};return se("SvelteRegisterBlock",{block:S,id:Bn.name,type:"each",source:"(492:16) {#each currentScale as note, index}",ctx:o}),S}function Es(o){let e;const n={c:function(){e=R("同じ方向でもう一度")},l:function(d){e=N(d,"同じ方向でもう一度")},m:function(d,l){J(d,e,l)},d:function(d){d&&f(e)}};return se("SvelteRegisterBlock",{block:n,id:Es.name,type:"slot",source:'(506:14) <Button variant=\\"tertiary\\" size=\\"lg\\" fullWidth on:click={startTraining}>',ctx:o}),n}function Ds(o){let e=o[0]==="ascending"?"下行":"上行",n,c;const d={c:function(){n=R(e),c=R("に切り替え")},l:function(s){n=N(s,e),c=N(s,"に切り替え")},m:function(s,a){J(s,n,a),J(s,c,a)},p:function(s,a){a[0]&1&&e!==(e=s[0]==="ascending"?"下行":"上行")&&ne(n,e)},d:function(s){s&&(f(n),f(c))}};return se("SvelteRegisterBlock",{block:d,id:Ds.name,type:"slot",source:'(509:14) <Button variant=\\"secondary\\" size=\\"md\\" fullWidth on:click={switchDirection}>',ctx:o}),d}function Ss(o){let e;const n={c:function(){e=R("結果を保存")},l:function(d){e=N(d,"結果を保存")},m:function(d,l){J(d,e,l)},d:function(d){d&&f(e)}};return se("SvelteRegisterBlock",{block:n,id:Ss.name,type:"slot",source:'(512:14) <Button variant=\\"secondary\\" size=\\"md\\" fullWidth>',ctx:o}),n}function Is(o){let e,n,c="12音階トレーニング結果",d,l,s,a,_,m,C,b="点",I,E,g=o[0]==="ascending"?"上行":"下行",p,S,k,q,w,H,z,P,O,j,X="音階別結果",M,$,F,W,G,oe,Y,ce,le,re,x=Ne(o[16]),Z=[];for(let K=0;K<x.length;K+=1)Z[K]=Bn(vs(o,x,K));G=new It({props:{variant:"tertiary",size:"lg",fullWidth:!0,$$slots:{default:[Es]},$$scope:{ctx:o}},$$inline:!0}),G.$on("click",o[22]),Y=new It({props:{variant:"secondary",size:"md",fullWidth:!0,$$slots:{default:[Ds]},$$scope:{ctx:o}},$$inline:!0}),Y.$on("click",o[23]),le=new It({props:{variant:"secondary",size:"md",fullWidth:!0,$$slots:{default:[Ss]},$$scope:{ctx:o}},$$inline:!0});const ae={c:function(){e=h("div"),n=h("h2"),n.textContent=c,d=B(),l=h("div"),s=h("div"),a=h("span"),_=R(o[14]),m=B(),C=h("span"),C.textContent=b,I=B(),E=h("p"),p=R(g),S=R("クロマチック"),k=B(),q=h("p"),w=R("12音階中 "),H=R(o[3]),z=R("音階 正解"),P=B(),O=h("div"),j=h("h3"),j.textContent=X,M=B(),$=h("div");for(let T=0;T<Z.length;T+=1)Z[T].c();F=B(),W=h("div"),Se(G.$$.fragment),oe=B(),Se(Y.$$.fragment),ce=B(),Se(le.$$.fragment),this.h()},l:function(T){e=v(T,"DIV",{class:!0});var A=y(e);n=v(A,"H2",{class:!0,"data-svelte-h":!0}),U(n)!=="svelte-1001odc"&&(n.textContent=c),d=V(A),l=v(A,"DIV",{class:!0});var Q=y(l);s=v(Q,"DIV",{class:!0});var ue=y(s);a=v(ue,"SPAN",{class:!0});var D=y(a);_=N(D,o[14]),D.forEach(f),m=V(ue),C=v(ue,"SPAN",{class:!0,"data-svelte-h":!0}),U(C)!=="svelte-yaz7vv"&&(C.textContent=b),ue.forEach(f),I=V(Q),E=v(Q,"P",{class:!0});var L=y(E);p=N(L,g),S=N(L,"クロマチック"),L.forEach(f),k=V(Q),q=v(Q,"P",{class:!0});var ie=y(q);w=N(ie,"12音階中 "),H=N(ie,o[3]),z=N(ie,"音階 正解"),ie.forEach(f),Q.forEach(f),P=V(A),O=v(A,"DIV",{class:!0});var ge=y(O);j=v(ge,"H3",{class:!0,"data-svelte-h":!0}),U(j)!=="svelte-140f1nw"&&(j.textContent=X),M=V(ge),$=v(ge,"DIV",{class:!0});var fe=y($);for(let Re=0;Re<Z.length;Re+=1)Z[Re].l(fe);fe.forEach(f),ge.forEach(f),F=V(A),W=v(A,"DIV",{class:!0});var de=y(W);De(G.$$.fragment,de),oe=V(de),De(Y.$$.fragment,de),ce=V(de),De(le.$$.fragment,de),de.forEach(f),A.forEach(f),this.h()},h:function(){i(n,"class","results-title svelte-15my86"),r(n,u,471,12,16099),i(a,"class","score-value svelte-15my86"),r(a,u,476,16,16280),i(C,"class","score-unit svelte-15my86"),r(C,u,477,16,16337),i(s,"class","score-circle svelte-15my86"),r(s,u,475,14,16237),i(E,"class","score-description svelte-15my86"),r(E,u,479,14,16406),i(q,"class","score-stats svelte-15my86"),r(q,u,482,14,16533),i(l,"class","score-display svelte-15my86"),r(l,u,474,12,16195),i(j,"class","details-title svelte-15my86"),r(j,u,489,14,16722),i($,"class","chromatic-results svelte-15my86"),r($,u,490,14,16773),i(O,"class","detailed-results"),r(O,u,488,12,16677),i(W,"class","action-buttons svelte-15my86"),r(W,u,504,12,17371),i(e,"class","results-content svelte-15my86"),r(e,u,470,10,16057)},m:function(T,A){J(T,e,A),t(e,n),t(e,d),t(e,l),t(l,s),t(s,a),t(a,_),t(s,m),t(s,C),t(l,I),t(l,E),t(E,p),t(E,S),t(l,k),t(l,q),t(q,w),t(q,H),t(q,z),t(e,P),t(e,O),t(O,j),t(O,M),t(O,$);for(let Q=0;Q<Z.length;Q+=1)Z[Q]&&Z[Q].m($,null);t(e,F),t(e,W),Ee(G,W,null),t(W,oe),Ee(Y,W,null),t(W,ce),Ee(le,W,null),re=!0},p:function(T,A){if((!re||A[0]&16384)&&ne(_,T[14]),(!re||A[0]&1)&&g!==(g=T[0]==="ascending"?"上行":"下行")&&ne(p,g),(!re||A[0]&8)&&ne(H,T[3]),A[0]&65538){x=Ne(T[16]);let L;for(L=0;L<x.length;L+=1){const ie=vs(T,x,L);Z[L]?Z[L].p(ie,A):(Z[L]=Bn(ie),Z[L].c(),Z[L].m($,null))}for(;L<Z.length;L+=1)Z[L].d(1);Z.length=x.length}const Q={};A[1]&65536&&(Q.$$scope={dirty:A,ctx:T}),G.$set(Q);const ue={};A[0]&1|A[1]&65536&&(ue.$$scope={dirty:A,ctx:T}),Y.$set(ue);const D={};A[1]&65536&&(D.$$scope={dirty:A,ctx:T}),le.$set(D)},i:function(T){re||(ve(G.$$.fragment,T),ve(Y.$$.fragment,T),ve(le.$$.fragment,T),re=!0)},o:function(T){_e(G.$$.fragment,T),_e(Y.$$.fragment,T),_e(le.$$.fragment,T),re=!1},d:function(T){T&&f(e),Vt(Z,T),ke(G),ke(Y),ke(le)}};return se("SvelteRegisterBlock",{block:ae,id:Is.name,type:"slot",source:'(470:8) <Card variant=\\"default\\" padding=\\"lg\\">',ctx:o}),ae}function wn(o){let e,n=o[1][o[43]]?"✓":"×",c,d;const l={c:function(){e=h("span"),c=R(n),this.h()},l:function(a){e=v(a,"SPAN",{class:!0});var _=y(e);c=N(_,n),_.forEach(f),this.h()},h:function(){i(e,"class",d="result-icon "+(o[1][o[43]]?"correct":"incorrect")+" svelte-15my86"),r(e,u,413,20,14009)},m:function(a,_){J(a,e,_),t(e,c)},p:function(a,_){_[0]&2&&n!==(n=a[1][a[43]]?"✓":"×")&&ne(c,n),_[0]&2&&d!==(d="result-icon "+(a[1][a[43]]?"correct":"incorrect")+" svelte-15my86")&&i(e,"class",d)},d:function(a){a&&f(e)}};return se("SvelteRegisterBlock",{block:l,id:wn.name,type:"if",source:"(413:18) {#if scaleResults[index] !== undefined}",ctx:o}),l}function $n(o){let e,n,c=o[41]+"",d,l,s,a=o[43]+1+"",_,m,C,b=o[1][o[43]]!==void 0&&wn(o);const I={c:function(){e=h("div"),n=h("span"),d=R(c),l=B(),s=h("span"),_=R(a),m=B(),b&&b.c(),C=B(),this.h()},l:function(g){e=v(g,"DIV",{class:!0});var p=y(e);n=v(p,"SPAN",{class:!0});var S=y(n);d=N(S,c),S.forEach(f),l=V(p),s=v(p,"SPAN",{class:!0});var k=y(s);_=N(k,a),k.forEach(f),m=V(p),b&&b.l(p),C=V(p),p.forEach(f),this.h()},h:function(){i(n,"class","note-text svelte-15my86"),r(n,u,410,18,13830),i(s,"class","note-number svelte-15my86"),r(s,u,411,18,13886),i(e,"class","chromatic-note svelte-15my86"),Ct(e,"active",o[43]===o[8]),Ct(e,"completed",o[1][o[43]]!==void 0),r(e,u,407,16,13644)},m:function(g,p){J(g,e,p),t(e,n),t(n,d),t(e,l),t(e,s),t(s,_),t(e,m),b&&b.m(e,null),t(e,C)},p:function(g,p){p[0]&65536&&c!==(c=g[41]+"")&&ne(d,c),g[1][g[43]]!==void 0?b?b.p(g,p):(b=wn(g),b.c(),b.m(e,C)):b&&(b.d(1),b=null),p[0]&256&&Ct(e,"active",g[43]===g[8]),p[0]&2&&Ct(e,"completed",g[1][g[43]]!==void 0)},d:function(g){g&&f(e),b&&b.d()}};return se("SvelteRegisterBlock",{block:I,id:$n.name,type:"each",source:"(407:14) {#each currentScale as note, index}",ctx:o}),I}function Vs(o){let e,n,c=o[0]==="ascending"?"上行":"下行",d,l,s,a,_=Ne(o[16]),m=[];for(let b=0;b<_.length;b+=1)m[b]=$n(hs(o,_,b));const C={c:function(){e=h("div"),n=h("h2"),d=R(c),l=R("クロマチックスケールを歌ってください"),s=B(),a=h("div");for(let I=0;I<m.length;I+=1)m[I].c();this.h()},l:function(I){e=v(I,"DIV",{class:!0});var E=y(e);n=v(E,"H2",{class:!0});var g=y(n);d=N(g,c),l=N(g,"クロマチックスケールを歌ってください"),g.forEach(f),s=V(E),a=v(E,"DIV",{class:!0});var p=y(a);for(let S=0;S<m.length;S+=1)m[S].l(p);p.forEach(f),E.forEach(f),this.h()},h:function(){i(n,"class","guide-title svelte-15my86"),r(n,u,402,12,13419),i(a,"class","chromatic-guide svelte-15my86"),r(a,u,405,12,13548),i(e,"class","guide-content svelte-15my86"),r(e,u,401,10,13379)},m:function(I,E){J(I,e,E),t(e,n),t(n,d),t(n,l),t(e,s),t(e,a);for(let g=0;g<m.length;g+=1)m[g]&&m[g].m(a,null)},p:function(I,E){if(E[0]&1&&c!==(c=I[0]==="ascending"?"上行":"下行")&&ne(d,c),E[0]&65794){_=Ne(I[16]);let g;for(g=0;g<_.length;g+=1){const p=hs(I,_,g);m[g]?m[g].p(p,E):(m[g]=$n(p),m[g].c(),m[g].m(a,null))}for(;g<m.length;g+=1)m[g].d(1);m.length=_.length}},d:function(I){I&&f(e),Vt(m,I)}};return se("SvelteRegisterBlock",{block:C,id:Vs.name,type:"slot",source:'(401:8) <Card variant=\\"default\\" padding=\\"lg\\">',ctx:o}),C}function Bs(o){let e,n,c="音量レベル",d,l,s,a,_,m,C=Math.round(o[2])+"",b,I;const E={c:function(){e=h("div"),n=h("h3"),n.textContent=c,d=B(),l=h("div"),s=h("div"),a=h("div"),_=B(),m=h("span"),b=R(C),I=R("%"),this.h()},l:function(p){e=v(p,"DIV",{class:!0});var S=y(e);n=v(S,"H3",{class:!0,"data-svelte-h":!0}),U(n)!=="svelte-1nc8gri"&&(n.textContent=c),d=V(S),l=v(S,"DIV",{class:!0});var k=y(l);s=v(k,"DIV",{class:!0});var q=y(s);a=v(q,"DIV",{class:!0,style:!0}),y(a).forEach(f),q.forEach(f),_=V(k),m=v(k,"SPAN",{class:!0});var w=y(m);b=N(w,C),I=N(w,"%"),w.forEach(f),k.forEach(f),S.forEach(f),this.h()},h:function(){i(n,"class","display-title svelte-15my86"),r(n,u,429,16,14527),i(a,"class","volume-fill svelte-15my86"),rs(a,"width",o[15]+"%"),r(a,u,432,20,14678),i(s,"class","volume-bar svelte-15my86"),r(s,u,431,18,14633),i(m,"class","volume-text svelte-15my86"),r(m,u,434,18,14783),i(l,"class","volume-bar-container svelte-15my86"),r(l,u,430,16,14580),i(e,"class","volume-display"),r(e,u,428,14,14482)},m:function(p,S){J(p,e,S),t(e,n),t(e,d),t(e,l),t(l,s),t(s,a),t(l,_),t(l,m),t(m,b),t(m,I)},p:function(p,S){S[0]&32768&&rs(a,"width",p[15]+"%"),S[0]&4&&C!==(C=Math.round(p[2])+"")&&ne(b,C)},d:function(p){p&&f(e)}};return se("SvelteRegisterBlock",{block:E,id:Bs.name,type:"slot",source:'(428:12) <Card variant=\\"default\\" padding=\\"md\\">',ctx:o}),E}function ws(o){let e,n,c="検出音程",d,l,s,a=o[10].toFixed(1)+"",_,m,C,b,I;const E={c:function(){e=h("div"),n=h("h3"),n.textContent=c,d=B(),l=h("div"),s=h("div"),_=R(a),m=R(" Hz"),C=B(),b=h("div"),I=R(o[11]),this.h()},l:function(p){e=v(p,"DIV",{class:!0});var S=y(e);n=v(S,"H3",{class:!0,"data-svelte-h":!0}),U(n)!=="svelte-tjj9b2"&&(n.textContent=c),d=V(S),l=v(S,"DIV",{class:!0});var k=y(l);s=v(k,"DIV",{class:!0});var q=y(s);_=N(q,a),m=N(q," Hz"),q.forEach(f),C=V(k),b=v(k,"DIV",{class:!0});var w=y(b);I=N(w,o[11]),w.forEach(f),k.forEach(f),S.forEach(f),this.h()},h:function(){i(n,"class","display-title svelte-15my86"),r(n,u,442,16,15044),i(s,"class","frequency-value svelte-15my86"),r(s,u,444,18,15139),i(b,"class","note-value svelte-15my86"),r(b,u,445,18,15225),i(l,"class","pitch-info svelte-15my86"),r(l,u,443,16,15096),i(e,"class","pitch-display"),r(e,u,441,14,15e3)},m:function(p,S){J(p,e,S),t(e,n),t(e,d),t(e,l),t(l,s),t(s,_),t(s,m),t(l,C),t(l,b),t(b,I)},p:function(p,S){S[0]&1024&&a!==(a=p[10].toFixed(1)+"")&&ne(_,a),S[0]&2048&&ne(I,p[11])},d:function(p){p&&f(e)}};return se("SvelteRegisterBlock",{block:E,id:ws.name,type:"slot",source:'(441:12) <Card variant=\\"default\\" padding=\\"md\\">',ctx:o}),E}function $s(o){let e,n,c="進行状況",d,l,s,a,_=o[16][o[8]]+"",m,C,b=o[8]+1+"",I,E,g,p,S,k,q,w,H,z,P,O=o[0]==="ascending"?"上行 📈":"下行 📉",j;const X={c:function(){e=h("div"),n=h("h3"),n.textContent=c,d=B(),l=h("div"),s=h("span"),a=R("現在: "),m=R(_),C=R(" ("),I=R(b),E=R("/12)"),g=B(),p=h("span"),S=R("正解: "),k=R(o[3]),q=R("/"),w=R(o[8]),H=B(),z=h("div"),P=R("方向: "),j=R(O),this.h()},l:function($){e=v($,"DIV",{class:!0});var F=y(e);n=v(F,"H3",{class:!0,"data-svelte-h":!0}),U(n)!=="svelte-v1qnd4"&&(n.textContent=c),d=V(F),l=v(F,"DIV",{class:!0});var W=y(l);s=v(W,"SPAN",{});var G=y(s);a=N(G,"現在: "),m=N(G,_),C=N(G," ("),I=N(G,b),E=N(G,"/12)"),G.forEach(f),g=V(W),p=v(W,"SPAN",{});var oe=y(p);S=N(oe,"正解: "),k=N(oe,o[3]),q=N(oe,"/"),w=N(oe,o[8]),oe.forEach(f),W.forEach(f),H=V(F),z=v(F,"DIV",{class:!0});var Y=y(z);P=N(Y,"方向: "),j=N(Y,O),Y.forEach(f),F.forEach(f),this.h()},h:function(){i(n,"class","progress-title svelte-15my86"),r(n,u,455,12,15484),r(s,u,457,14,15578),r(p,u,458,14,15672),i(l,"class","progress-details svelte-15my86"),r(l,u,456,12,15533),i(z,"class","progress-direction svelte-15my86"),r(z,u,460,12,15755),i(e,"class","progress-info svelte-15my86"),r(e,u,454,10,15444)},m:function($,F){J($,e,F),t(e,n),t(e,d),t(e,l),t(l,s),t(s,a),t(s,m),t(s,C),t(s,I),t(s,E),t(l,g),t(l,p),t(p,S),t(p,k),t(p,q),t(p,w),t(e,H),t(e,z),t(z,P),t(z,j)},p:function($,F){F[0]&65792&&_!==(_=$[16][$[8]]+"")&&ne(m,_),F[0]&256&&b!==(b=$[8]+1+"")&&ne(I,b),F[0]&8&&ne(k,$[3]),F[0]&256&&ne(w,$[8]),F[0]&1&&O!==(O=$[0]==="ascending"?"上行 📈":"下行 📉")&&ne(j,O)},d:function($){$&&f(e)}};return se("SvelteRegisterBlock",{block:X,id:$s.name,type:"slot",source:'(454:8) <Card variant=\\"default\\" padding=\\"md\\">',ctx:o}),X}function Nn(o){let e,n="→";const c={c:function(){e=h("span"),e.textContent=n,this.h()},l:function(l){e=v(l,"SPAN",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-1mixvsg"&&(e.textContent=n),this.h()},h:function(){i(e,"class","sequence-arrow svelte-15my86"),r(e,u,382,20,12851)},m:function(l,s){J(l,e,s)},d:function(l){l&&f(e)}};return se("SvelteRegisterBlock",{block:c,id:Nn.name,type:"if",source:"(382:18) {#if index < currentScale.length - 1}",ctx:o}),c}function Rn(o){let e,n=o[41]+"",c,d,l,s=o[43]<o[16].length-1&&Nn(o);const a={c:function(){e=h("span"),c=R(n),d=B(),s&&s.c(),l=Lt(),this.h()},l:function(m){e=v(m,"SPAN",{class:!0});var C=y(e);c=N(C,n),C.forEach(f),d=V(m),s&&s.l(m),l=Lt(),this.h()},h:function(){i(e,"class","sequence-note svelte-15my86"),Ct(e,"first",o[43]===0),r(e,u,378,18,12667)},m:function(m,C){J(m,e,C),t(e,c),J(m,d,C),s&&s.m(m,C),J(m,l,C)},p:function(m,C){C[0]&65536&&n!==(n=m[41]+"")&&ne(c,n),m[43]<m[16].length-1?s||(s=Nn(m),s.c(),s.m(l.parentNode,l)):s&&(s.d(1),s=null)},d:function(m){m&&(f(e),f(d),f(l)),s&&s.d(m)}};return se("SvelteRegisterBlock",{block:a,id:Rn.name,type:"each",source:"(378:16) {#each currentScale as note, index}",ctx:o}),a}function Ns(o){let e,n,c,d=o[0]==="ascending"?"📈 上行（Ascending）":"📉 下行（Descending）",l,s,a,_,m,C,b,I,E="基音再生中",g,p,S,k,q,w,H,z,P=o[0]==="ascending"?"上行":"下行",O,j,X,M,$,F="歌唱する順序:",W,G,oe,Y,ce,le,re=Ne(o[16]),x=[];for(let ae=0;ae<re.length;ae+=1)x[ae]=Rn(ms(o,re,ae));const Z={c:function(){e=h("div"),n=h("div"),c=h("span"),l=R(d),s=B(),a=h("div"),_=Be("svg"),m=Be("circle"),C=Be("polygon"),b=B(),I=h("h2"),I.textContent=E,g=B(),p=h("p"),S=R("基音: "),k=R(o[6]),q=R("（ド4）"),w=B(),H=h("p"),z=R("この音を基準として、"),O=R(P),j=R("クロマチックスケールを歌います"),X=B(),M=h("div"),$=h("h4"),$.textContent=F,W=B(),G=h("div");for(let K=0;K<x.length;K+=1)x[K].c();oe=B(),Y=h("div"),ce=h("div"),le=h("div"),this.h()},l:function(K){e=v(K,"DIV",{class:!0});var T=y(e);n=v(T,"DIV",{class:!0});var A=y(n);c=v(A,"SPAN",{class:!0});var Q=y(c);l=N(Q,d),Q.forEach(f),A.forEach(f),s=V(T),a=v(T,"DIV",{class:!0});var ue=y(a);_=Ve(ue,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0});var D=y(_);m=Ve(D,"circle",{cx:!0,cy:!0,r:!0}),y(m).forEach(f),C=Ve(D,"polygon",{points:!0}),y(C).forEach(f),D.forEach(f),ue.forEach(f),b=V(T),I=v(T,"H2",{class:!0,"data-svelte-h":!0}),U(I)!=="svelte-1maueo6"&&(I.textContent=E),g=V(T),p=v(T,"P",{class:!0});var L=y(p);S=N(L,"基音: "),k=N(L,o[6]),q=N(L,"（ド4）"),L.forEach(f),w=V(T),H=v(T,"P",{class:!0});var ie=y(H);z=N(ie,"この音を基準として、"),O=N(ie,P),j=N(ie,"クロマチックスケールを歌います"),ie.forEach(f),X=V(T),M=v(T,"DIV",{class:!0});var ge=y(M);$=v(ge,"H4",{class:!0,"data-svelte-h":!0}),U($)!=="svelte-kold0"&&($.textContent=F),W=V(ge),G=v(ge,"DIV",{class:!0});var fe=y(G);for(let rt=0;rt<x.length;rt+=1)x[rt].l(fe);fe.forEach(f),ge.forEach(f),oe=V(T),Y=v(T,"DIV",{class:!0});var de=y(Y);ce=v(de,"DIV",{class:!0});var Re=y(ce);le=v(Re,"DIV",{class:!0}),y(le).forEach(f),Re.forEach(f),de.forEach(f),T.forEach(f),this.h()},h:function(){i(c,"class","direction-text svelte-15my86"),r(c,u,357,14,11747),i(n,"class","direction-indicator svelte-15my86"),r(n,u,356,12,11699),i(m,"cx","12"),i(m,"cy","12"),i(m,"r","10"),r(m,u,364,16,12087),i(C,"points","10,8 16,12 10,16"),r(C,u,365,16,12136),i(_,"width","48"),i(_,"height","48"),i(_,"viewBox","0 0 24 24"),i(_,"fill","none"),i(_,"stroke","currentColor"),i(_,"stroke-width","2"),r(_,u,363,14,11971),i(a,"class","playing-icon svelte-15my86"),r(a,u,362,12,11930),i(I,"class","playing-title svelte-15my86"),r(I,u,368,12,12225),i(p,"class","playing-note svelte-15my86"),r(p,u,369,12,12274),i(H,"class","playing-instruction svelte-15my86"),r(H,u,370,12,12340),i($,"class","svelte-15my86"),r($,u,375,14,12537),i(G,"class","scale-sequence svelte-15my86"),r(G,u,376,14,12568),i(M,"class","scale-preview svelte-15my86"),r(M,u,374,12,12495),i(le,"class","progress-fill svelte-15my86"),r(le,u,390,16,13090),i(ce,"class","progress-bar svelte-15my86"),r(ce,u,389,14,13047),i(Y,"class","playing-progress svelte-15my86"),r(Y,u,388,12,13002),i(e,"class","playing-content svelte-15my86"),r(e,u,355,10,11657)},m:function(K,T){J(K,e,T),t(e,n),t(n,c),t(c,l),t(e,s),t(e,a),t(a,_),t(_,m),t(_,C),t(e,b),t(e,I),t(e,g),t(e,p),t(p,S),t(p,k),t(p,q),t(e,w),t(e,H),t(H,z),t(H,O),t(H,j),t(e,X),t(e,M),t(M,$),t(M,W),t(M,G);for(let A=0;A<x.length;A+=1)x[A]&&x[A].m(G,null);t(e,oe),t(e,Y),t(Y,ce),t(ce,le)},p:function(K,T){if(T[0]&1&&d!==(d=K[0]==="ascending"?"📈 上行（Ascending）":"📉 下行（Descending）")&&ne(l,d),T[0]&64&&ne(k,K[6]),T[0]&1&&P!==(P=K[0]==="ascending"?"上行":"下行")&&ne(O,P),T[0]&65536){re=Ne(K[16]);let A;for(A=0;A<re.length;A+=1){const Q=ms(K,re,A);x[A]?x[A].p(Q,T):(x[A]=Rn(Q),x[A].c(),x[A].m(G,null))}for(;A<x.length;A+=1)x[A].d(1);x.length=re.length}},d:function(K){K&&f(e),Vt(x,K)}};return se("SvelteRegisterBlock",{block:Z,id:Ns.name,type:"slot",source:'(355:8) <Card variant=\\"tertiary\\" padding=\\"lg\\">',ctx:o}),Z}function Pn(o){let e,n=o[41]+"",c,d;const l={c:function(){e=h("span"),c=R(n),d=B(),this.h()},l:function(a){e=v(a,"SPAN",{class:!0});var _=y(e);c=N(_,n),d=V(_),_.forEach(f),this.h()},h:function(){i(e,"class","demo-note svelte-15my86"),Ct(e,"base-note",o[43]===0),r(e,u,244,18,7212)},m:function(a,_){J(a,e,_),t(e,c),t(e,d)},p:ps,d:function(a){a&&f(e)}};return se("SvelteRegisterBlock",{block:l,id:Pn.name,type:"each",source:"(244:16) {#each chromaticNotesAsc as note, index}",ctx:o}),l}function qn(o){let e,n,c=o[13].range+"",d,l;const s={c:function(){e=h("span"),n=R("（音域: "),d=R(c),l=R("）"),this.h()},l:function(_){e=v(_,"SPAN",{class:!0});var m=y(e);n=N(m,"（音域: "),d=N(m,c),l=N(m,"）"),m.forEach(f),this.h()},h:function(){i(e,"class","range-info svelte-15my86"),r(e,u,261,20,7915)},m:function(_,m){J(_,e,m),t(e,n),t(e,d),t(e,l)},p:function(_,m){m[0]&8192&&c!==(c=_[13].range+"")&&ne(d,c)},d:function(_){_&&f(e)}};return se("SvelteRegisterBlock",{block:s,id:qn.name,type:"if",source:"(261:18) {#if vocalRange}",ctx:o}),s}function Rs(o){let e=o[0]==="ascending"?"上行":"下行",n,c;const d={c:function(){n=R(e),c=R("12音階開始")},l:function(s){n=N(s,e),c=N(s,"12音階開始")},m:function(s,a){J(s,n,a),J(s,c,a)},p:function(s,a){a[0]&1&&e!==(e=s[0]==="ascending"?"上行":"下行")&&ne(n,e)},d:function(s){s&&(f(n),f(c))}};return se("SvelteRegisterBlock",{block:d,id:Rs.name,type:"slot",source:'(346:12) <Button variant=\\"tertiary\\" size=\\"lg\\" fullWidth on:click={startTraining}>',ctx:o}),d}function Ps(o){var ts,ns;let e,n,c="🎼 12音階（クロマチック）モード",d,l,s,a,_,m,C="基音 → ド → ド# → レ → ... → シ",b,I,E,g,p="🎵 歌唱する12音階",S,k,q,w,H="選択した基音を「ド」として、半音ずつ上がって12音すべてを歌います",z,P,O,j="基音選択",X,M,$,F,W,G=(((ts=o[19].find(o[24]))==null?void 0:ts.japanese)||o[7])+"",oe,Y,ce,le,re="基音を変更",x,Z,ae,K="スケール方向",T,A,Q,ue,D,L,ie,ge,fe,de,Re="上行",rt,Fe,Hn="ド → ド#→ レ → ... → シ",Bt,Jt,we,ut,Ce,_t,pt,Kt,We,Ge,Mn="下行",Qt,Ue,zn="シ → ラ#→ ラ → ... → ド",wt,Xt,$e,Pe,Le,On="1",Yt,Je,Ke,Fn="基音確認",Zt,qe,xt,bt=(((ns=o[19].find(o[27]))==null?void 0:ns.japanese)||o[7])+"",$t,en,tn,je,Qe,Wn="2",nn,Xe,Ye,Gn="12音階歌唱",sn,Ze,kt=o[0]==="ascending"?"上行（ド→ド#→レ...）":"下行（シ→ラ#→ラ...）",Nt,ln,on,Te,xe,Un="3",an,et,tt,Ln="高精度判定",cn,nt,Jn="半音（50セント）の微細な音程差まで厳密に判定します",rn,Ae,st,Kn="📋 テスト方法",un,be,lt,ft,Qn="1. 基音を変更",fn,dn,ot,dt,Xn="2. 方向を選択",vn,hn,at,vt,Yn="3. トレーニング開始",mn,_n,ct,ht,Zn="4. 音程検出確認",pn,gn,He,Me,yn,xn,gt=Ne(o[18]),he=[];for(let Ie=0;Ie<gt.length;Ie+=1)he[Ie]=Pn(_s(o,gt,Ie));let pe=o[13]&&qn(o);He=new It({props:{variant:"tertiary",size:"lg",fullWidth:!0,$$slots:{default:[Rs]},$$scope:{ctx:o}},$$inline:!0}),He.$on("click",o[22]);const es={c:function(){e=h("div"),n=h("h2"),n.textContent=c,d=B(),l=h("p"),s=R("半音階12音すべてを使った高度な相対音感トレーニング"),a=h("br"),_=B(),m=h("strong"),m.textContent=C,b=R(" の順序で歌います"),I=B(),E=h("div"),g=h("div"),g.textContent=p,S=B(),k=h("div");for(let ee=0;ee<he.length;ee+=1)he[ee].c();q=B(),w=h("div"),w.textContent=H,z=B(),P=h("div"),O=h("h3"),O.textContent=j,X=B(),M=h("div"),$=h("div"),F=R("選択中: "),W=h("strong"),oe=R(G),Y=B(),pe&&pe.c(),ce=B(),le=h("button"),le.textContent=re,x=B(),Z=h("div"),ae=h("h3"),ae.textContent=K,T=B(),A=h("div"),Q=h("button"),ue=h("div"),D=Be("svg"),L=Be("path"),ie=Be("path"),ge=B(),fe=h("div"),de=h("div"),de.textContent=Re,rt=B(),Fe=h("div"),Fe.textContent=Hn,Jt=B(),we=h("button"),ut=h("div"),Ce=Be("svg"),_t=Be("path"),pt=Be("path"),Kt=B(),We=h("div"),Ge=h("div"),Ge.textContent=Mn,Qt=B(),Ue=h("div"),Ue.textContent=zn,Xt=B(),$e=h("div"),Pe=h("div"),Le=h("span"),Le.textContent=On,Yt=B(),Je=h("div"),Ke=h("h3"),Ke.textContent=Fn,Zt=B(),qe=h("p"),xt=R("選択した基音（"),$t=R(bt),en=R("）を「ド」として聞きます"),tn=B(),je=h("div"),Qe=h("span"),Qe.textContent=Wn,nn=B(),Xe=h("div"),Ye=h("h3"),Ye.textContent=Gn,sn=B(),Ze=h("p"),Nt=R(kt),ln=R("で12音すべてを歌います"),on=B(),Te=h("div"),xe=h("span"),xe.textContent=Un,an=B(),et=h("div"),tt=h("h3"),tt.textContent=Ln,cn=B(),nt=h("p"),nt.textContent=Jn,rn=B(),Ae=h("div"),st=h("h3"),st.textContent=Kn,un=B(),be=h("div"),lt=h("p"),ft=h("strong"),ft.textContent=Qn,fn=R(" → 「基音を変更」ボタンで好きな基音を選択"),dn=B(),ot=h("p"),dt=h("strong"),dt.textContent=Xn,vn=R(" → 上行（ド→シ）または下行（シ→ド）を選択"),hn=B(),at=h("p"),vt=h("strong"),vt.textContent=Yn,mn=R(" → 基音を聞いてから12音階を歌唱"),_n=B(),ct=h("p"),ht=h("strong"),ht.textContent=Zn,pn=R(" → 各音程で正解/不正解が即座に表示されます"),gn=B(),Se(He.$$.fragment),this.h()},l:function(ee){e=v(ee,"DIV",{class:!0});var te=y(e);n=v(te,"H2",{class:!0,"data-svelte-h":!0}),U(n)!=="svelte-10ikj8j"&&(n.textContent=c),d=V(te),l=v(te,"P",{class:!0});var ye=y(l);s=N(ye,"半音階12音すべてを使った高度な相対音感トレーニング"),a=v(ye,"BR",{}),_=V(ye),m=v(ye,"STRONG",{"data-svelte-h":!0}),U(m)!=="svelte-he7jil"&&(m.textContent=C),b=N(ye," の順序で歌います"),ye.forEach(f),I=V(te),E=v(te,"DIV",{class:!0});var ze=y(E);g=v(ze,"DIV",{class:!0,"data-svelte-h":!0}),U(g)!=="svelte-18srwop"&&(g.textContent=p),S=V(ze),k=v(ze,"DIV",{class:!0});var Et=y(k);for(let Vn=0;Vn<he.length;Vn+=1)he[Vn].l(Et);Et.forEach(f),q=V(ze),w=v(ze,"DIV",{class:!0,"data-svelte-h":!0}),U(w)!=="svelte-1ypg3ol"&&(w.textContent=H),ze.forEach(f),z=V(te),P=v(te,"DIV",{class:!0});var me=y(P);O=v(me,"H3",{class:!0,"data-svelte-h":!0}),U(O)!=="svelte-1ncovlg"&&(O.textContent=j),X=V(me),M=v(me,"DIV",{class:!0});var mt=y(M);$=v(mt,"DIV",{class:!0});var Dt=y($);F=N(Dt,"選択中: "),W=v(Dt,"STRONG",{});var ss=y(W);oe=N(ss,G),ss.forEach(f),Y=V(Dt),pe&&pe.l(Dt),Dt.forEach(f),ce=V(mt),le=v(mt,"BUTTON",{class:!0,"data-svelte-h":!0}),U(le)!=="svelte-18ljnxb"&&(le.textContent=re),mt.forEach(f),me.forEach(f),x=V(te),Z=v(te,"DIV",{class:!0});var Rt=y(Z);ae=v(Rt,"H3",{class:!0,"data-svelte-h":!0}),U(ae)!=="svelte-1vawqn0"&&(ae.textContent=K),T=V(Rt),A=v(Rt,"DIV",{class:!0});var Pt=y(A);Q=v(Pt,"BUTTON",{class:!0});var qt=y(Q);ue=v(qt,"DIV",{class:!0});var ls=y(ue);D=Ve(ls,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0});var Cn=y(D);L=Ve(Cn,"path",{d:!0}),y(L).forEach(f),ie=Ve(Cn,"path",{d:!0}),y(ie).forEach(f),Cn.forEach(f),ls.forEach(f),ge=V(qt),fe=v(qt,"DIV",{});var jt=y(fe);de=v(jt,"DIV",{class:!0,"data-svelte-h":!0}),U(de)!=="svelte-116jd1b"&&(de.textContent=Re),rt=V(jt),Fe=v(jt,"DIV",{class:!0,"data-svelte-h":!0}),U(Fe)!=="svelte-1ggybwo"&&(Fe.textContent=Hn),jt.forEach(f),qt.forEach(f),Jt=V(Pt),we=v(Pt,"BUTTON",{class:!0});var Tt=y(we);ut=v(Tt,"DIV",{class:!0});var os=y(ut);Ce=Ve(os,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0});var bn=y(Ce);_t=Ve(bn,"path",{d:!0}),y(_t).forEach(f),pt=Ve(bn,"path",{d:!0}),y(pt).forEach(f),bn.forEach(f),os.forEach(f),Kt=V(Tt),We=v(Tt,"DIV",{});var At=y(We);Ge=v(At,"DIV",{class:!0,"data-svelte-h":!0}),U(Ge)!=="svelte-nqapre"&&(Ge.textContent=Mn),Qt=V(At),Ue=v(At,"DIV",{class:!0,"data-svelte-h":!0}),U(Ue)!=="svelte-sgcukz"&&(Ue.textContent=zn),At.forEach(f),Tt.forEach(f),Pt.forEach(f),Rt.forEach(f),Xt=V(te),$e=v(te,"DIV",{class:!0});var yt=y($e);Pe=v(yt,"DIV",{class:!0});var Ht=y(Pe);Le=v(Ht,"SPAN",{class:!0,"data-svelte-h":!0}),U(Le)!=="svelte-1gvrwis"&&(Le.textContent=On),Yt=V(Ht),Je=v(Ht,"DIV",{});var Mt=y(Je);Ke=v(Mt,"H3",{class:!0,"data-svelte-h":!0}),U(Ke)!=="svelte-haxc9i"&&(Ke.textContent=Fn),Zt=V(Mt),qe=v(Mt,"P",{class:!0});var zt=y(qe);xt=N(zt,"選択した基音（"),$t=N(zt,bt),en=N(zt,"）を「ド」として聞きます"),zt.forEach(f),Mt.forEach(f),Ht.forEach(f),tn=V(yt),je=v(yt,"DIV",{class:!0});var Ot=y(je);Qe=v(Ot,"SPAN",{class:!0,"data-svelte-h":!0}),U(Qe)!=="svelte-1lllrxb"&&(Qe.textContent=Wn),nn=V(Ot),Xe=v(Ot,"DIV",{});var Ft=y(Xe);Ye=v(Ft,"H3",{class:!0,"data-svelte-h":!0}),U(Ye)!=="svelte-11s3iw5"&&(Ye.textContent=Gn),sn=V(Ft),Ze=v(Ft,"P",{class:!0});var kn=y(Ze);Nt=N(kn,kt),ln=N(kn,"で12音すべてを歌います"),kn.forEach(f),Ft.forEach(f),Ot.forEach(f),on=V(yt),Te=v(yt,"DIV",{class:!0});var Wt=y(Te);xe=v(Wt,"SPAN",{class:!0,"data-svelte-h":!0}),U(xe)!=="svelte-1swoen2"&&(xe.textContent=Un),an=V(Wt),et=v(Wt,"DIV",{});var Gt=y(et);tt=v(Gt,"H3",{class:!0,"data-svelte-h":!0}),U(tt)!=="svelte-6qndw4"&&(tt.textContent=Ln),cn=V(Gt),nt=v(Gt,"P",{class:!0,"data-svelte-h":!0}),U(nt)!=="svelte-171t9va"&&(nt.textContent=Jn),Gt.forEach(f),Wt.forEach(f),yt.forEach(f),rn=V(te),Ae=v(te,"DIV",{class:!0});var Ut=y(Ae);st=v(Ut,"H3",{class:!0,"data-svelte-h":!0}),U(st)!=="svelte-1i2k673"&&(st.textContent=Kn),un=V(Ut),be=v(Ut,"DIV",{class:!0});var it=y(be);lt=v(it,"P",{class:!0});var En=y(lt);ft=v(En,"STRONG",{"data-svelte-h":!0}),U(ft)!=="svelte-fud0op"&&(ft.textContent=Qn),fn=N(En," → 「基音を変更」ボタンで好きな基音を選択"),En.forEach(f),dn=V(it),ot=v(it,"P",{class:!0});var Dn=y(ot);dt=v(Dn,"STRONG",{"data-svelte-h":!0}),U(dt)!=="svelte-1jzw0la"&&(dt.textContent=Xn),vn=N(Dn," → 上行（ド→シ）または下行（シ→ド）を選択"),Dn.forEach(f),hn=V(it),at=v(it,"P",{class:!0});var Sn=y(at);vt=v(Sn,"STRONG",{"data-svelte-h":!0}),U(vt)!=="svelte-1vheqe3"&&(vt.textContent=Yn),mn=N(Sn," → 基音を聞いてから12音階を歌唱"),Sn.forEach(f),_n=V(it),ct=v(it,"P",{class:!0});var In=y(ct);ht=v(In,"STRONG",{"data-svelte-h":!0}),U(ht)!=="svelte-m9jzz3"&&(ht.textContent=Zn),pn=N(In," → 各音程で正解/不正解が即座に表示されます"),In.forEach(f),it.forEach(f),Ut.forEach(f),gn=V(te),De(He.$$.fragment,te),te.forEach(f),this.h()},h:function(){i(n,"class","start-title svelte-15my86"),r(n,u,235,12,6783),r(a,u,237,40,6913),r(m,u,238,14,6932),i(l,"class","start-description svelte-15my86"),r(l,u,236,12,6843),i(g,"class","demo-title svelte-15my86"),r(g,u,241,14,7056),i(k,"class","demo-notes svelte-15my86"),r(k,u,242,14,7112),i(w,"class","demo-description svelte-15my86"),r(w,u,249,14,7379),i(E,"class","chromatic-demo svelte-15my86"),r(E,u,240,12,7013),i(O,"class","selector-title svelte-15my86"),r(O,u,256,14,7598),r(W,u,259,23,7750),i($,"class","selected-base-note svelte-15my86"),r($,u,258,16,7694),i(le,"class","base-note-change-button svelte-15my86"),r(le,u,264,16,8035),i(M,"class","base-note-info svelte-15my86"),r(M,u,257,14,7649),i(P,"class","base-note-selector svelte-15my86"),r(P,u,255,12,7551),i(ae,"class","selector-title svelte-15my86"),r(ae,u,272,14,8285),i(L,"d","M7 17L17 7"),r(L,u,280,22,8747),i(ie,"d","M7 7h10v10"),r(ie,u,281,22,8792),i(D,"width","20"),i(D,"height","20"),i(D,"viewBox","0 0 24 24"),i(D,"fill","none"),i(D,"stroke","currentColor"),i(D,"stroke-width","2"),r(D,u,279,20,8625),i(ue,"class","option-icon svelte-15my86"),r(ue,u,278,18,8579),i(de,"class","option-title svelte-15my86"),r(de,u,285,20,8911),i(Fe,"class","option-desc svelte-15my86"),r(Fe,u,286,20,8966),r(fe,u,284,18,8885),i(Q,"class",Bt="direction-option "+(o[0]==="ascending"?"selected":"")+" svelte-15my86"),r(Q,u,274,16,8386),i(_t,"d","M17 7L7 17"),r(_t,u,296,22,9464),i(pt,"d","M17 17H7V7"),r(pt,u,297,22,9509),i(Ce,"width","20"),i(Ce,"height","20"),i(Ce,"viewBox","0 0 24 24"),i(Ce,"fill","none"),i(Ce,"stroke","currentColor"),i(Ce,"stroke-width","2"),r(Ce,u,295,20,9342),i(ut,"class","option-icon svelte-15my86"),r(ut,u,294,18,9296),i(Ge,"class","option-title svelte-15my86"),r(Ge,u,301,20,9628),i(Ue,"class","option-desc svelte-15my86"),r(Ue,u,302,20,9683),r(We,u,300,18,9602),i(we,"class",wt="direction-option "+(o[0]==="descending"?"selected":"")+" svelte-15my86"),r(we,u,290,16,9101),i(A,"class","direction-options svelte-15my86"),r(A,u,273,14,8338),i(Z,"class","direction-selector svelte-15my86"),r(Z,u,271,12,8238),i(Le,"class","step-number svelte-15my86"),r(Le,u,310,16,9938),i(Ke,"class","svelte-15my86"),r(Ke,u,312,18,10013),i(qe,"class","svelte-15my86"),r(qe,u,313,18,10045),r(Je,u,311,16,9989),i(Pe,"class","instruction-item svelte-15my86"),r(Pe,u,309,14,9891),i(Qe,"class","step-number svelte-15my86"),r(Qe,u,318,16,10284),i(Ye,"class","svelte-15my86"),r(Ye,u,320,18,10359),i(Ze,"class","svelte-15my86"),r(Ze,u,321,18,10393),r(Xe,u,319,16,10335),i(je,"class","instruction-item svelte-15my86"),r(je,u,317,14,10237),i(xe,"class","step-number svelte-15my86"),r(xe,u,326,16,10596),i(tt,"class","svelte-15my86"),r(tt,u,328,18,10671),i(nt,"class","svelte-15my86"),r(nt,u,329,18,10704),r(et,u,327,16,10647),i(Te,"class","instruction-item svelte-15my86"),r(Te,u,325,14,10549),i($e,"class","instructions svelte-15my86"),r($e,u,308,12,9850),i(st,"class","test-title svelte-15my86"),r(st,u,336,14,10901),r(ft,u,338,19,10996),i(lt,"class","svelte-15my86"),r(lt,u,338,16,10993),r(dt,u,339,19,11067),i(ot,"class","svelte-15my86"),r(ot,u,339,16,11064),r(vt,u,340,19,11139),i(at,"class","svelte-15my86"),r(at,u,340,16,11136),r(ht,u,341,19,11209),i(ct,"class","svelte-15my86"),r(ct,u,341,16,11206),i(be,"class","test-steps svelte-15my86"),r(be,u,337,14,10952),i(Ae,"class","test-instructions svelte-15my86"),r(Ae,u,335,12,10855),i(e,"class","start-content svelte-15my86"),r(e,u,234,10,6743)},m:function(ee,te){J(ee,e,te),t(e,n),t(e,d),t(e,l),t(l,s),t(l,a),t(l,_),t(l,m),t(l,b),t(e,I),t(e,E),t(E,g),t(E,S),t(E,k);for(let ye=0;ye<he.length;ye+=1)he[ye]&&he[ye].m(k,null);t(E,q),t(E,w),t(e,z),t(e,P),t(P,O),t(P,X),t(P,M),t(M,$),t($,F),t($,W),t(W,oe),t($,Y),pe&&pe.m($,null),t(M,ce),t(M,le),t(e,x),t(e,Z),t(Z,ae),t(Z,T),t(Z,A),t(A,Q),t(Q,ue),t(ue,D),t(D,L),t(D,ie),t(Q,ge),t(Q,fe),t(fe,de),t(fe,rt),t(fe,Fe),t(A,Jt),t(A,we),t(we,ut),t(ut,Ce),t(Ce,_t),t(Ce,pt),t(we,Kt),t(we,We),t(We,Ge),t(We,Qt),t(We,Ue),t(e,Xt),t(e,$e),t($e,Pe),t(Pe,Le),t(Pe,Yt),t(Pe,Je),t(Je,Ke),t(Je,Zt),t(Je,qe),t(qe,xt),t(qe,$t),t(qe,en),t($e,tn),t($e,je),t(je,Qe),t(je,nn),t(je,Xe),t(Xe,Ye),t(Xe,sn),t(Xe,Ze),t(Ze,Nt),t(Ze,ln),t($e,on),t($e,Te),t(Te,xe),t(Te,an),t(Te,et),t(et,tt),t(et,cn),t(et,nt),t(e,rn),t(e,Ae),t(Ae,st),t(Ae,un),t(Ae,be),t(be,lt),t(lt,ft),t(lt,fn),t(be,dn),t(be,ot),t(ot,dt),t(ot,vn),t(be,hn),t(be,at),t(at,vt),t(at,mn),t(be,_n),t(be,ct),t(ct,ht),t(ct,pn),t(e,gn),Ee(He,e,null),Me=!0,yn||(xn=[St(le,"click",o[20],!1,!1,!1),St(Q,"click",o[25],!1,!1,!1),St(we,"click",o[26],!1,!1,!1)],yn=!0)},p:function(ee,te){var ze,Et;if(te[0]&262144){gt=Ne(ee[18]);let me;for(me=0;me<gt.length;me+=1){const mt=_s(ee,gt,me);he[me]?he[me].p(mt,te):(he[me]=Pn(mt),he[me].c(),he[me].m(k,null))}for(;me<he.length;me+=1)he[me].d(1);he.length=gt.length}(!Me||te[0]&128)&&G!==(G=(((ze=ee[19].find(ee[24]))==null?void 0:ze.japanese)||ee[7])+"")&&ne(oe,G),ee[13]?pe?pe.p(ee,te):(pe=qn(ee),pe.c(),pe.m($,null)):pe&&(pe.d(1),pe=null),(!Me||te[0]&1&&Bt!==(Bt="direction-option "+(ee[0]==="ascending"?"selected":"")+" svelte-15my86"))&&i(Q,"class",Bt),(!Me||te[0]&1&&wt!==(wt="direction-option "+(ee[0]==="descending"?"selected":"")+" svelte-15my86"))&&i(we,"class",wt),(!Me||te[0]&128)&&bt!==(bt=(((Et=ee[19].find(ee[27]))==null?void 0:Et.japanese)||ee[7])+"")&&ne($t,bt),(!Me||te[0]&1)&&kt!==(kt=ee[0]==="ascending"?"上行（ド→ド#→レ...）":"下行（シ→ラ#→ラ...）")&&ne(Nt,kt);const ye={};te[0]&1|te[1]&65536&&(ye.$$scope={dirty:te,ctx:ee}),He.$set(ye)},i:function(ee){Me||(ve(He.$$.fragment,ee),Me=!0)},o:function(ee){_e(He.$$.fragment,ee),Me=!1},d:function(ee){ee&&f(e),Vt(he,ee),pe&&pe.d(),ke(He),yn=!1,Ws(xn)}};return se("SvelteRegisterBlock",{block:es,id:Ps.name,type:"slot",source:'(234:8) <Card variant=\\"default\\" padding=\\"lg\\">',ctx:o}),es}function jn(o){let e,n,c,d;c=new Oe({props:{variant:"default",padding:"xl",$$slots:{default:[Ts]},$$scope:{ctx:o}},$$inline:!0});const l={c:function(){e=h("div"),n=h("div"),Se(c.$$.fragment),this.h()},l:function(a){e=v(a,"DIV",{class:!0});var _=y(e);n=v(_,"DIV",{class:!0});var m=y(n);De(c.$$.fragment,m),m.forEach(f),_.forEach(f),this.h()},h:function(){i(n,"class","base-selection-modal svelte-15my86"),r(n,u,524,6,18009),i(e,"class","base-selection-modal-overlay svelte-15my86"),r(e,u,523,4,17960)},m:function(a,_){J(a,e,_),t(e,n),Ee(c,n,null),d=!0},p:function(a,_){const m={};_[0]&143488|_[1]&65536&&(m.$$scope={dirty:_,ctx:a}),c.$set(m)},i:function(a){d||(ve(c.$$.fragment,a),d=!0)},o:function(a){_e(c.$$.fragment,a),d=!1},d:function(a){a&&f(e),ke(c)}};return se("SvelteRegisterBlock",{block:l,id:jn.name,type:"if",source:"(523:2) {#if showBaseSelection}",ctx:o}),l}function qs(o){let e,n="音域測定データがありません。標準的な基音から選択してください";const c={c:function(){e=h("p"),e.textContent=n,this.h()},l:function(l){e=v(l,"P",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-p643vm"&&(e.textContent=n),this.h()},h:function(){i(e,"class","vocal-range-info svelte-15my86"),r(e,u,534,14,18411)},m:function(l,s){J(l,e,s)},p:ps,d:function(l){l&&f(e)}};return se("SvelteRegisterBlock",{block:c,id:qs.name,type:"else",source:"(534:12) {:else}",ctx:o}),c}function js(o){let e,n,c,d=o[13].range+"",l,s,a;const _={c:function(){e=h("p"),n=R("あなたの音域: "),c=h("strong"),l=R(d),s=h("br"),a=R(`
                以下は歌いやすい基音です`),this.h()},l:function(C){e=v(C,"P",{class:!0});var b=y(e);n=N(b,"あなたの音域: "),c=v(b,"STRONG",{});var I=y(c);l=N(I,d),I.forEach(f),s=v(b,"BR",{}),a=N(b,`
                以下は歌いやすい基音です`),b.forEach(f),this.h()},h:function(){r(c,u,530,24,18289),r(s,u,530,59,18324),i(e,"class","vocal-range-info svelte-15my86"),r(e,u,529,14,18236)},m:function(C,b){J(C,e,b),t(e,n),t(e,c),t(c,l),t(e,s),t(e,a)},p:function(C,b){b[0]&8192&&d!==(d=C[13].range+"")&&ne(l,d)},d:function(C){C&&f(e)}};return se("SvelteRegisterBlock",{block:_,id:js.name,type:"if",source:"(529:12) {#if vocalRange}",ctx:o}),_}function Tn(o){let e,n,c,d=o[38].japanese+"",l,s,a,_,m=o[38].note+"",C,b,I,E,g=o[38].frequency.toFixed(1)+"",p,S,k,q,w,H;function z(){return o[28](o[38])}const P={c:function(){e=h("button"),n=h("div"),c=h("span"),l=R(d),s=B(),a=h("span"),_=R("("),C=R(m),b=R(")"),I=B(),E=h("div"),p=R(g),S=R(" Hz"),k=B(),this.h()},l:function(j){e=v(j,"BUTTON",{class:!0});var X=y(e);n=v(X,"DIV",{class:!0});var M=y(n);c=v(M,"SPAN",{class:!0});var $=y(c);l=N($,d),$.forEach(f),s=V(M),a=v(M,"SPAN",{class:!0});var F=y(a);_=N(F,"("),C=N(F,m),b=N(F,")"),F.forEach(f),M.forEach(f),I=V(X),E=v(X,"DIV",{class:!0});var W=y(E);p=N(W,g),S=N(W," Hz"),W.forEach(f),k=V(X),X.forEach(f),this.h()},h:function(){i(c,"class","note-japanese svelte-15my86"),r(c,u,546,20,18897),i(a,"class","note-english svelte-15my86"),r(a,u,547,20,18972),i(n,"class","note-display svelte-15my86"),r(n,u,545,18,18850),i(E,"class","note-frequency svelte-15my86"),r(E,u,549,18,19067),i(e,"class",q="base-note-option "+(o[7]===o[38].note?"selected":"")+" svelte-15my86"),r(e,u,541,16,18647)},m:function(j,X){J(j,e,X),t(e,n),t(n,c),t(c,l),t(n,s),t(n,a),t(a,_),t(a,C),t(a,b),t(e,I),t(e,E),t(E,p),t(E,S),t(e,k),w||(H=St(e,"click",z,!1,!1,!1),w=!0)},p:function(j,X){o=j,X[0]&131072&&d!==(d=o[38].japanese+"")&&ne(l,d),X[0]&131072&&m!==(m=o[38].note+"")&&ne(C,m),X[0]&131072&&g!==(g=o[38].frequency.toFixed(1)+"")&&ne(p,g),X[0]&131200&&q!==(q="base-note-option "+(o[7]===o[38].note?"selected":"")+" svelte-15my86")&&i(e,"class",q)},d:function(j){j&&f(e),w=!1,H()}};return se("SvelteRegisterBlock",{block:P,id:Tn.name,type:"each",source:"(541:14) {#each availableBaseNotes as noteData}",ctx:o}),P}function Ts(o){let e,n,c="基音を選択",d,l,s,a,_,m,C="キャンセル",b,I;function E(w,H){return w[13]?js:qs}let g=E(o),p=g(o),S=Ne(o[17]),k=[];for(let w=0;w<S.length;w+=1)k[w]=Tn(ds(o,S,w));const q={c:function(){e=h("div"),n=h("h2"),n.textContent=c,d=B(),p.c(),l=B(),s=h("div");for(let H=0;H<k.length;H+=1)k[H].c();a=B(),_=h("div"),m=h("button"),m.textContent=C,this.h()},l:function(H){e=v(H,"DIV",{class:!0});var z=y(e);n=v(z,"H2",{class:!0,"data-svelte-h":!0}),U(n)!=="svelte-1goib6j"&&(n.textContent=c),d=V(z),p.l(z),l=V(z),s=v(z,"DIV",{class:!0});var P=y(s);for(let j=0;j<k.length;j+=1)k[j].l(P);P.forEach(f),a=V(z),_=v(z,"DIV",{class:!0});var O=y(_);m=v(O,"BUTTON",{class:!0,"data-svelte-h":!0}),U(m)!=="svelte-144tgxs"&&(m.textContent=C),O.forEach(f),z.forEach(f),this.h()},h:function(){i(n,"class","base-selection-title svelte-15my86"),r(n,u,527,12,18149),i(s,"class","base-note-grid svelte-15my86"),r(s,u,539,12,18549),i(m,"class","modal-cancel svelte-15my86"),r(m,u,555,14,19270),i(_,"class","modal-actions svelte-15my86"),r(_,u,554,12,19228),i(e,"class","base-selection-content svelte-15my86"),r(e,u,526,10,18100)},m:function(H,z){J(H,e,z),t(e,n),t(e,d),p.m(e,null),t(e,l),t(e,s);for(let P=0;P<k.length;P+=1)k[P]&&k[P].m(s,null);t(e,a),t(e,_),t(_,m),b||(I=St(m,"click",o[29],!1,!1,!1),b=!0)},p:function(H,z){if(g===(g=E(H))&&p?p.p(H,z):(p.d(1),p=g(H),p&&(p.c(),p.m(e,l))),z[0]&2228352){S=Ne(H[17]);let P;for(P=0;P<S.length;P+=1){const O=ds(H,S,P);k[P]?k[P].p(O,z):(k[P]=Tn(O),k[P].c(),k[P].m(s,null))}for(;P<k.length;P+=1)k[P].d(1);k.length=S.length}},d:function(H){H&&f(e),p.d(),Vt(k,H),b=!1,I()}};return se("SvelteRegisterBlock",{block:q,id:Ts.name,type:"slot",source:'(526:8) <Card variant=\\"default\\" padding=\\"xl\\">',ctx:o}),q}function As(o){let e,n,c,d,l,s,a,_,m,C,b="12音階モード（クロマチック）",I,E,g="基音を聞いて半音階12音すべてを相対音程で歌うトレーニング",p,S,k,q,w,H;const z=[ks,bs,Cs,ys],P=[];function O(M,$){return!M[4]&&!M[5]&&!M[9]?0:M[4]?1:M[5]?2:M[9]?3:-1}~(S=O(o))&&(k=P[S]=z[S](o));let j=o[12]&&jn(o);const X={c:function(){e=h("div"),n=h("div"),c=h("div"),d=h("div"),l=Be("svg"),s=Be("path"),a=Be("path"),_=B(),m=h("div"),C=h("h1"),C.textContent=b,I=B(),E=h("p"),E.textContent=g,p=B(),k&&k.c(),q=B(),j&&j.c(),w=Lt(),this.h()},l:function($){e=v($,"DIV",{class:!0});var F=y(e);n=v(F,"DIV",{class:!0});var W=y(n);c=v(W,"DIV",{class:!0});var G=y(c);d=v(G,"DIV",{class:!0});var oe=y(d);l=Ve(oe,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0});var Y=y(l);s=Ve(Y,"path",{d:!0}),y(s).forEach(f),a=Ve(Y,"path",{d:!0}),y(a).forEach(f),Y.forEach(f),oe.forEach(f),_=V(G),m=v(G,"DIV",{});var ce=y(m);C=v(ce,"H1",{class:!0,"data-svelte-h":!0}),U(C)!=="svelte-t4p1tm"&&(C.textContent=b),I=V(ce),E=v(ce,"P",{class:!0,"data-svelte-h":!0}),U(E)!=="svelte-vr0zl8"&&(E.textContent=g),ce.forEach(f),G.forEach(f),W.forEach(f),p=V(F),k&&k.l(F),F.forEach(f),q=V($),j&&j.l($),w=Lt(),this.h()},h:function(){i(s,"d","M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"),r(s,u,219,12,6256),i(a,"d","M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"),r(a,u,220,12,6318),i(l,"width","32"),i(l,"height","32"),i(l,"viewBox","0 0 24 24"),i(l,"fill","none"),i(l,"stroke","currentColor"),i(l,"stroke-width","2"),r(l,u,218,10,6144),i(d,"class","mode-icon svelte-15my86"),r(d,u,217,8,6110),i(C,"class","mode-title svelte-15my86"),r(C,u,224,10,6425),i(E,"class","mode-description svelte-15my86"),r(E,u,225,10,6479),r(m,u,223,8,6409),i(c,"class","mode-header svelte-15my86"),r(c,u,216,6,6076),i(n,"class","header svelte-15my86"),r(n,u,215,4,6049),i(e,"class","chromatic-training svelte-15my86"),r(e,u,213,2,5994)},m:function($,F){J($,e,F),t(e,n),t(n,c),t(c,d),t(d,l),t(l,s),t(l,a),t(c,_),t(c,m),t(m,C),t(m,I),t(m,E),t(e,p),~S&&P[S].m(e,null),J($,q,F),j&&j.m($,F),J($,w,F),H=!0},p:function($,F){let W=S;S=O($),S===W?~S&&P[S].p($,F):(k&&(cs(),_e(P[W],1,1,()=>{P[W]=null}),is()),~S?(k=P[S],k?k.p($,F):(k=P[S]=z[S]($),k.c()),ve(k,1),k.m(e,null)):k=null),$[12]?j?(j.p($,F),F[0]&4096&&ve(j,1)):(j=jn($),j.c(),ve(j,1),j.m(w.parentNode,w)):j&&(cs(),_e(j,1,1,()=>{j=null}),is())},i:function($){H||(ve(k),ve(j),H=!0)},o:function($){_e(k),_e(j),H=!1},d:function($){$&&(f(e),f(q),f(w)),~S&&P[S].d(),j&&j.d($)}};return se("SvelteRegisterBlock",{block:X,id:As.name,type:"slot",source:"(213:0) <PageLayout showBackButton={true}>",ctx:o}),X}function An(o){let e,n,c;n=new gs({props:{showBackButton:!0,$$slots:{default:[As]},$$scope:{ctx:o}},$$inline:!0});const d={c:function(){e=B(),Se(n.$$.fragment),this.h()},l:function(s){Fs("svelte-1umep2t",document.head).forEach(f),e=V(s),De(n.$$.fragment,s),this.h()},h:function(){document.title="12音階モード（クロマチック） - 相対音感トレーニング"},m:function(s,a){J(s,e,a),Ee(n,s,a),c=!0},p:function(s,a){const _={};a[0]&262143|a[1]&65536&&(_.$$scope={dirty:a,ctx:s}),n.$set(_)},i:function(s){c||(ve(n.$$.fragment,s),c=!0)},o:function(s){_e(n.$$.fragment,s),c=!1},d:function(s){s&&f(e),ke(n,s)}};return se("SvelteRegisterBlock",{block:d,id:An.name,type:"component",source:"",ctx:o}),d}function Ks(o,e,n){let c,d,l,s,a,{$$slots:_={},$$scope:m}=e;Os("Page",_,[]);let C="ascending",b=!1,I=!1,E="C4",g="C4",p=0,S=[],k=!1,q=0,w=0,H="",z=!1,P=null,O=!1;const j=["ド","ド#","レ","レ#","ミ","ファ","ファ#","ソ","ソ#","ラ","ラ#","シ"],X=["シ","ラ#","ラ","ソ#","ソ","ファ#","ファ","ミ","レ#","レ","ド#","ド"],M=[{note:"C3",japanese:"ド3",frequency:130.81},{note:"D3",japanese:"レ3",frequency:146.83},{note:"E3",japanese:"ミ3",frequency:164.81},{note:"F3",japanese:"ファ3",frequency:174.61},{note:"G3",japanese:"ソ3",frequency:196},{note:"A3",japanese:"ラ3",frequency:220},{note:"B3",japanese:"シ3",frequency:246.94},{note:"C4",japanese:"ド4",frequency:261.63},{note:"D4",japanese:"レ4",frequency:293.66},{note:"E4",japanese:"ミ4",frequency:329.63},{note:"F4",japanese:"ファ4",frequency:349.23},{note:"G4",japanese:"ソ4",frequency:392},{note:"A4",japanese:"ラ4",frequency:440},{note:"B4",japanese:"シ4",frequency:493.88},{note:"C5",japanese:"ド5",frequency:523.25}];as(()=>{$(),F()});function $(){if(typeof localStorage<"u"){if(O=localStorage.getItem("mic-test-completed")==="true",!O){console.log("マイクテスト未完了 - マイクテストページに誘導"),us(`${fs}/microphone-test?mode=chromatic`);return}console.log("✅ マイクテスト完了済み - 12音階モード開始可能")}}function F(){if(typeof localStorage<"u"){const D=localStorage.getItem("vocal-range");if(D)try{n(13,P=JSON.parse(D)),console.log("音域データ読み込み:",P)}catch(L){console.error("音域データ解析エラー:",L),n(13,P=null)}}}function W(){if(!P)return M.filter(fe=>fe.frequency>=200&&fe.frequency<=400);const D=P.lowestFrequency,L=P.highestFrequency,ie=D*1.2,ge=L*.8;return M.filter(fe=>fe.frequency>=ie&&fe.frequency<=ge)}function G(){n(12,z=!0)}function oe(D){n(7,g=D.note),n(6,E=D.note),n(12,z=!1),console.log("基音選択:",D)}function Y(){n(8,p=0),n(1,S=[]),n(9,k=!1),ce(g)}function ce(D){n(4,b=!0),n(6,E=D),console.log(`基音再生: ${D} (${C==="ascending"?"上行":"下行"})`),setTimeout(()=>{n(4,b=!1),le()},3e3)}function le(){n(5,I=!0);const D=setInterval(()=>{if(!I){clearInterval(D);return}n(2,q=Math.random()*100);const L=[261.63,277.18,293.66,311.13,329.63,349.23,369.99,392,415.3,440,466.16,493.88];if(n(10,w=L[Math.floor(Math.random()*L.length)]),n(11,H=c[Math.floor(Math.random()*c.length)]),Math.random()>.6){const ie=Math.random()>.4;n(1,S[p]=ie,S),n(8,p++,p),p>=12&&re()}},600)}function re(){n(5,I=!1),n(9,k=!0)}function x(){n(0,C=C==="ascending"?"descending":"ascending")}const Z=[];Object.keys(e).forEach(D=>{!~Z.indexOf(D)&&D.slice(0,2)!=="$$"&&D!=="slot"&&Js.warn(`<Page> was created with unknown prop '${D}'`)});const ae=D=>D.note===g,K=()=>n(0,C="ascending"),T=()=>n(0,C="descending"),A=D=>D.note===g,Q=D=>oe(D),ue=()=>n(12,z=!1);return o.$capture_state=()=>({onMount:as,Card:Oe,Button:It,PageLayout:gs,goto:us,base:fs,direction:C,isPlaying:b,isDetecting:I,currentBaseNote:E,selectedBaseNote:g,currentScaleIndex:p,scaleResults:S,showResults:k,currentVolume:q,currentFrequency:w,currentNote:H,showBaseSelection:z,vocalRange:P,micTestCompleted:O,chromaticNotesAsc:j,chromaticNotesDesc:X,baseNoteOptions:M,checkMicrophoneTestStatus:$,loadVocalRangeData:F,getAvailableBaseNotes:W,showBaseNoteSelection:G,selectBaseNote:oe,startTraining:Y,playBaseNote:ce,startDetection:le,finishTraining:re,switchDirection:x,correctCount:s,score:a,volumeWidth:l,currentScale:c,availableBaseNotes:d}),o.$inject_state=D=>{"direction"in D&&n(0,C=D.direction),"isPlaying"in D&&n(4,b=D.isPlaying),"isDetecting"in D&&n(5,I=D.isDetecting),"currentBaseNote"in D&&n(6,E=D.currentBaseNote),"selectedBaseNote"in D&&n(7,g=D.selectedBaseNote),"currentScaleIndex"in D&&n(8,p=D.currentScaleIndex),"scaleResults"in D&&n(1,S=D.scaleResults),"showResults"in D&&n(9,k=D.showResults),"currentVolume"in D&&n(2,q=D.currentVolume),"currentFrequency"in D&&n(10,w=D.currentFrequency),"currentNote"in D&&n(11,H=D.currentNote),"showBaseSelection"in D&&n(12,z=D.showBaseSelection),"vocalRange"in D&&n(13,P=D.vocalRange),"micTestCompleted"in D&&(O=D.micTestCompleted),"correctCount"in D&&n(3,s=D.correctCount),"score"in D&&n(14,a=D.score),"volumeWidth"in D&&n(15,l=D.volumeWidth),"currentScale"in D&&n(16,c=D.currentScale),"availableBaseNotes"in D&&n(17,d=D.availableBaseNotes)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),o.$$.update=()=>{o.$$.dirty[0]&1&&n(16,c=C==="ascending"?j:X),o.$$.dirty[0]&4&&n(15,l=Math.max(0,Math.min(100,q))),o.$$.dirty[0]&2&&n(3,s=S.filter(D=>D).length),o.$$.dirty[0]&8&&n(14,a=Math.round(s/12*100))},n(17,d=W()),[C,S,q,s,b,I,E,g,p,k,w,H,z,P,a,l,c,d,j,M,G,oe,Y,x,ae,K,T,A,Q,ue]}class tl extends Hs{constructor(e){super(e),Ms(this,e,Ks,An,zs,{},null,[-1,-1]),se("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:An.name})}}export{tl as component,el as universal};
