import{S as $n,i as Nn,d as ee,s as Rn,a as qn,H as xt,b as u,q as me,r as ve,u as he,f as K,w as pe,I as Pn,m as V,x as we,p as $,y as be,K as en,L as tn,g as n,z as i,h as f,j as g,k as w,B as ke,A as X,N as ht,o as m,C as Ce,Q as We,R as jn,e as te,O as Ze,l as j,t as A,T as vt,M as nn,U as Ye,n as An}from"../chunks/Be0szi1F.js";import{g as Tn}from"../chunks/D0QH3NT1.js";import"../chunks/CzYZU643.js";import{P as un,B as xe,C as Ve}from"../chunks/iHfyItqC.js";import{g as sn,b as ln}from"../chunks/CGE1Ttke.js";const Hn=!1,Mn=!1,Jn=Object.freeze(Object.defineProperty({__proto__:null,prerender:Mn,ssr:Hn},Symbol.toStringTag,{value:"Module"})),{console:zn}=Tn,d="src/routes/training/chromatic/+page.svelte";function on(o,e,t){const c=o.slice();return c[37]=e[t],c}function an(o,e,t){const c=o.slice();return c[40]=e[t],c[42]=t,c}function cn(o,e,t){const c=o.slice();return c[40]=e[t],c[42]=t,c}function rn(o,e,t){const c=o.slice();return c[40]=e[t],c[42]=t,c}function fn(o){let e,t,c;t=new Ve({props:{variant:"default",padding:"lg",$$slots:{default:[pn]},$$scope:{ctx:o}},$$inline:!0});const r={c:function(){e=m("div"),be(t.$$.fragment),this.h()},l:function(s){e=g(s,"DIV",{class:!0});var a=w(e);we(t.$$.fragment,a),a.forEach(u),this.h()},h:function(){i(e,"class","results-screen"),f(e,d,443,6,14718)},m:function(s,a){K(s,e,a),pe(t,e,null),c=!0},p:function(s,a){const v={};a[0]&81931|a[1]&16384&&(v.$$scope={dirty:a,ctx:s}),t.$set(v)},i:function(s){c||(he(t.$$.fragment,s),c=!0)},o:function(s){ve(t.$$.fragment,s),c=!1},d:function(s){s&&u(e),me(t)}};return ee("SvelteRegisterBlock",{block:r,id:fn.name,type:"if",source:"(442:26) ",ctx:o}),r}function dn(o){let e,t,c,r,l,s,a,v,h,b,k;t=new Ve({props:{variant:"default",padding:"lg",$$slots:{default:[wn]},$$scope:{ctx:o}},$$inline:!0}),s=new Ve({props:{variant:"default",padding:"md",$$slots:{default:[bn]},$$scope:{ctx:o}},$$inline:!0}),v=new Ve({props:{variant:"default",padding:"md",$$slots:{default:[kn]},$$scope:{ctx:o}},$$inline:!0}),b=new Ve({props:{variant:"default",padding:"md",$$slots:{default:[Cn]},$$scope:{ctx:o}},$$inline:!0});const D={c:function(){e=m("div"),be(t.$$.fragment),c=$(),r=m("div"),l=m("div"),be(s.$$.fragment),a=$(),be(v.$$.fragment),h=$(),be(b.$$.fragment),this.h()},l:function(p){e=g(p,"DIV",{class:!0});var _=w(e);we(t.$$.fragment,_),c=V(_),r=g(_,"DIV",{class:!0});var E=w(r);l=g(E,"DIV",{class:!0});var y=w(l);we(s.$$.fragment,y),a=V(y),we(v.$$.fragment,y),y.forEach(u),E.forEach(u),h=V(_),we(b.$$.fragment,_),_.forEach(u),this.h()},h:function(){i(l,"class","display-grid svelte-11wn9hu"),f(l,d,400,10,13111),i(r,"class","realtime-display svelte-11wn9hu"),f(r,d,399,8,13070),i(e,"class","detection-screen"),f(e,d,373,6,12010)},m:function(p,_){K(p,e,_),pe(t,e,null),n(e,c),n(e,r),n(r,l),pe(s,l,null),n(l,a),pe(v,l,null),n(e,h),pe(b,e,null),k=!0},p:function(p,_){const E={};_[0]&65795|_[1]&16384&&(E.$$scope={dirty:_,ctx:p}),t.$set(E);const y={};_[0]&32772|_[1]&16384&&(y.$$scope={dirty:_,ctx:p}),s.$set(y);const R={};_[0]&3072|_[1]&16384&&(R.$$scope={dirty:_,ctx:p}),v.$set(R);const I={};_[0]&65801|_[1]&16384&&(I.$$scope={dirty:_,ctx:p}),b.$set(I)},i:function(p){k||(he(t.$$.fragment,p),he(s.$$.fragment,p),he(v.$$.fragment,p),he(b.$$.fragment,p),k=!0)},o:function(p){ve(t.$$.fragment,p),ve(s.$$.fragment,p),ve(v.$$.fragment,p),ve(b.$$.fragment,p),k=!1},d:function(p){p&&u(e),me(t),me(s),me(v),me(b)}};return ee("SvelteRegisterBlock",{block:D,id:dn.name,type:"if",source:"(372:26) ",ctx:o}),D}function hn(o){let e,t,c;t=new Ve({props:{variant:"tertiary",padding:"lg",$$slots:{default:[yn]},$$scope:{ctx:o}},$$inline:!0});const r={c:function(){e=m("div"),be(t.$$.fragment),this.h()},l:function(s){e=g(s,"DIV",{class:!0});var a=w(e);we(t.$$.fragment,a),a.forEach(u),this.h()},h:function(){i(e,"class","playing-screen"),f(e,d,328,6,10317)},m:function(s,a){K(s,e,a),pe(t,e,null),c=!0},p:function(s,a){const v={};a[0]&65601|a[1]&16384&&(v.$$scope={dirty:a,ctx:s}),t.$set(v)},i:function(s){c||(he(t.$$.fragment,s),c=!0)},o:function(s){ve(t.$$.fragment,s),c=!1},d:function(s){s&&u(e),me(t)}};return ee("SvelteRegisterBlock",{block:r,id:hn.name,type:"if",source:"(327:24) ",ctx:o}),r}function vn(o){let e,t,c;t=new Ve({props:{variant:"default",padding:"lg",$$slots:{default:[Dn]},$$scope:{ctx:o}},$$inline:!0});const r={c:function(){e=m("div"),be(t.$$.fragment),this.h()},l:function(s){e=g(s,"DIV",{class:!0});var a=w(e);we(t.$$.fragment,a),a.forEach(u),this.h()},h:function(){i(e,"class","start-screen"),f(e,d,232,6,6636)},m:function(s,a){K(s,e,a),pe(t,e,null),c=!0},p:function(s,a){const v={};a[0]&8321|a[1]&16384&&(v.$$scope={dirty:a,ctx:s}),t.$set(v)},i:function(s){c||(he(t.$$.fragment,s),c=!0)},o:function(s){ve(t.$$.fragment,s),c=!1},d:function(s){s&&u(e),me(t)}};return ee("SvelteRegisterBlock",{block:r,id:vn.name,type:"if",source:"(231:4) {#if !isPlaying && !isDetecting && !showResults}",ctx:o}),r}function Bt(o){let e,t,c=o[40]+"",r,l,s,a,v=o[42]+1+"",h,b,k,D=o[1][o[42]]?"✓":"×",C,p,_;const E={c:function(){e=m("div"),t=m("span"),r=A(c),l=$(),s=m("span"),a=A("#"),h=A(v),b=$(),k=m("span"),C=A(D),_=$(),this.h()},l:function(R){e=g(R,"DIV",{class:!0});var I=w(e);t=g(I,"SPAN",{class:!0});var q=w(t);r=j(q,c),q.forEach(u),l=V(I),s=g(I,"SPAN",{class:!0});var M=w(s);a=j(M,"#"),h=j(M,v),M.forEach(u),b=V(I),k=g(I,"SPAN",{class:!0});var N=w(k);C=j(N,D),N.forEach(u),_=V(I),I.forEach(u),this.h()},h:function(){i(t,"class","chromatic-note-name svelte-11wn9hu"),f(t,d,468,20,15672),i(s,"class","chromatic-note-number svelte-11wn9hu"),f(s,d,469,20,15740),i(k,"class",p="chromatic-result-icon "+(o[1][o[42]]?"correct":"incorrect")+" svelte-11wn9hu"),f(k,d,470,20,15816),i(e,"class","chromatic-result svelte-11wn9hu"),f(e,d,467,18,15621)},m:function(R,I){K(R,e,I),n(e,t),n(t,r),n(e,l),n(e,s),n(s,a),n(s,h),n(e,b),n(e,k),n(k,C),n(e,_)},p:function(R,I){I[0]&65536&&c!==(c=R[40]+"")&&te(r,c),I[0]&2&&D!==(D=R[1][R[42]]?"✓":"×")&&te(C,D),I[0]&2&&p!==(p="chromatic-result-icon "+(R[1][R[42]]?"correct":"incorrect")+" svelte-11wn9hu")&&i(k,"class",p)},d:function(R){R&&u(e)}};return ee("SvelteRegisterBlock",{block:E,id:Bt.name,type:"each",source:"(467:16) {#each currentScale as note, index}",ctx:o}),E}function _n(o){let e;const t={c:function(){e=A("同じ方向でもう一度")},l:function(r){e=j(r,"同じ方向でもう一度")},m:function(r,l){K(r,e,l)},d:function(r){r&&u(e)}};return ee("SvelteRegisterBlock",{block:t,id:_n.name,type:"slot",source:'(481:14) <Button variant=\\"tertiary\\" size=\\"lg\\" fullWidth on:click={startTraining}>',ctx:o}),t}function gn(o){let e=o[0]==="ascending"?"下行":"上行",t,c;const r={c:function(){t=A(e),c=A("に切り替え")},l:function(s){t=j(s,e),c=j(s,"に切り替え")},m:function(s,a){K(s,t,a),K(s,c,a)},p:function(s,a){a[0]&1&&e!==(e=s[0]==="ascending"?"下行":"上行")&&te(t,e)},d:function(s){s&&(u(t),u(c))}};return ee("SvelteRegisterBlock",{block:r,id:gn.name,type:"slot",source:'(484:14) <Button variant=\\"secondary\\" size=\\"md\\" fullWidth on:click={switchDirection}>',ctx:o}),r}function mn(o){let e;const t={c:function(){e=A("結果を保存")},l:function(r){e=j(r,"結果を保存")},m:function(r,l){K(r,e,l)},d:function(r){r&&u(e)}};return ee("SvelteRegisterBlock",{block:t,id:mn.name,type:"slot",source:'(487:14) <Button variant=\\"secondary\\" size=\\"md\\" fullWidth>',ctx:o}),t}function pn(o){let e,t,c="12音階トレーニング結果",r,l,s,a,v,h,b,k="点",D,C,p=o[0]==="ascending"?"上行":"下行",_,E,y,R,I,q,M,N,z,P,Y="音階別結果",O,B,H,U,W,ne,L,ce,se,le,Z=We(o[16]),oe=[];for(let G=0;G<Z.length;G+=1)oe[G]=Bt(an(o,Z,G));W=new xe({props:{variant:"tertiary",size:"lg",fullWidth:!0,$$slots:{default:[_n]},$$scope:{ctx:o}},$$inline:!0}),W.$on("click",o[21]),L=new xe({props:{variant:"secondary",size:"md",fullWidth:!0,$$slots:{default:[gn]},$$scope:{ctx:o}},$$inline:!0}),L.$on("click",o[22]),se=new xe({props:{variant:"secondary",size:"md",fullWidth:!0,$$slots:{default:[mn]},$$scope:{ctx:o}},$$inline:!0});const ae={c:function(){e=m("div"),t=m("h2"),t.textContent=c,r=$(),l=m("div"),s=m("div"),a=m("span"),v=A(o[14]),h=$(),b=m("span"),b.textContent=k,D=$(),C=m("p"),_=A(p),E=A("クロマチック"),y=$(),R=m("p"),I=A("12音階中 "),q=A(o[3]),M=A("音階 正解"),N=$(),z=m("div"),P=m("h3"),P.textContent=Y,O=$(),B=m("div");for(let T=0;T<oe.length;T+=1)oe[T].c();H=$(),U=m("div"),be(W.$$.fragment),ne=$(),be(L.$$.fragment),ce=$(),be(se.$$.fragment),this.h()},l:function(T){e=g(T,"DIV",{class:!0});var F=w(e);t=g(F,"H2",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-1001odc"&&(t.textContent=c),r=V(F),l=g(F,"DIV",{class:!0});var J=w(l);s=g(J,"DIV",{class:!0});var S=w(s);a=g(S,"SPAN",{class:!0});var x=w(a);v=j(x,o[14]),x.forEach(u),h=V(S),b=g(S,"SPAN",{class:!0,"data-svelte-h":!0}),X(b)!=="svelte-yaz7vv"&&(b.textContent=k),S.forEach(u),D=V(J),C=g(J,"P",{class:!0});var Q=w(C);_=j(Q,p),E=j(Q,"クロマチック"),Q.forEach(u),y=V(J),R=g(J,"P",{class:!0});var re=w(R);I=j(re,"12音階中 "),q=j(re,o[3]),M=j(re,"音階 正解"),re.forEach(u),J.forEach(u),N=V(F),z=g(F,"DIV",{class:!0});var ue=w(z);P=g(ue,"H3",{class:!0,"data-svelte-h":!0}),X(P)!=="svelte-140f1nw"&&(P.textContent=Y),O=V(ue),B=g(ue,"DIV",{class:!0});var ge=w(B);for(let Ee=0;Ee<oe.length;Ee+=1)oe[Ee].l(ge);ge.forEach(u),ue.forEach(u),H=V(F),U=g(F,"DIV",{class:!0});var de=w(U);we(W.$$.fragment,de),ne=V(de),we(L.$$.fragment,de),ce=V(de),we(se.$$.fragment,de),de.forEach(u),F.forEach(u),this.h()},h:function(){i(t,"class","results-title svelte-11wn9hu"),f(t,d,446,12,14845),i(a,"class","score-value svelte-11wn9hu"),f(a,d,451,16,15026),i(b,"class","score-unit svelte-11wn9hu"),f(b,d,452,16,15083),i(s,"class","score-circle svelte-11wn9hu"),f(s,d,450,14,14983),i(C,"class","score-description svelte-11wn9hu"),f(C,d,454,14,15152),i(R,"class","score-stats svelte-11wn9hu"),f(R,d,457,14,15279),i(l,"class","score-display svelte-11wn9hu"),f(l,d,449,12,14941),i(P,"class","details-title svelte-11wn9hu"),f(P,d,464,14,15468),i(B,"class","chromatic-results svelte-11wn9hu"),f(B,d,465,14,15519),i(z,"class","detailed-results"),f(z,d,463,12,15423),i(U,"class","action-buttons svelte-11wn9hu"),f(U,d,479,12,16117),i(e,"class","results-content svelte-11wn9hu"),f(e,d,445,10,14803)},m:function(T,F){K(T,e,F),n(e,t),n(e,r),n(e,l),n(l,s),n(s,a),n(a,v),n(s,h),n(s,b),n(l,D),n(l,C),n(C,_),n(C,E),n(l,y),n(l,R),n(R,I),n(R,q),n(R,M),n(e,N),n(e,z),n(z,P),n(z,O),n(z,B);for(let J=0;J<oe.length;J+=1)oe[J]&&oe[J].m(B,null);n(e,H),n(e,U),pe(W,U,null),n(U,ne),pe(L,U,null),n(U,ce),pe(se,U,null),le=!0},p:function(T,F){if((!le||F[0]&16384)&&te(v,T[14]),(!le||F[0]&1)&&p!==(p=T[0]==="ascending"?"上行":"下行")&&te(_,p),(!le||F[0]&8)&&te(q,T[3]),F[0]&65538){Z=We(T[16]);let Q;for(Q=0;Q<Z.length;Q+=1){const re=an(T,Z,Q);oe[Q]?oe[Q].p(re,F):(oe[Q]=Bt(re),oe[Q].c(),oe[Q].m(B,null))}for(;Q<oe.length;Q+=1)oe[Q].d(1);oe.length=Z.length}const J={};F[1]&16384&&(J.$$scope={dirty:F,ctx:T}),W.$set(J);const S={};F[0]&1|F[1]&16384&&(S.$$scope={dirty:F,ctx:T}),L.$set(S);const x={};F[1]&16384&&(x.$$scope={dirty:F,ctx:T}),se.$set(x)},i:function(T){le||(he(W.$$.fragment,T),he(L.$$.fragment,T),he(se.$$.fragment,T),le=!0)},o:function(T){ve(W.$$.fragment,T),ve(L.$$.fragment,T),ve(se.$$.fragment,T),le=!1},d:function(T){T&&u(e),vt(oe,T),me(W),me(L),me(se)}};return ee("SvelteRegisterBlock",{block:ae,id:pn.name,type:"slot",source:'(445:8) <Card variant=\\"default\\" padding=\\"lg\\">',ctx:o}),ae}function Vt(o){let e,t=o[1][o[42]]?"✓":"×",c,r;const l={c:function(){e=m("span"),c=A(t),this.h()},l:function(a){e=g(a,"SPAN",{class:!0});var v=w(e);c=j(v,t),v.forEach(u),this.h()},h:function(){i(e,"class",r="result-icon "+(o[1][o[42]]?"correct":"incorrect")+" svelte-11wn9hu"),f(e,d,388,20,12755)},m:function(a,v){K(a,e,v),n(e,c)},p:function(a,v){v[0]&2&&t!==(t=a[1][a[42]]?"✓":"×")&&te(c,t),v[0]&2&&r!==(r="result-icon "+(a[1][a[42]]?"correct":"incorrect")+" svelte-11wn9hu")&&i(e,"class",r)},d:function(a){a&&u(e)}};return ee("SvelteRegisterBlock",{block:l,id:Vt.name,type:"if",source:"(388:18) {#if scaleResults[index] !== undefined}",ctx:o}),l}function $t(o){let e,t,c=o[40]+"",r,l,s,a=o[42]+1+"",v,h,b,k=o[1][o[42]]!==void 0&&Vt(o);const D={c:function(){e=m("div"),t=m("span"),r=A(c),l=$(),s=m("span"),v=A(a),h=$(),k&&k.c(),b=$(),this.h()},l:function(p){e=g(p,"DIV",{class:!0});var _=w(e);t=g(_,"SPAN",{class:!0});var E=w(t);r=j(E,c),E.forEach(u),l=V(_),s=g(_,"SPAN",{class:!0});var y=w(s);v=j(y,a),y.forEach(u),h=V(_),k&&k.l(_),b=V(_),_.forEach(u),this.h()},h:function(){i(t,"class","note-text svelte-11wn9hu"),f(t,d,385,18,12576),i(s,"class","note-number svelte-11wn9hu"),f(s,d,386,18,12632),i(e,"class","chromatic-note svelte-11wn9hu"),Ye(e,"active",o[42]===o[8]),Ye(e,"completed",o[1][o[42]]!==void 0),f(e,d,382,16,12390)},m:function(p,_){K(p,e,_),n(e,t),n(t,r),n(e,l),n(e,s),n(s,v),n(e,h),k&&k.m(e,null),n(e,b)},p:function(p,_){_[0]&65536&&c!==(c=p[40]+"")&&te(r,c),p[1][p[42]]!==void 0?k?k.p(p,_):(k=Vt(p),k.c(),k.m(e,b)):k&&(k.d(1),k=null),_[0]&256&&Ye(e,"active",p[42]===p[8]),_[0]&2&&Ye(e,"completed",p[1][p[42]]!==void 0)},d:function(p){p&&u(e),k&&k.d()}};return ee("SvelteRegisterBlock",{block:D,id:$t.name,type:"each",source:"(382:14) {#each currentScale as note, index}",ctx:o}),D}function wn(o){let e,t,c=o[0]==="ascending"?"上行":"下行",r,l,s,a,v=We(o[16]),h=[];for(let k=0;k<v.length;k+=1)h[k]=$t(cn(o,v,k));const b={c:function(){e=m("div"),t=m("h2"),r=A(c),l=A("クロマチックスケールを歌ってください"),s=$(),a=m("div");for(let D=0;D<h.length;D+=1)h[D].c();this.h()},l:function(D){e=g(D,"DIV",{class:!0});var C=w(e);t=g(C,"H2",{class:!0});var p=w(t);r=j(p,c),l=j(p,"クロマチックスケールを歌ってください"),p.forEach(u),s=V(C),a=g(C,"DIV",{class:!0});var _=w(a);for(let E=0;E<h.length;E+=1)h[E].l(_);_.forEach(u),C.forEach(u),this.h()},h:function(){i(t,"class","guide-title svelte-11wn9hu"),f(t,d,377,12,12165),i(a,"class","chromatic-guide svelte-11wn9hu"),f(a,d,380,12,12294),i(e,"class","guide-content svelte-11wn9hu"),f(e,d,376,10,12125)},m:function(D,C){K(D,e,C),n(e,t),n(t,r),n(t,l),n(e,s),n(e,a);for(let p=0;p<h.length;p+=1)h[p]&&h[p].m(a,null)},p:function(D,C){if(C[0]&1&&c!==(c=D[0]==="ascending"?"上行":"下行")&&te(r,c),C[0]&65794){v=We(D[16]);let p;for(p=0;p<v.length;p+=1){const _=cn(D,v,p);h[p]?h[p].p(_,C):(h[p]=$t(_),h[p].c(),h[p].m(a,null))}for(;p<h.length;p+=1)h[p].d(1);h.length=v.length}},d:function(D){D&&u(e),vt(h,D)}};return ee("SvelteRegisterBlock",{block:b,id:wn.name,type:"slot",source:'(376:8) <Card variant=\\"default\\" padding=\\"lg\\">',ctx:o}),b}function bn(o){let e,t,c="音量レベル",r,l,s,a,v,h,b=Math.round(o[2])+"",k,D;const C={c:function(){e=m("div"),t=m("h3"),t.textContent=c,r=$(),l=m("div"),s=m("div"),a=m("div"),v=$(),h=m("span"),k=A(b),D=A("%"),this.h()},l:function(_){e=g(_,"DIV",{class:!0});var E=w(e);t=g(E,"H3",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-1nc8gri"&&(t.textContent=c),r=V(E),l=g(E,"DIV",{class:!0});var y=w(l);s=g(y,"DIV",{class:!0});var R=w(s);a=g(R,"DIV",{class:!0,style:!0}),w(a).forEach(u),R.forEach(u),v=V(y),h=g(y,"SPAN",{class:!0});var I=w(h);k=j(I,b),D=j(I,"%"),I.forEach(u),y.forEach(u),E.forEach(u),this.h()},h:function(){i(t,"class","display-title svelte-11wn9hu"),f(t,d,404,16,13273),i(a,"class","volume-fill svelte-11wn9hu"),nn(a,"width",o[15]+"%"),f(a,d,407,20,13424),i(s,"class","volume-bar svelte-11wn9hu"),f(s,d,406,18,13379),i(h,"class","volume-text svelte-11wn9hu"),f(h,d,409,18,13529),i(l,"class","volume-bar-container svelte-11wn9hu"),f(l,d,405,16,13326),i(e,"class","volume-display"),f(e,d,403,14,13228)},m:function(_,E){K(_,e,E),n(e,t),n(e,r),n(e,l),n(l,s),n(s,a),n(l,v),n(l,h),n(h,k),n(h,D)},p:function(_,E){E[0]&32768&&nn(a,"width",_[15]+"%"),E[0]&4&&b!==(b=Math.round(_[2])+"")&&te(k,b)},d:function(_){_&&u(e)}};return ee("SvelteRegisterBlock",{block:C,id:bn.name,type:"slot",source:'(403:12) <Card variant=\\"default\\" padding=\\"md\\">',ctx:o}),C}function kn(o){let e,t,c="検出音程",r,l,s,a=o[10].toFixed(1)+"",v,h,b,k,D;const C={c:function(){e=m("div"),t=m("h3"),t.textContent=c,r=$(),l=m("div"),s=m("div"),v=A(a),h=A(" Hz"),b=$(),k=m("div"),D=A(o[11]),this.h()},l:function(_){e=g(_,"DIV",{class:!0});var E=w(e);t=g(E,"H3",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-tjj9b2"&&(t.textContent=c),r=V(E),l=g(E,"DIV",{class:!0});var y=w(l);s=g(y,"DIV",{class:!0});var R=w(s);v=j(R,a),h=j(R," Hz"),R.forEach(u),b=V(y),k=g(y,"DIV",{class:!0});var I=w(k);D=j(I,o[11]),I.forEach(u),y.forEach(u),E.forEach(u),this.h()},h:function(){i(t,"class","display-title svelte-11wn9hu"),f(t,d,417,16,13790),i(s,"class","frequency-value svelte-11wn9hu"),f(s,d,419,18,13885),i(k,"class","note-value svelte-11wn9hu"),f(k,d,420,18,13971),i(l,"class","pitch-info svelte-11wn9hu"),f(l,d,418,16,13842),i(e,"class","pitch-display"),f(e,d,416,14,13746)},m:function(_,E){K(_,e,E),n(e,t),n(e,r),n(e,l),n(l,s),n(s,v),n(s,h),n(l,b),n(l,k),n(k,D)},p:function(_,E){E[0]&1024&&a!==(a=_[10].toFixed(1)+"")&&te(v,a),E[0]&2048&&te(D,_[11])},d:function(_){_&&u(e)}};return ee("SvelteRegisterBlock",{block:C,id:kn.name,type:"slot",source:'(416:12) <Card variant=\\"default\\" padding=\\"md\\">',ctx:o}),C}function Cn(o){let e,t,c="進行状況",r,l,s,a,v=o[16][o[8]]+"",h,b,k=o[8]+1+"",D,C,p,_,E,y,R,I,q,M,N,z=o[0]==="ascending"?"上行 📈":"下行 📉",P;const Y={c:function(){e=m("div"),t=m("h3"),t.textContent=c,r=$(),l=m("div"),s=m("span"),a=A("現在: "),h=A(v),b=A(" ("),D=A(k),C=A("/12)"),p=$(),_=m("span"),E=A("正解: "),y=A(o[3]),R=A("/"),I=A(o[8]),q=$(),M=m("div"),N=A("方向: "),P=A(z),this.h()},l:function(B){e=g(B,"DIV",{class:!0});var H=w(e);t=g(H,"H3",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-v1qnd4"&&(t.textContent=c),r=V(H),l=g(H,"DIV",{class:!0});var U=w(l);s=g(U,"SPAN",{});var W=w(s);a=j(W,"現在: "),h=j(W,v),b=j(W," ("),D=j(W,k),C=j(W,"/12)"),W.forEach(u),p=V(U),_=g(U,"SPAN",{});var ne=w(_);E=j(ne,"正解: "),y=j(ne,o[3]),R=j(ne,"/"),I=j(ne,o[8]),ne.forEach(u),U.forEach(u),q=V(H),M=g(H,"DIV",{class:!0});var L=w(M);N=j(L,"方向: "),P=j(L,z),L.forEach(u),H.forEach(u),this.h()},h:function(){i(t,"class","progress-title svelte-11wn9hu"),f(t,d,430,12,14230),f(s,d,432,14,14324),f(_,d,433,14,14418),i(l,"class","progress-details svelte-11wn9hu"),f(l,d,431,12,14279),i(M,"class","progress-direction svelte-11wn9hu"),f(M,d,435,12,14501),i(e,"class","progress-info svelte-11wn9hu"),f(e,d,429,10,14190)},m:function(B,H){K(B,e,H),n(e,t),n(e,r),n(e,l),n(l,s),n(s,a),n(s,h),n(s,b),n(s,D),n(s,C),n(l,p),n(l,_),n(_,E),n(_,y),n(_,R),n(_,I),n(e,q),n(e,M),n(M,N),n(M,P)},p:function(B,H){H[0]&65792&&v!==(v=B[16][B[8]]+"")&&te(h,v),H[0]&256&&k!==(k=B[8]+1+"")&&te(D,k),H[0]&8&&te(y,B[3]),H[0]&256&&te(I,B[8]),H[0]&1&&z!==(z=B[0]==="ascending"?"上行 📈":"下行 📉")&&te(P,z)},d:function(B){B&&u(e)}};return ee("SvelteRegisterBlock",{block:Y,id:Cn.name,type:"slot",source:'(429:8) <Card variant=\\"default\\" padding=\\"md\\">',ctx:o}),Y}function Nt(o){let e,t="→";const c={c:function(){e=m("span"),e.textContent=t,this.h()},l:function(l){e=g(l,"SPAN",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1mixvsg"&&(e.textContent=t),this.h()},h:function(){i(e,"class","sequence-arrow svelte-11wn9hu"),f(e,d,357,20,11597)},m:function(l,s){K(l,e,s)},d:function(l){l&&u(e)}};return ee("SvelteRegisterBlock",{block:c,id:Nt.name,type:"if",source:"(357:18) {#if index < currentScale.length - 1}",ctx:o}),c}function Rt(o){let e,t=o[40]+"",c,r,l,s=o[42]<o[16].length-1&&Nt(o);const a={c:function(){e=m("span"),c=A(t),r=$(),s&&s.c(),l=ht(),this.h()},l:function(h){e=g(h,"SPAN",{class:!0});var b=w(e);c=j(b,t),b.forEach(u),r=V(h),s&&s.l(h),l=ht(),this.h()},h:function(){i(e,"class","sequence-note svelte-11wn9hu"),Ye(e,"first",o[42]===0),f(e,d,353,18,11413)},m:function(h,b){K(h,e,b),n(e,c),K(h,r,b),s&&s.m(h,b),K(h,l,b)},p:function(h,b){b[0]&65536&&t!==(t=h[40]+"")&&te(c,t),h[42]<h[16].length-1?s||(s=Nt(h),s.c(),s.m(l.parentNode,l)):s&&(s.d(1),s=null)},d:function(h){h&&(u(e),u(r),u(l)),s&&s.d(h)}};return ee("SvelteRegisterBlock",{block:a,id:Rt.name,type:"each",source:"(353:16) {#each currentScale as note, index}",ctx:o}),a}function yn(o){let e,t,c,r=o[0]==="ascending"?"📈 上行（Ascending）":"📉 下行（Descending）",l,s,a,v,h,b,k,D,C="基音再生中",p,_,E,y,R,I,q,M,N=o[0]==="ascending"?"上行":"下行",z,P,Y,O,B,H="歌唱する順序:",U,W,ne,L,ce,se,le=We(o[16]),Z=[];for(let ae=0;ae<le.length;ae+=1)Z[ae]=Rt(rn(o,le,ae));const oe={c:function(){e=m("div"),t=m("div"),c=m("span"),l=A(r),s=$(),a=m("div"),v=Ce("svg"),h=Ce("circle"),b=Ce("polygon"),k=$(),D=m("h2"),D.textContent=C,p=$(),_=m("p"),E=A("基音: "),y=A(o[6]),R=A("（ド4）"),I=$(),q=m("p"),M=A("この音を基準として、"),z=A(N),P=A("クロマチックスケールを歌います"),Y=$(),O=m("div"),B=m("h4"),B.textContent=H,U=$(),W=m("div");for(let G=0;G<Z.length;G+=1)Z[G].c();ne=$(),L=m("div"),ce=m("div"),se=m("div"),this.h()},l:function(G){e=g(G,"DIV",{class:!0});var T=w(e);t=g(T,"DIV",{class:!0});var F=w(t);c=g(F,"SPAN",{class:!0});var J=w(c);l=j(J,r),J.forEach(u),F.forEach(u),s=V(T),a=g(T,"DIV",{class:!0});var S=w(a);v=ke(S,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0});var x=w(v);h=ke(x,"circle",{cx:!0,cy:!0,r:!0}),w(h).forEach(u),b=ke(x,"polygon",{points:!0}),w(b).forEach(u),x.forEach(u),S.forEach(u),k=V(T),D=g(T,"H2",{class:!0,"data-svelte-h":!0}),X(D)!=="svelte-1maueo6"&&(D.textContent=C),p=V(T),_=g(T,"P",{class:!0});var Q=w(_);E=j(Q,"基音: "),y=j(Q,o[6]),R=j(Q,"（ド4）"),Q.forEach(u),I=V(T),q=g(T,"P",{class:!0});var re=w(q);M=j(re,"この音を基準として、"),z=j(re,N),P=j(re,"クロマチックスケールを歌います"),re.forEach(u),Y=V(T),O=g(T,"DIV",{class:!0});var ue=w(O);B=g(ue,"H4",{class:!0,"data-svelte-h":!0}),X(B)!=="svelte-kold0"&&(B.textContent=H),U=V(ue),W=g(ue,"DIV",{class:!0});var ge=w(W);for(let Ue=0;Ue<Z.length;Ue+=1)Z[Ue].l(ge);ge.forEach(u),ue.forEach(u),ne=V(T),L=g(T,"DIV",{class:!0});var de=w(L);ce=g(de,"DIV",{class:!0});var Ee=w(ce);se=g(Ee,"DIV",{class:!0}),w(se).forEach(u),Ee.forEach(u),de.forEach(u),T.forEach(u),this.h()},h:function(){i(c,"class","direction-text svelte-11wn9hu"),f(c,d,332,14,10493),i(t,"class","direction-indicator svelte-11wn9hu"),f(t,d,331,12,10445),i(h,"cx","12"),i(h,"cy","12"),i(h,"r","10"),f(h,d,339,16,10833),i(b,"points","10,8 16,12 10,16"),f(b,d,340,16,10882),i(v,"width","48"),i(v,"height","48"),i(v,"viewBox","0 0 24 24"),i(v,"fill","none"),i(v,"stroke","currentColor"),i(v,"stroke-width","2"),f(v,d,338,14,10717),i(a,"class","playing-icon svelte-11wn9hu"),f(a,d,337,12,10676),i(D,"class","playing-title svelte-11wn9hu"),f(D,d,343,12,10971),i(_,"class","playing-note svelte-11wn9hu"),f(_,d,344,12,11020),i(q,"class","playing-instruction svelte-11wn9hu"),f(q,d,345,12,11086),i(B,"class","svelte-11wn9hu"),f(B,d,350,14,11283),i(W,"class","scale-sequence svelte-11wn9hu"),f(W,d,351,14,11314),i(O,"class","scale-preview svelte-11wn9hu"),f(O,d,349,12,11241),i(se,"class","progress-fill svelte-11wn9hu"),f(se,d,365,16,11836),i(ce,"class","progress-bar svelte-11wn9hu"),f(ce,d,364,14,11793),i(L,"class","playing-progress svelte-11wn9hu"),f(L,d,363,12,11748),i(e,"class","playing-content svelte-11wn9hu"),f(e,d,330,10,10403)},m:function(G,T){K(G,e,T),n(e,t),n(t,c),n(c,l),n(e,s),n(e,a),n(a,v),n(v,h),n(v,b),n(e,k),n(e,D),n(e,p),n(e,_),n(_,E),n(_,y),n(_,R),n(e,I),n(e,q),n(q,M),n(q,z),n(q,P),n(e,Y),n(e,O),n(O,B),n(O,U),n(O,W);for(let F=0;F<Z.length;F+=1)Z[F]&&Z[F].m(W,null);n(e,ne),n(e,L),n(L,ce),n(ce,se)},p:function(G,T){if(T[0]&1&&r!==(r=G[0]==="ascending"?"📈 上行（Ascending）":"📉 下行（Descending）")&&te(l,r),T[0]&64&&te(y,G[6]),T[0]&1&&N!==(N=G[0]==="ascending"?"上行":"下行")&&te(z,N),T[0]&65536){le=We(G[16]);let F;for(F=0;F<le.length;F+=1){const J=rn(G,le,F);Z[F]?Z[F].p(J,T):(Z[F]=Rt(J),Z[F].c(),Z[F].m(W,null))}for(;F<Z.length;F+=1)Z[F].d(1);Z.length=le.length}},d:function(G){G&&u(e),vt(Z,G)}};return ee("SvelteRegisterBlock",{block:oe,id:yn.name,type:"slot",source:'(330:8) <Card variant=\\"tertiary\\" padding=\\"lg\\">',ctx:o}),oe}function qt(o){let e,t,c=o[13].range+"",r,l;const s={c:function(){e=m("span"),t=A("（音域: "),r=A(c),l=A("）"),this.h()},l:function(v){e=g(v,"SPAN",{class:!0});var h=w(e);t=j(h,"（音域: "),r=j(h,c),l=j(h,"）"),h.forEach(u),this.h()},h:function(){i(e,"class","range-info svelte-11wn9hu"),f(e,d,247,20,7316)},m:function(v,h){K(v,e,h),n(e,t),n(e,r),n(e,l)},p:function(v,h){h[0]&8192&&c!==(c=v[13].range+"")&&te(r,c)},d:function(v){v&&u(e)}};return ee("SvelteRegisterBlock",{block:s,id:qt.name,type:"if",source:"(247:18) {#if vocalRange}",ctx:o}),s}function En(o){let e=o[0]==="ascending"?"上行":"下行",t,c;const r={c:function(){t=A(e),c=A("12音階開始")},l:function(s){t=j(s,e),c=j(s,"12音階開始")},m:function(s,a){K(s,t,a),K(s,c,a)},p:function(s,a){a[0]&1&&e!==(e=s[0]==="ascending"?"上行":"下行")&&te(t,e)},d:function(s){s&&(u(t),u(c))}};return ee("SvelteRegisterBlock",{block:r,id:En.name,type:"slot",source:'(321:12) <Button variant=\\"tertiary\\" size=\\"lg\\" fullWidth on:click={startTraining}>',ctx:o}),r}function Dn(o){var Qt;let e,t,c="12音階トレーニング",r,l,s="半音階（クロマチック）を使った高度な相対音感トレーニング",a,v,h,b="基音選択",k,D,C,p,_,E=(((Qt=o[18].find(o[23]))==null?void 0:Qt.japanese)||o[7])+"",y,R,I,q,M="基音を変更",N,z,P,Y="スケール方向",O,B,H,U,W,ne,L,ce,se,le,Z="上行",oe,ae,G="ド → ド#→ レ → ... → シ",T,F,J,S,x,Q,re,ue,ge,de,Ee="下行",Ue,$e,Tt="シ → ラ#→ ラ → ... → ド",et,_t,ye,De,Ne,Ht="1",gt,Re,qe,Mt="基音確認",mt,Pe,zt="C4（ド4）の音程を基準として聞きます",pt,Se,je,Ft="2",wt,Ae,Te,Ot="半音階歌唱",bt,He,Wt="選択した方向で12音すべてを半音ずつ歌います",kt,Ie,Me,Ut="3",Ct,ze,Fe,Lt="高精度判定",yt,Oe,Gt="半音の微細な音程差まで厳密に判定します",Et,Be,Le,Dt,Jt,_e=o[13]&&qt(o);Be=new xe({props:{variant:"tertiary",size:"lg",fullWidth:!0,$$slots:{default:[En]},$$scope:{ctx:o}},$$inline:!0}),Be.$on("click",o[21]);const Kt={c:function(){e=m("div"),t=m("h2"),t.textContent=c,r=$(),l=m("p"),l.textContent=s,a=$(),v=m("div"),h=m("h3"),h.textContent=b,k=$(),D=m("div"),C=m("div"),p=A("選択中: "),_=m("strong"),y=A(E),R=$(),_e&&_e.c(),I=$(),q=m("button"),q.textContent=M,N=$(),z=m("div"),P=m("h3"),P.textContent=Y,O=$(),B=m("div"),H=m("button"),U=m("div"),W=Ce("svg"),ne=Ce("path"),L=Ce("path"),ce=$(),se=m("div"),le=m("div"),le.textContent=Z,oe=$(),ae=m("div"),ae.textContent=G,F=$(),J=m("button"),S=m("div"),x=Ce("svg"),Q=Ce("path"),re=Ce("path"),ue=$(),ge=m("div"),de=m("div"),de.textContent=Ee,Ue=$(),$e=m("div"),$e.textContent=Tt,_t=$(),ye=m("div"),De=m("div"),Ne=m("span"),Ne.textContent=Ht,gt=$(),Re=m("div"),qe=m("h3"),qe.textContent=Mt,mt=$(),Pe=m("p"),Pe.textContent=zt,pt=$(),Se=m("div"),je=m("span"),je.textContent=Ft,wt=$(),Ae=m("div"),Te=m("h3"),Te.textContent=Ot,bt=$(),He=m("p"),He.textContent=Wt,kt=$(),Ie=m("div"),Me=m("span"),Me.textContent=Ut,Ct=$(),ze=m("div"),Fe=m("h3"),Fe.textContent=Lt,yt=$(),Oe=m("p"),Oe.textContent=Gt,Et=$(),be(Be.$$.fragment),this.h()},l:function(fe){e=g(fe,"DIV",{class:!0});var ie=w(e);t=g(ie,"H2",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-101j58m"&&(t.textContent=c),r=V(ie),l=g(ie,"P",{class:!0,"data-svelte-h":!0}),X(l)!=="svelte-1ugs222"&&(l.textContent=s),a=V(ie),v=g(ie,"DIV",{class:!0});var Je=w(v);h=g(Je,"H3",{class:!0,"data-svelte-h":!0}),X(h)!=="svelte-1ncovlg"&&(h.textContent=b),k=V(Je),D=g(Je,"DIV",{class:!0});var Ke=w(D);C=g(Ke,"DIV",{class:!0});var Xe=w(C);p=j(Xe,"選択中: "),_=g(Xe,"STRONG",{});var Xt=w(_);y=j(Xt,E),Xt.forEach(u),R=V(Xe),_e&&_e.l(Xe),Xe.forEach(u),I=V(Ke),q=g(Ke,"BUTTON",{class:!0,"data-svelte-h":!0}),X(q)!=="svelte-18ljnxb"&&(q.textContent=M),Ke.forEach(u),Je.forEach(u),N=V(ie),z=g(ie,"DIV",{class:!0});var tt=w(z);P=g(tt,"H3",{class:!0,"data-svelte-h":!0}),X(P)!=="svelte-1vawqn0"&&(P.textContent=Y),O=V(tt),B=g(tt,"DIV",{class:!0});var nt=w(B);H=g(nt,"BUTTON",{class:!0});var st=w(H);U=g(st,"DIV",{class:!0});var Yt=w(U);W=ke(Yt,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0});var St=w(W);ne=ke(St,"path",{d:!0}),w(ne).forEach(u),L=ke(St,"path",{d:!0}),w(L).forEach(u),St.forEach(u),Yt.forEach(u),ce=V(st),se=g(st,"DIV",{});var lt=w(se);le=g(lt,"DIV",{class:!0,"data-svelte-h":!0}),X(le)!=="svelte-116jd1b"&&(le.textContent=Z),oe=V(lt),ae=g(lt,"DIV",{class:!0,"data-svelte-h":!0}),X(ae)!=="svelte-1ggybwo"&&(ae.textContent=G),lt.forEach(u),st.forEach(u),F=V(nt),J=g(nt,"BUTTON",{class:!0});var ot=w(J);S=g(ot,"DIV",{class:!0});var Zt=w(S);x=ke(Zt,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0});var It=w(x);Q=ke(It,"path",{d:!0}),w(Q).forEach(u),re=ke(It,"path",{d:!0}),w(re).forEach(u),It.forEach(u),Zt.forEach(u),ue=V(ot),ge=g(ot,"DIV",{});var at=w(ge);de=g(at,"DIV",{class:!0,"data-svelte-h":!0}),X(de)!=="svelte-nqapre"&&(de.textContent=Ee),Ue=V(at),$e=g(at,"DIV",{class:!0,"data-svelte-h":!0}),X($e)!=="svelte-sgcukz"&&($e.textContent=Tt),at.forEach(u),ot.forEach(u),nt.forEach(u),tt.forEach(u),_t=V(ie),ye=g(ie,"DIV",{class:!0});var Qe=w(ye);De=g(Qe,"DIV",{class:!0});var ct=w(De);Ne=g(ct,"SPAN",{class:!0,"data-svelte-h":!0}),X(Ne)!=="svelte-1gvrwis"&&(Ne.textContent=Ht),gt=V(ct),Re=g(ct,"DIV",{});var it=w(Re);qe=g(it,"H3",{class:!0,"data-svelte-h":!0}),X(qe)!=="svelte-haxc9i"&&(qe.textContent=Mt),mt=V(it),Pe=g(it,"P",{class:!0,"data-svelte-h":!0}),X(Pe)!=="svelte-1vmy1ue"&&(Pe.textContent=zt),it.forEach(u),ct.forEach(u),pt=V(Qe),Se=g(Qe,"DIV",{class:!0});var rt=w(Se);je=g(rt,"SPAN",{class:!0,"data-svelte-h":!0}),X(je)!=="svelte-1lllrxb"&&(je.textContent=Ft),wt=V(rt),Ae=g(rt,"DIV",{});var ut=w(Ae);Te=g(ut,"H3",{class:!0,"data-svelte-h":!0}),X(Te)!=="svelte-almcsu"&&(Te.textContent=Ot),bt=V(ut),He=g(ut,"P",{class:!0,"data-svelte-h":!0}),X(He)!=="svelte-9rdhe9"&&(He.textContent=Wt),ut.forEach(u),rt.forEach(u),kt=V(Qe),Ie=g(Qe,"DIV",{class:!0});var ft=w(Ie);Me=g(ft,"SPAN",{class:!0,"data-svelte-h":!0}),X(Me)!=="svelte-1swoen2"&&(Me.textContent=Ut),Ct=V(ft),ze=g(ft,"DIV",{});var dt=w(ze);Fe=g(dt,"H3",{class:!0,"data-svelte-h":!0}),X(Fe)!=="svelte-6qndw4"&&(Fe.textContent=Lt),yt=V(dt),Oe=g(dt,"P",{class:!0,"data-svelte-h":!0}),X(Oe)!=="svelte-jliohg"&&(Oe.textContent=Gt),dt.forEach(u),ft.forEach(u),Qe.forEach(u),Et=V(ie),we(Be.$$.fragment,ie),ie.forEach(u),this.h()},h:function(){i(t,"class","start-title svelte-11wn9hu"),f(t,d,235,12,6759),i(l,"class","start-description svelte-11wn9hu"),f(l,d,236,12,6811),i(h,"class","selector-title svelte-11wn9hu"),f(h,d,242,14,6999),f(_,d,245,23,7151),i(C,"class","selected-base-note svelte-11wn9hu"),f(C,d,244,16,7095),i(q,"class","base-note-change-button svelte-11wn9hu"),f(q,d,250,16,7436),i(D,"class","base-note-info svelte-11wn9hu"),f(D,d,243,14,7050),i(v,"class","base-note-selector svelte-11wn9hu"),f(v,d,241,12,6952),i(P,"class","selector-title svelte-11wn9hu"),f(P,d,258,14,7686),i(ne,"d","M7 17L17 7"),f(ne,d,266,22,8148),i(L,"d","M7 7h10v10"),f(L,d,267,22,8193),i(W,"width","20"),i(W,"height","20"),i(W,"viewBox","0 0 24 24"),i(W,"fill","none"),i(W,"stroke","currentColor"),i(W,"stroke-width","2"),f(W,d,265,20,8026),i(U,"class","option-icon svelte-11wn9hu"),f(U,d,264,18,7980),i(le,"class","option-title svelte-11wn9hu"),f(le,d,271,20,8312),i(ae,"class","option-desc svelte-11wn9hu"),f(ae,d,272,20,8367),f(se,d,270,18,8286),i(H,"class",T="direction-option "+(o[0]==="ascending"?"selected":"")+" svelte-11wn9hu"),f(H,d,260,16,7787),i(Q,"d","M17 7L7 17"),f(Q,d,282,22,8865),i(re,"d","M17 17H7V7"),f(re,d,283,22,8910),i(x,"width","20"),i(x,"height","20"),i(x,"viewBox","0 0 24 24"),i(x,"fill","none"),i(x,"stroke","currentColor"),i(x,"stroke-width","2"),f(x,d,281,20,8743),i(S,"class","option-icon svelte-11wn9hu"),f(S,d,280,18,8697),i(de,"class","option-title svelte-11wn9hu"),f(de,d,287,20,9029),i($e,"class","option-desc svelte-11wn9hu"),f($e,d,288,20,9084),f(ge,d,286,18,9003),i(J,"class",et="direction-option "+(o[0]==="descending"?"selected":"")+" svelte-11wn9hu"),f(J,d,276,16,8502),i(B,"class","direction-options svelte-11wn9hu"),f(B,d,259,14,7739),i(z,"class","direction-selector svelte-11wn9hu"),f(z,d,257,12,7639),i(Ne,"class","step-number svelte-11wn9hu"),f(Ne,d,296,16,9339),i(qe,"class","svelte-11wn9hu"),f(qe,d,298,18,9414),i(Pe,"class","svelte-11wn9hu"),f(Pe,d,299,18,9446),f(Re,d,297,16,9390),i(De,"class","instruction-item svelte-11wn9hu"),f(De,d,295,14,9292),i(je,"class","step-number svelte-11wn9hu"),f(je,d,304,16,9593),i(Te,"class","svelte-11wn9hu"),f(Te,d,306,18,9668),i(He,"class","svelte-11wn9hu"),f(He,d,307,18,9701),f(Ae,d,305,16,9644),i(Se,"class","instruction-item svelte-11wn9hu"),f(Se,d,303,14,9546),i(Me,"class","step-number svelte-11wn9hu"),f(Me,d,312,16,9851),i(Fe,"class","svelte-11wn9hu"),f(Fe,d,314,18,9926),i(Oe,"class","svelte-11wn9hu"),f(Oe,d,315,18,9959),f(ze,d,313,16,9902),i(Ie,"class","instruction-item svelte-11wn9hu"),f(Ie,d,311,14,9804),i(ye,"class","instructions svelte-11wn9hu"),f(ye,d,294,12,9251),i(e,"class","start-content svelte-11wn9hu"),f(e,d,234,10,6719)},m:function(fe,ie){K(fe,e,ie),n(e,t),n(e,r),n(e,l),n(e,a),n(e,v),n(v,h),n(v,k),n(v,D),n(D,C),n(C,p),n(C,_),n(_,y),n(C,R),_e&&_e.m(C,null),n(D,I),n(D,q),n(e,N),n(e,z),n(z,P),n(z,O),n(z,B),n(B,H),n(H,U),n(U,W),n(W,ne),n(W,L),n(H,ce),n(H,se),n(se,le),n(se,oe),n(se,ae),n(B,F),n(B,J),n(J,S),n(S,x),n(x,Q),n(x,re),n(J,ue),n(J,ge),n(ge,de),n(ge,Ue),n(ge,$e),n(e,_t),n(e,ye),n(ye,De),n(De,Ne),n(De,gt),n(De,Re),n(Re,qe),n(Re,mt),n(Re,Pe),n(ye,pt),n(ye,Se),n(Se,je),n(Se,wt),n(Se,Ae),n(Ae,Te),n(Ae,bt),n(Ae,He),n(ye,kt),n(ye,Ie),n(Ie,Me),n(Ie,Ct),n(Ie,ze),n(ze,Fe),n(ze,yt),n(ze,Oe),n(e,Et),pe(Be,e,null),Le=!0,Dt||(Jt=[Ze(q,"click",o[19],!1,!1,!1),Ze(H,"click",o[24],!1,!1,!1),Ze(J,"click",o[25],!1,!1,!1)],Dt=!0)},p:function(fe,ie){var Ke;(!Le||ie[0]&128)&&E!==(E=(((Ke=fe[18].find(fe[23]))==null?void 0:Ke.japanese)||fe[7])+"")&&te(y,E),fe[13]?_e?_e.p(fe,ie):(_e=qt(fe),_e.c(),_e.m(C,null)):_e&&(_e.d(1),_e=null),(!Le||ie[0]&1&&T!==(T="direction-option "+(fe[0]==="ascending"?"selected":"")+" svelte-11wn9hu"))&&i(H,"class",T),(!Le||ie[0]&1&&et!==(et="direction-option "+(fe[0]==="descending"?"selected":"")+" svelte-11wn9hu"))&&i(J,"class",et);const Je={};ie[0]&1|ie[1]&16384&&(Je.$$scope={dirty:ie,ctx:fe}),Be.$set(Je)},i:function(fe){Le||(he(Be.$$.fragment,fe),Le=!0)},o:function(fe){ve(Be.$$.fragment,fe),Le=!1},d:function(fe){fe&&u(e),_e&&_e.d(),me(Be),Dt=!1,jn(Jt)}};return ee("SvelteRegisterBlock",{block:Kt,id:Dn.name,type:"slot",source:'(234:8) <Card variant=\\"default\\" padding=\\"lg\\">',ctx:o}),Kt}function Pt(o){let e,t,c,r;c=new Ve({props:{variant:"default",padding:"xl",$$slots:{default:[Bn]},$$scope:{ctx:o}},$$inline:!0});const l={c:function(){e=m("div"),t=m("div"),be(c.$$.fragment),this.h()},l:function(a){e=g(a,"DIV",{class:!0});var v=w(e);t=g(v,"DIV",{class:!0});var h=w(t);we(c.$$.fragment,h),h.forEach(u),v.forEach(u),this.h()},h:function(){i(t,"class","base-selection-modal svelte-11wn9hu"),f(t,d,499,6,16755),i(e,"class","base-selection-modal-overlay svelte-11wn9hu"),f(e,d,498,4,16706)},m:function(a,v){K(a,e,v),n(e,t),pe(c,t,null),r=!0},p:function(a,v){const h={};v[0]&143488|v[1]&16384&&(h.$$scope={dirty:v,ctx:a}),c.$set(h)},i:function(a){r||(he(c.$$.fragment,a),r=!0)},o:function(a){ve(c.$$.fragment,a),r=!1},d:function(a){a&&u(e),me(c)}};return ee("SvelteRegisterBlock",{block:l,id:Pt.name,type:"if",source:"(498:2) {#if showBaseSelection}",ctx:o}),l}function Sn(o){let e,t="音域測定データがありません。標準的な基音から選択してください";const c={c:function(){e=m("p"),e.textContent=t,this.h()},l:function(l){e=g(l,"P",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-p643vm"&&(e.textContent=t),this.h()},h:function(){i(e,"class","vocal-range-info svelte-11wn9hu"),f(e,d,509,14,17157)},m:function(l,s){K(l,e,s)},p:An,d:function(l){l&&u(e)}};return ee("SvelteRegisterBlock",{block:c,id:Sn.name,type:"else",source:"(509:12) {:else}",ctx:o}),c}function In(o){let e,t,c,r=o[13].range+"",l,s,a;const v={c:function(){e=m("p"),t=A("あなたの音域: "),c=m("strong"),l=A(r),s=m("br"),a=A(`
                以下は歌いやすい基音です`),this.h()},l:function(b){e=g(b,"P",{class:!0});var k=w(e);t=j(k,"あなたの音域: "),c=g(k,"STRONG",{});var D=w(c);l=j(D,r),D.forEach(u),s=g(k,"BR",{}),a=j(k,`
                以下は歌いやすい基音です`),k.forEach(u),this.h()},h:function(){f(c,d,505,24,17035),f(s,d,505,59,17070),i(e,"class","vocal-range-info svelte-11wn9hu"),f(e,d,504,14,16982)},m:function(b,k){K(b,e,k),n(e,t),n(e,c),n(c,l),n(e,s),n(e,a)},p:function(b,k){k[0]&8192&&r!==(r=b[13].range+"")&&te(l,r)},d:function(b){b&&u(e)}};return ee("SvelteRegisterBlock",{block:v,id:In.name,type:"if",source:"(504:12) {#if vocalRange}",ctx:o}),v}function jt(o){let e,t,c,r=o[37].japanese+"",l,s,a,v,h=o[37].note+"",b,k,D,C,p=o[37].frequency.toFixed(1)+"",_,E,y,R,I,q;function M(){return o[26](o[37])}const N={c:function(){e=m("button"),t=m("div"),c=m("span"),l=A(r),s=$(),a=m("span"),v=A("("),b=A(h),k=A(")"),D=$(),C=m("div"),_=A(p),E=A(" Hz"),y=$(),this.h()},l:function(P){e=g(P,"BUTTON",{class:!0});var Y=w(e);t=g(Y,"DIV",{class:!0});var O=w(t);c=g(O,"SPAN",{class:!0});var B=w(c);l=j(B,r),B.forEach(u),s=V(O),a=g(O,"SPAN",{class:!0});var H=w(a);v=j(H,"("),b=j(H,h),k=j(H,")"),H.forEach(u),O.forEach(u),D=V(Y),C=g(Y,"DIV",{class:!0});var U=w(C);_=j(U,p),E=j(U," Hz"),U.forEach(u),y=V(Y),Y.forEach(u),this.h()},h:function(){i(c,"class","note-japanese svelte-11wn9hu"),f(c,d,521,20,17643),i(a,"class","note-english svelte-11wn9hu"),f(a,d,522,20,17718),i(t,"class","note-display svelte-11wn9hu"),f(t,d,520,18,17596),i(C,"class","note-frequency svelte-11wn9hu"),f(C,d,524,18,17813),i(e,"class",R="base-note-option "+(o[7]===o[37].note?"selected":"")+" svelte-11wn9hu"),f(e,d,516,16,17393)},m:function(P,Y){K(P,e,Y),n(e,t),n(t,c),n(c,l),n(t,s),n(t,a),n(a,v),n(a,b),n(a,k),n(e,D),n(e,C),n(C,_),n(C,E),n(e,y),I||(q=Ze(e,"click",M,!1,!1,!1),I=!0)},p:function(P,Y){o=P,Y[0]&131072&&r!==(r=o[37].japanese+"")&&te(l,r),Y[0]&131072&&h!==(h=o[37].note+"")&&te(b,h),Y[0]&131072&&p!==(p=o[37].frequency.toFixed(1)+"")&&te(_,p),Y[0]&131200&&R!==(R="base-note-option "+(o[7]===o[37].note?"selected":"")+" svelte-11wn9hu")&&i(e,"class",R)},d:function(P){P&&u(e),I=!1,q()}};return ee("SvelteRegisterBlock",{block:N,id:jt.name,type:"each",source:"(516:14) {#each availableBaseNotes as noteData}",ctx:o}),N}function Bn(o){let e,t,c="基音を選択",r,l,s,a,v,h,b="キャンセル",k,D;function C(I,q){return I[13]?In:Sn}let p=C(o),_=p(o),E=We(o[17]),y=[];for(let I=0;I<E.length;I+=1)y[I]=jt(on(o,E,I));const R={c:function(){e=m("div"),t=m("h2"),t.textContent=c,r=$(),_.c(),l=$(),s=m("div");for(let q=0;q<y.length;q+=1)y[q].c();a=$(),v=m("div"),h=m("button"),h.textContent=b,this.h()},l:function(q){e=g(q,"DIV",{class:!0});var M=w(e);t=g(M,"H2",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-1goib6j"&&(t.textContent=c),r=V(M),_.l(M),l=V(M),s=g(M,"DIV",{class:!0});var N=w(s);for(let P=0;P<y.length;P+=1)y[P].l(N);N.forEach(u),a=V(M),v=g(M,"DIV",{class:!0});var z=w(v);h=g(z,"BUTTON",{class:!0,"data-svelte-h":!0}),X(h)!=="svelte-144tgxs"&&(h.textContent=b),z.forEach(u),M.forEach(u),this.h()},h:function(){i(t,"class","base-selection-title svelte-11wn9hu"),f(t,d,502,12,16895),i(s,"class","base-note-grid svelte-11wn9hu"),f(s,d,514,12,17295),i(h,"class","modal-cancel svelte-11wn9hu"),f(h,d,530,14,18016),i(v,"class","modal-actions svelte-11wn9hu"),f(v,d,529,12,17974),i(e,"class","base-selection-content svelte-11wn9hu"),f(e,d,501,10,16846)},m:function(q,M){K(q,e,M),n(e,t),n(e,r),_.m(e,null),n(e,l),n(e,s);for(let N=0;N<y.length;N+=1)y[N]&&y[N].m(s,null);n(e,a),n(e,v),n(v,h),k||(D=Ze(h,"click",o[27],!1,!1,!1),k=!0)},p:function(q,M){if(p===(p=C(q))&&_?_.p(q,M):(_.d(1),_=p(q),_&&(_.c(),_.m(e,l))),M[0]&1179776){E=We(q[17]);let N;for(N=0;N<E.length;N+=1){const z=on(q,E,N);y[N]?y[N].p(z,M):(y[N]=jt(z),y[N].c(),y[N].m(s,null))}for(;N<y.length;N+=1)y[N].d(1);y.length=E.length}},d:function(q){q&&u(e),_.d(),vt(y,q),k=!1,D()}};return ee("SvelteRegisterBlock",{block:R,id:Bn.name,type:"slot",source:'(501:8) <Card variant=\\"default\\" padding=\\"xl\\">',ctx:o}),R}function Vn(o){let e,t,c,r,l,s,a,v,h,b,k="12音階モード",D,C,p="クロマチックスケールの上行・下行で完全制覇",_,E,y,R,I,q;const M=[vn,hn,dn,fn],N=[];function z(O,B){return!O[4]&&!O[5]&&!O[9]?0:O[4]?1:O[5]?2:O[9]?3:-1}~(E=z(o))&&(y=N[E]=M[E](o));let P=o[12]&&Pt(o);const Y={c:function(){e=m("div"),t=m("div"),c=m("div"),r=m("div"),l=Ce("svg"),s=Ce("path"),a=Ce("path"),v=$(),h=m("div"),b=m("h1"),b.textContent=k,D=$(),C=m("p"),C.textContent=p,_=$(),y&&y.c(),R=$(),P&&P.c(),I=ht(),this.h()},l:function(B){e=g(B,"DIV",{class:!0});var H=w(e);t=g(H,"DIV",{class:!0});var U=w(t);c=g(U,"DIV",{class:!0});var W=w(c);r=g(W,"DIV",{class:!0});var ne=w(r);l=ke(ne,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0});var L=w(l);s=ke(L,"path",{d:!0}),w(s).forEach(u),a=ke(L,"path",{d:!0}),w(a).forEach(u),L.forEach(u),ne.forEach(u),v=V(W),h=g(W,"DIV",{});var ce=w(h);b=g(ce,"H1",{class:!0,"data-svelte-h":!0}),X(b)!=="svelte-1wijuc0"&&(b.textContent=k),D=V(ce),C=g(ce,"P",{class:!0,"data-svelte-h":!0}),X(C)!=="svelte-7tqxat"&&(C.textContent=p),ce.forEach(u),W.forEach(u),U.forEach(u),_=V(H),y&&y.l(H),H.forEach(u),R=V(B),P&&P.l(B),I=ht(),this.h()},h:function(){i(s,"d","M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"),f(s,d,219,12,6248),i(a,"d","M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"),f(a,d,220,12,6310),i(l,"width","32"),i(l,"height","32"),i(l,"viewBox","0 0 24 24"),i(l,"fill","none"),i(l,"stroke","currentColor"),i(l,"stroke-width","2"),f(l,d,218,10,6136),i(r,"class","mode-icon svelte-11wn9hu"),f(r,d,217,8,6102),i(b,"class","mode-title svelte-11wn9hu"),f(b,d,224,10,6417),i(C,"class","mode-description svelte-11wn9hu"),f(C,d,225,10,6463),f(h,d,223,8,6401),i(c,"class","mode-header svelte-11wn9hu"),f(c,d,216,6,6068),i(t,"class","header svelte-11wn9hu"),f(t,d,215,4,6041),i(e,"class","chromatic-training svelte-11wn9hu"),f(e,d,213,2,5986)},m:function(B,H){K(B,e,H),n(e,t),n(t,c),n(c,r),n(r,l),n(l,s),n(l,a),n(c,v),n(c,h),n(h,b),n(h,D),n(h,C),n(e,_),~E&&N[E].m(e,null),K(B,R,H),P&&P.m(B,H),K(B,I,H),q=!0},p:function(B,H){let U=E;E=z(B),E===U?~E&&N[E].p(B,H):(y&&(en(),ve(N[U],1,1,()=>{N[U]=null}),tn()),~E?(y=N[E],y?y.p(B,H):(y=N[E]=M[E](B),y.c()),he(y,1),y.m(e,null)):y=null),B[12]?P?(P.p(B,H),H[0]&4096&&he(P,1)):(P=Pt(B),P.c(),he(P,1),P.m(I.parentNode,I)):P&&(en(),ve(P,1,1,()=>{P=null}),tn())},i:function(B){q||(he(y),he(P),q=!0)},o:function(B){ve(y),ve(P),q=!1},d:function(B){B&&(u(e),u(R),u(I)),~E&&N[E].d(),P&&P.d(B)}};return ee("SvelteRegisterBlock",{block:Y,id:Vn.name,type:"slot",source:"(213:0) <PageLayout showBackButton={true}>",ctx:o}),Y}function At(o){let e,t,c;t=new un({props:{showBackButton:!0,$$slots:{default:[Vn]},$$scope:{ctx:o}},$$inline:!0});const r={c:function(){e=$(),be(t.$$.fragment),this.h()},l:function(s){Pn("svelte-83m5j3",document.head).forEach(u),e=V(s),we(t.$$.fragment,s),this.h()},h:function(){document.title="12音階モード - 相対音感トレーニング"},m:function(s,a){K(s,e,a),pe(t,s,a),c=!0},p:function(s,a){const v={};a[0]&262143|a[1]&16384&&(v.$$scope={dirty:a,ctx:s}),t.$set(v)},i:function(s){c||(he(t.$$.fragment,s),c=!0)},o:function(s){ve(t.$$.fragment,s),c=!1},d:function(s){s&&u(e),me(t,s)}};return ee("SvelteRegisterBlock",{block:r,id:At.name,type:"component",source:"",ctx:o}),r}function Fn(o,e,t){let c,r,l,s,a,{$$slots:v={},$$scope:h}=e;qn("Page",v,[]);let b="ascending",k=!1,D=!1,C="C4",p="C4",_=0,E=[],y=!1,R=0,I=0,q="",M=!1,N=null,z=!1;const P=["ド","ド#","レ","レ#","ミ","ファ","ファ#","ソ","ソ#","ラ","ラ#","シ"],Y=["シ","ラ#","ラ","ソ#","ソ","ファ#","ファ","ミ","レ#","レ","ド#","ド"],O=[{note:"C3",japanese:"ド3",frequency:130.81},{note:"D3",japanese:"レ3",frequency:146.83},{note:"E3",japanese:"ミ3",frequency:164.81},{note:"F3",japanese:"ファ3",frequency:174.61},{note:"G3",japanese:"ソ3",frequency:196},{note:"A3",japanese:"ラ3",frequency:220},{note:"B3",japanese:"シ3",frequency:246.94},{note:"C4",japanese:"ド4",frequency:261.63},{note:"D4",japanese:"レ4",frequency:293.66},{note:"E4",japanese:"ミ4",frequency:329.63},{note:"F4",japanese:"ファ4",frequency:349.23},{note:"G4",japanese:"ソ4",frequency:392},{note:"A4",japanese:"ラ4",frequency:440},{note:"B4",japanese:"シ4",frequency:493.88},{note:"C5",japanese:"ド5",frequency:523.25}];xt(()=>{B(),H()});function B(){if(typeof localStorage<"u"){if(z=localStorage.getItem("mic-test-completed")==="true",!z){console.log("マイクテスト未完了 - マイクテストページに誘導"),sn(`${ln}/microphone-test?mode=chromatic`);return}console.log("✅ マイクテスト完了済み - 12音階モード開始可能")}}function H(){if(typeof localStorage<"u"){const S=localStorage.getItem("vocal-range");if(S)try{t(13,N=JSON.parse(S)),console.log("音域データ読み込み:",N)}catch(x){console.error("音域データ解析エラー:",x),t(13,N=null)}}}function U(){if(!N)return O.filter(ue=>ue.frequency>=200&&ue.frequency<=400);const S=N.lowestFrequency,x=N.highestFrequency,Q=S*1.2,re=x*.8;return O.filter(ue=>ue.frequency>=Q&&ue.frequency<=re)}function W(){t(12,M=!0)}function ne(S){t(7,p=S.note),t(6,C=S.note),t(12,M=!1),console.log("基音選択:",S)}function L(){t(8,_=0),t(1,E=[]),t(9,y=!1),ce(p)}function ce(S){t(4,k=!0),t(6,C=S),console.log(`基音再生: ${S} (${b==="ascending"?"上行":"下行"})`),setTimeout(()=>{t(4,k=!1),se()},3e3)}function se(){t(5,D=!0);const S=setInterval(()=>{if(!D){clearInterval(S);return}t(2,R=Math.random()*100);const x=[261.63,277.18,293.66,311.13,329.63,349.23,369.99,392,415.3,440,466.16,493.88];if(t(10,I=x[Math.floor(Math.random()*x.length)]),t(11,q=c[Math.floor(Math.random()*c.length)]),Math.random()>.6){const Q=Math.random()>.4;t(1,E[_]=Q,E),t(8,_++,_),_>=12&&le()}},600)}function le(){t(5,D=!1),t(9,y=!0)}function Z(){t(0,b=b==="ascending"?"descending":"ascending")}const oe=[];Object.keys(e).forEach(S=>{!~oe.indexOf(S)&&S.slice(0,2)!=="$$"&&S!=="slot"&&zn.warn(`<Page> was created with unknown prop '${S}'`)});const ae=S=>S.note===p,G=()=>t(0,b="ascending"),T=()=>t(0,b="descending"),F=S=>ne(S),J=()=>t(12,M=!1);return o.$capture_state=()=>({onMount:xt,Card:Ve,Button:xe,PageLayout:un,goto:sn,base:ln,direction:b,isPlaying:k,isDetecting:D,currentBaseNote:C,selectedBaseNote:p,currentScaleIndex:_,scaleResults:E,showResults:y,currentVolume:R,currentFrequency:I,currentNote:q,showBaseSelection:M,vocalRange:N,micTestCompleted:z,chromaticNotesAsc:P,chromaticNotesDesc:Y,baseNoteOptions:O,checkMicrophoneTestStatus:B,loadVocalRangeData:H,getAvailableBaseNotes:U,showBaseNoteSelection:W,selectBaseNote:ne,startTraining:L,playBaseNote:ce,startDetection:se,finishTraining:le,switchDirection:Z,correctCount:s,score:a,volumeWidth:l,currentScale:c,availableBaseNotes:r}),o.$inject_state=S=>{"direction"in S&&t(0,b=S.direction),"isPlaying"in S&&t(4,k=S.isPlaying),"isDetecting"in S&&t(5,D=S.isDetecting),"currentBaseNote"in S&&t(6,C=S.currentBaseNote),"selectedBaseNote"in S&&t(7,p=S.selectedBaseNote),"currentScaleIndex"in S&&t(8,_=S.currentScaleIndex),"scaleResults"in S&&t(1,E=S.scaleResults),"showResults"in S&&t(9,y=S.showResults),"currentVolume"in S&&t(2,R=S.currentVolume),"currentFrequency"in S&&t(10,I=S.currentFrequency),"currentNote"in S&&t(11,q=S.currentNote),"showBaseSelection"in S&&t(12,M=S.showBaseSelection),"vocalRange"in S&&t(13,N=S.vocalRange),"micTestCompleted"in S&&(z=S.micTestCompleted),"correctCount"in S&&t(3,s=S.correctCount),"score"in S&&t(14,a=S.score),"volumeWidth"in S&&t(15,l=S.volumeWidth),"currentScale"in S&&t(16,c=S.currentScale),"availableBaseNotes"in S&&t(17,r=S.availableBaseNotes)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),o.$$.update=()=>{o.$$.dirty[0]&1&&t(16,c=b==="ascending"?P:Y),o.$$.dirty[0]&4&&t(15,l=Math.max(0,Math.min(100,R))),o.$$.dirty[0]&2&&t(3,s=E.filter(S=>S).length),o.$$.dirty[0]&8&&t(14,a=Math.round(s/12*100))},t(17,r=U()),[b,E,R,s,k,D,C,p,_,y,I,q,M,N,a,l,c,r,O,W,ne,L,Z,ae,G,T,F,J]}class Kn extends $n{constructor(e){super(e),Nn(this,e,Fn,At,Rn,{},null,[-1,-1]),ee("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:At.name})}}export{Kn as component,Jn as universal};
