import{S as N,i as U,s as K,d as h,C as O,m as w,o as B,b as L,D as z,H as J,h as x,E as A,k as T,F,L as Q,p as R,q as W,c as i,y as d,e as f,f as M,G as g,j as p,n as C,A as G}from"../chunks/CJUHymq1.js";import"../chunks/IHki7fMi.js";import{g as P,b as q}from"../chunks/BdXTrSTr.js";import{P as X}from"../chunks/DqnuPPYK.js";import{T as Y}from"../chunks/DIuVYQM2.js";const Z=!1,pe=Object.freeze(Object.defineProperty({__proto__:null,prerender:Z},Symbol.toStringTag,{value:"Module"}));function ee(j){let e,t='<div class="loading-spinner svelte-14jb1jb">⚡</div> <p>読み込み中...</p>';return{c(){e=p("div"),e.innerHTML=t,this.h()},l(n){e=f(n,"DIV",{class:!0,"data-svelte-h":!0}),g(e)!=="svelte-1awb2cx"&&(e.innerHTML=t),this.h()},h(){d(e,"class","loading-placeholder svelte-14jb1jb")},m(n,a){L(n,e,a)},p:C,i:C,o:C,d(n){n&&h(e)}}}function te(j){let e,t;return e=new Y({props:{mode:"continuous",autoPlay:!0,sessionCount:8,useLocalStorage:!0,sessionKey:"continuous-training-progress",onMicrophoneError:j[3],onStorageError:oe,onSessionComplete:re,onAllComplete:ie}}),{c(){F(e.$$.fragment)},l(n){A(e.$$.fragment,n)},m(n,a){z(e,n,a),t=!0},p:C,i(n){t||(B(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){O(e,n)}}}function se(j){let e,t,n,a='<div class="challenge-icon svelte-14jb1jb">⚡</div>',l,s,r,$="連続チャレンジモード",u,v,o=`<div class="feature-item svelte-14jb1jb"><div class="feature-icon svelte-14jb1jb">🎯</div> <div class="feature-text svelte-14jb1jb"><strong class="svelte-14jb1jb">8セッション連続</strong><br/>
                  途中で止まらない集中トレーニング</div></div> <div class="feature-item svelte-14jb1jb"><div class="feature-icon svelte-14jb1jb">🔥</div> <div class="feature-text svelte-14jb1jb"><strong class="svelte-14jb1jb">中級向け難易度</strong><br/>
                  より難しい基音での挑戦</div></div> <div class="feature-item svelte-14jb1jb"><div class="feature-icon svelte-14jb1jb">🚀</div> <div class="feature-text svelte-14jb1jb"><strong class="svelte-14jb1jb">自動進行</strong><br/>
                  セッション完了後に自動で次へ</div></div>`,b,c,H='<h3 class="svelte-14jb1jb">🎼 使用基音（中級レベル）</h3> <div class="base-notes-grid svelte-14jb1jb"><span class="base-note svelte-14jb1jb">Bb3</span> <span class="base-note svelte-14jb1jb">B3</span> <span class="base-note svelte-14jb1jb">Db4</span> <span class="base-note svelte-14jb1jb">Eb4</span> <span class="base-note svelte-14jb1jb">F#4</span> <span class="base-note svelte-14jb1jb">G#4</span> <span class="base-note svelte-14jb1jb">Bb4</span> <span class="base-note svelte-14jb1jb">C#5</span> <span class="base-note svelte-14jb1jb">Eb5</span> <span class="base-note svelte-14jb1jb">F#5</span></div>',E,m,k="🔥 チャレンジ開始！",y,I;return{c(){e=p("div"),t=p("div"),n=p("div"),n.innerHTML=a,l=T(),s=p("div"),r=p("h2"),r.textContent=$,u=T(),v=p("div"),v.innerHTML=o,b=T(),c=p("div"),c.innerHTML=H,E=T(),m=p("button"),m.textContent=k,this.h()},l(_){e=f(_,"DIV",{class:!0});var S=M(e);t=f(S,"DIV",{class:!0});var V=M(t);n=f(V,"DIV",{class:!0,"data-svelte-h":!0}),g(n)!=="svelte-13ksuac"&&(n.innerHTML=a),l=x(V),s=f(V,"DIV",{class:!0});var D=M(s);r=f(D,"H2",{class:!0,"data-svelte-h":!0}),g(r)!=="svelte-1je1qsu"&&(r.textContent=$),u=x(D),v=f(D,"DIV",{class:!0,"data-svelte-h":!0}),g(v)!=="svelte-1ew1nx5"&&(v.innerHTML=o),b=x(D),c=f(D,"DIV",{class:!0,"data-svelte-h":!0}),g(c)!=="svelte-9z8rw7"&&(c.innerHTML=H),E=x(D),m=f(D,"BUTTON",{class:!0,"data-svelte-h":!0}),g(m)!=="svelte-la0s3j"&&(m.textContent=k),D.forEach(h),V.forEach(h),S.forEach(h),this.h()},h(){d(n,"class","challenge-icon-wrapper svelte-14jb1jb"),d(r,"class","challenge-title svelte-14jb1jb"),d(v,"class","challenge-features svelte-14jb1jb"),d(c,"class","difficulty-info svelte-14jb1jb"),d(m,"class","start-challenge-button svelte-14jb1jb"),d(s,"class","challenge-content"),d(t,"class","challenge-card svelte-14jb1jb"),d(e,"class","start-screen svelte-14jb1jb")},m(_,S){L(_,e,S),i(e,t),i(t,n),i(t,l),i(t,s),i(s,r),i(s,u),i(s,v),i(s,b),i(s,c),i(s,E),i(s,m),y||(I=G(m,"click",j[4]),y=!0)},p:C,i:C,o:C,d(_){_&&h(e),y=!1,I()}}}function ne(j){let e,t,n,a="⚠️",l,s,r,$="マイクテストが必要です",u,v,o="連続チャレンジを開始する前に、マイクの動作確認を行ってください。",b,c,H="マイクテストを開始",E,m;return{c(){e=p("div"),t=p("div"),n=p("div"),n.textContent=a,l=T(),s=p("div"),r=p("h3"),r.textContent=$,u=T(),v=p("p"),v.textContent=o,b=T(),c=p("button"),c.textContent=H,this.h()},l(k){e=f(k,"DIV",{class:!0});var y=M(e);t=f(y,"DIV",{class:!0});var I=M(t);n=f(I,"DIV",{class:!0,"data-svelte-h":!0}),g(n)!=="svelte-dwi5dc"&&(n.textContent=a),l=x(I),s=f(I,"DIV",{class:!0});var _=M(s);r=f(_,"H3",{class:!0,"data-svelte-h":!0}),g(r)!=="svelte-17kvze2"&&(r.textContent=$),u=x(_),v=f(_,"P",{class:!0,"data-svelte-h":!0}),g(v)!=="svelte-t9m3nr"&&(v.textContent=o),b=x(_),c=f(_,"BUTTON",{class:!0,"data-svelte-h":!0}),g(c)!=="svelte-18xr2xp"&&(c.textContent=H),_.forEach(h),I.forEach(h),y.forEach(h),this.h()},h(){d(n,"class","warning-icon svelte-14jb1jb"),d(r,"class","svelte-14jb1jb"),d(v,"class","svelte-14jb1jb"),d(c,"class","mic-test-button svelte-14jb1jb"),d(s,"class","warning-content svelte-14jb1jb"),d(t,"class","warning-card svelte-14jb1jb"),d(e,"class","mic-test-required svelte-14jb1jb")},m(k,y){L(k,e,y),i(e,t),i(t,n),i(t,l),i(t,s),i(s,r),i(s,u),i(s,v),i(s,b),i(s,c),E||(m=G(c,"click",j[5]),E=!0)},p:C,i:C,o:C,d(k){k&&h(e),E=!1,m()}}}function le(j){let e,t,n='<h1 class="page-title svelte-14jb1jb">⚡ 連続チャレンジモード</h1> <p class="page-description svelte-14jb1jb">中級者向け：より難しい基音で8セッション連続挑戦</p>',a,l,s,r;const $=[ne,se,te,ee],u=[];function v(o,b){return o[2]&&!o[0]?0:o[2]&&o[0]&&o[1]?1:o[2]&&o[0]&&!o[1]?2:o[2]?-1:3}return~(l=v(j))&&(s=u[l]=$[l](j)),{c(){e=p("div"),t=p("div"),t.innerHTML=n,a=T(),s&&s.c(),this.h()},l(o){e=f(o,"DIV",{class:!0});var b=M(e);t=f(b,"DIV",{class:!0,"data-svelte-h":!0}),g(t)!=="svelte-1la1yd9"&&(t.innerHTML=n),a=x(b),s&&s.l(b),b.forEach(h),this.h()},h(){d(t,"class","page-header svelte-14jb1jb"),d(e,"class","continuous-training-page svelte-14jb1jb")},m(o,b){L(o,e,b),i(e,t),i(e,a),~l&&u[l].m(e,null),r=!0},p(o,b){let c=l;l=v(o),l===c?~l&&u[l].p(o,b):(s&&(R(),w(u[c],1,1,()=>{u[c]=null}),W()),~l?(s=u[l],s?s.p(o,b):(s=u[l]=$[l](o),s.c()),B(s,1),s.m(e,null)):s=null)},i(o){r||(B(s),r=!0)},o(o){w(s),r=!1},d(o){o&&h(e),~l&&u[l].d()}}}function ae(j){let e,t,n;return t=new X({props:{showBackButton:!0,$$slots:{default:[le]},$$scope:{ctx:j}}}),{c(){e=T(),F(t.$$.fragment),this.h()},l(a){J("svelte-13kpo59",document.head).forEach(h),e=x(a),A(t.$$.fragment,a),this.h()},h(){document.title="連続チャレンジモード - 相対音感トレーニング"},m(a,l){L(a,e,l),z(t,a,l),n=!0},p(a,[l]){const s={};l&71&&(s.$$scope={dirty:l,ctx:a}),t.$set(s)},i(a){n||(B(t.$$.fragment,a),n=!0)},o(a){w(t.$$.fragment,a),n=!1},d(a){a&&h(e),O(t,a)}}}function oe(j){console.error("🚨 [ContinuousTraining] ストレージエラー:",j)}function re(){console.log("✅ [ContinuousTraining] セッション完了")}function ie(){console.log("🎉 [ContinuousTraining] 8セッション完了！")}function ce(j,e,t){let n=!1,a=!0,l=!1;Q(()=>{t(2,l=!0),typeof localStorage<"u"&&(t(0,n=localStorage.getItem("mic-test-completed")==="true"),console.log("🎤 [ContinuousTraining] マイクテスト完了フラグ:",n))});function s(u){console.error("🚨 [ContinuousTraining] マイクロフォンエラー:",u),P(`${q}/microphone-test?mode=continuous`)}function r(){t(1,a=!1)}return[n,a,l,s,r,()=>P(`${q}/microphone-test?mode=continuous`)]}class je extends N{constructor(e){super(),U(this,e,ce,ae,K,{})}}export{je as component,pe as universal};
