import{S as he,i as me,s as fe,d as T,n as x,a as de,D as le,b as p,K as h,z as v,f as oe,g as i,h as b,j as g,k as N,m as A,o as y,p as M,V as ve,e as K,O as ue,A as Z,l as O,t as G}from"./EvMzC0aQ.js";import"./DrEUfQCr.js";const Y="src/lib/components/VolumeBar.svelte";function $(n){let e,s,l,I,c,a;const m={c:function(){e=y("div"),s=y("div"),l=y("div"),I=M(),c=y("div"),this.h()},l:function(o){e=g(o,"DIV",{class:!0});var r=N(e);s=g(r,"DIV",{class:!0,style:!0});var f=N(s);l=g(f,"DIV",{class:!0,style:!0}),N(l).forEach(p),f.forEach(p),I=A(r),c=g(r,"DIV",{class:!0,style:!0}),N(c).forEach(p),r.forEach(p),this.h()},h:function(){v(l,"class","volume-bar-fill"),h(l,"position","absolute"),h(l,"top","0"),h(l,"left","0"),h(l,"height","100%"),b(l,Y,46,4,1363),v(s,"class","volume-bar-bg"),h(s,"height",n[1]),h(s,"border-radius","9999px"),h(s,"background-color","#e2e8f0"),h(s,"position","relative"),h(s,"overflow","hidden"),b(s,Y,45,2,1217),v(c,"class","threshold-indicator svelte-13z7ppf"),h(c,"position","absolute"),h(c,"top","0"),h(c,"left",n[0]+"%"),h(c,"width","2px"),h(c,"height",n[1]),h(c,"background-color","#64748b"),h(c,"border-radius","1px"),b(c,Y,54,2,1542),v(e,"class",a="volume-bar-container "+n[2]+" svelte-13z7ppf"),b(e,Y,44,0,1168)},m:function(o,r){oe(o,e,r),i(e,s),i(s,l),n[5](l),i(e,I),i(e,c)},p:function(o,[r]){r&2&&h(s,"height",o[1]),r&1&&h(c,"left",o[0]+"%"),r&2&&h(c,"height",o[1]),r&4&&a!==(a="volume-bar-container "+o[2]+" svelte-13z7ppf")&&v(e,"class",a)},i:x,o:x,d:function(o){o&&p(e),n[5](null)}};return T("SvelteRegisterBlock",{block:m,id:$.name,type:"component",source:"",ctx:n}),m}function be(n,e,s){let{$$slots:l={},$$scope:I}=e;de("VolumeBar",l,[]);let{volume:c=0}=e,{threshold:a=30}=e,{height:m="12px"}=e,{className:u=""}=e,o;function r(t){return t<a?"#94a3b8":t<60?"#10b981":t<80?"#f59e0b":"#ef4444"}function f(t){if(o){const P=Math.max(0,Math.min(100,t)),j=r(P);s(3,o.style.width=`${P}%`,o),s(3,o.style.backgroundColor=j,o)}}le(()=>{o&&(s(3,o.style.width="0%",o),s(3,o.style.backgroundColor="#94a3b8",o),s(3,o.style.height=m,o),s(3,o.style.borderRadius="9999px",o),s(3,o.style.transition="all 0.1s ease-out",o))});const B=["volume","threshold","height","className"];Object.keys(e).forEach(t=>{!~B.indexOf(t)&&t.slice(0,2)!=="$$"&&t!=="slot"&&console.warn(`<VolumeBar> was created with unknown prop '${t}'`)});function q(t){ve[t?"unshift":"push"](()=>{o=t,s(3,o)})}return n.$$set=t=>{"volume"in t&&s(4,c=t.volume),"threshold"in t&&s(0,a=t.threshold),"height"in t&&s(1,m=t.height),"className"in t&&s(2,u=t.className)},n.$capture_state=()=>({onMount:le,volume:c,threshold:a,height:m,className:u,barElement:o,getVolumeColor:r,updateVolumeBar:f}),n.$inject_state=t=>{"volume"in t&&s(4,c=t.volume),"threshold"in t&&s(0,a=t.threshold),"height"in t&&s(1,m=t.height),"className"in t&&s(2,u=t.className),"barElement"in t&&s(3,o=t.barElement)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&16&&f(c)},[a,m,u,o,c,q]}class pe extends he{constructor(e){super(e),me(this,e,be,$,fe,{volume:4,threshold:0,height:1,className:2}),T("SvelteRegisterComponent",{component:this,tagName:"VolumeBar",options:e,id:$.name})}get volume(){throw new Error("<VolumeBar>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set volume(e){throw new Error("<VolumeBar>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get threshold(){throw new Error("<VolumeBar>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set threshold(e){throw new Error("<VolumeBar>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get height(){throw new Error("<VolumeBar>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set height(e){throw new Error("<VolumeBar>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get className(){throw new Error("<VolumeBar>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set className(e){throw new Error("<VolumeBar>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const E="src/lib/components/PitchDisplay.svelte";function ee(n){let e,s,l="精度",I,c,a,m,u,o,r,f=se(n[3])+"",B,q,t,P=n[3]>0?"+":"",j,S=n[3].toFixed(1)+"",C,k;const J={c:function(){e=y("div"),s=y("div"),s.textContent=l,I=M(),c=y("div"),a=y("div"),m=M(),u=y("div"),o=M(),r=y("div"),B=G(f),q=M(),t=y("div"),j=G(P),C=G(S),k=G("%"),this.h()},l:function(w){e=g(w,"DIV",{class:!0});var d=N(e);s=g(d,"DIV",{class:!0,"data-svelte-h":!0}),Z(s)!=="svelte-4oi8f7"&&(s.textContent=l),I=A(d),c=g(d,"DIV",{class:!0});var F=N(c);a=g(F,"DIV",{class:!0,style:!0}),N(a).forEach(p),m=A(F),u=g(F,"DIV",{class:!0}),N(u).forEach(p),F.forEach(p),o=A(d),r=g(d,"DIV",{class:!0,style:!0});var H=N(r);B=O(H,f),H.forEach(p),q=A(d),t=g(d,"DIV",{class:!0});var R=N(t);j=O(R,P),C=O(R,S),k=O(R,"%"),R.forEach(p),d.forEach(p),this.h()},h:function(){v(s,"class","label svelte-17lpbmi"),b(s,E,70,6,1917),v(a,"class","accuracy-bar svelte-17lpbmi"),h(a,"background-color",Q(n[3])),h(a,"width",Math.abs(n[3])+"%"),b(a,E,72,8,1996),v(u,"class","accuracy-center svelte-17lpbmi"),b(u,E,73,8,2122),v(c,"class","accuracy-bar-container svelte-17lpbmi"),b(c,E,71,6,1951),v(r,"class","accuracy-text svelte-17lpbmi"),h(r,"color",Q(n[3])),b(r,E,75,6,2177),v(t,"class","accuracy-value svelte-17lpbmi"),b(t,E,78,6,2307),v(e,"class","accuracy-display svelte-17lpbmi"),b(e,E,69,4,1880)},m:function(w,d){oe(w,e,d),i(e,s),i(e,I),i(e,c),i(c,a),i(c,m),i(c,u),i(e,o),i(e,r),i(r,B),i(e,q),i(e,t),i(t,j),i(t,C),i(t,k)},p:function(w,d){d&8&&h(a,"background-color",Q(w[3])),d&8&&h(a,"width",Math.abs(w[3])+"%"),d&8&&f!==(f=se(w[3])+"")&&K(B,f),d&8&&h(r,"color",Q(w[3])),d&8&&P!==(P=w[3]>0?"+":"")&&K(j,P),d&8&&S!==(S=w[3].toFixed(1)+"")&&K(C,S)},d:function(w){w&&p(e)}};return T("SvelteRegisterBlock",{block:J,id:ee.name,type:"if",source:"(69:2) {#if isDetecting && currentNote}",ctx:n}),J}function te(n){let e,s,l,I="目標音程",c,a,m=n[6](n[1])+"",u,o,r,f,B="現在の音程",q,t,P=(n[4]&&n[6](n[2])||"---")+"",j,S,C,k,J="周波数",z,w,d=ne(n[0])+"",F,H,R,V=n[4]&&n[2]&&ee(n);const ce={c:function(){e=y("div"),s=y("div"),l=y("div"),l.textContent=I,c=M(),a=y("div"),u=G(m),o=M(),r=y("div"),f=y("div"),f.textContent=B,q=M(),t=y("div"),j=G(P),S=M(),C=y("div"),k=y("div"),k.textContent=J,z=M(),w=y("div"),F=G(d),H=M(),V&&V.c(),this.h()},l:function(_){e=g(_,"DIV",{class:!0});var D=N(e);s=g(D,"DIV",{class:!0});var U=N(s);l=g(U,"DIV",{class:!0,"data-svelte-h":!0}),Z(l)!=="svelte-101q5wq"&&(l.textContent=I),c=A(U),a=g(U,"DIV",{class:!0});var re=N(a);u=O(re,m),re.forEach(p),U.forEach(p),o=A(D),r=g(D,"DIV",{class:!0});var W=N(r);f=g(W,"DIV",{class:!0,"data-svelte-h":!0}),Z(f)!=="svelte-1p184h3"&&(f.textContent=B),q=A(W),t=g(W,"DIV",{class:!0});var ie=N(t);j=O(ie,P),ie.forEach(p),W.forEach(p),S=A(D),C=g(D,"DIV",{class:!0});var X=N(C);k=g(X,"DIV",{class:!0,"data-svelte-h":!0}),Z(k)!=="svelte-1iigar3"&&(k.textContent=J),z=A(X),w=g(X,"DIV",{class:!0});var ae=N(w);F=O(ae,d),ae.forEach(p),X.forEach(p),H=A(D),V&&V.l(D),D.forEach(p),this.h()},h:function(){v(l,"class","label svelte-17lpbmi"),b(l,E,49,4,1306),v(a,"class","note-name target svelte-17lpbmi"),b(a,E,50,4,1340),v(s,"class","target-note svelte-17lpbmi"),b(s,E,48,2,1276),v(f,"class","label svelte-17lpbmi"),b(f,E,55,4,1469),v(t,"class","note-name current svelte-17lpbmi"),ue(t,"detecting",n[4]),b(t,E,56,4,1504),v(r,"class","current-note svelte-17lpbmi"),b(r,E,54,2,1438),v(k,"class","label svelte-17lpbmi"),b(k,E,63,4,1711),v(w,"class","frequency-value svelte-17lpbmi"),b(w,E,64,4,1744),v(C,"class","frequency-display svelte-17lpbmi"),b(C,E,62,2,1675),v(e,"class",R="pitch-display "+n[5]+" svelte-17lpbmi"),b(e,E,46,0,1216)},m:function(_,D){oe(_,e,D),i(e,s),i(s,l),i(s,c),i(s,a),i(a,u),i(e,o),i(e,r),i(r,f),i(r,q),i(r,t),i(t,j),i(e,S),i(e,C),i(C,k),i(C,z),i(C,w),i(w,F),i(e,H),V&&V.m(e,null)},p:function(_,[D]){D&2&&m!==(m=_[6](_[1])+"")&&K(u,m),D&20&&P!==(P=(_[4]&&_[6](_[2])||"---")+"")&&K(j,P),D&16&&ue(t,"detecting",_[4]),D&1&&d!==(d=ne(_[0])+"")&&K(F,d),_[4]&&_[2]?V?V.p(_,D):(V=ee(_),V.c(),V.m(e,null)):V&&(V.d(1),V=null),D&32&&R!==(R="pitch-display "+_[5]+" svelte-17lpbmi")&&v(e,"class",R)},i:x,o:x,d:function(_){_&&p(e),V&&V.d()}};return T("SvelteRegisterBlock",{block:ce,id:te.name,type:"component",source:"",ctx:n}),ce}function Q(n){const e=Math.abs(n);return e<=10?"#10b981":e<=25?"#f59e0b":"#ef4444"}function se(n){const e=Math.abs(n);return e<=10?"素晴らしい！":e<=25?"もう少し！":"調整が必要"}function ne(n){return n>0?`${n.toFixed(1)} Hz`:"--.- Hz"}function ge(n,e,s){let{$$slots:l={},$$scope:I}=e;de("PitchDisplay",l,[]);let{frequency:c=0}=e,{targetNote:a="C"}=e,{currentNote:m=""}=e,{accuracy:u=0}=e,{isDetecting:o=!1}=e,{className:r=""}=e;const f={C:"ド","C#":"ド#",Db:"レ♭",D:"レ","D#":"レ#",Eb:"ミ♭",E:"ミ",F:"ファ","F#":"ファ#",Gb:"ソ♭",G:"ソ","G#":"ソ#",Ab:"ラ♭",A:"ラ","A#":"ラ#",Bb:"シ♭",B:"シ"};function B(t){return f[t]||t}const q=["frequency","targetNote","currentNote","accuracy","isDetecting","className"];return Object.keys(e).forEach(t=>{!~q.indexOf(t)&&t.slice(0,2)!=="$$"&&t!=="slot"&&console.warn(`<PitchDisplay> was created with unknown prop '${t}'`)}),n.$$set=t=>{"frequency"in t&&s(0,c=t.frequency),"targetNote"in t&&s(1,a=t.targetNote),"currentNote"in t&&s(2,m=t.currentNote),"accuracy"in t&&s(3,u=t.accuracy),"isDetecting"in t&&s(4,o=t.isDetecting),"className"in t&&s(5,r=t.className)},n.$capture_state=()=>({frequency:c,targetNote:a,currentNote:m,accuracy:u,isDetecting:o,className:r,noteNames:f,getAccuracyColor:Q,getAccuracyMessage:se,formatFrequency:ne,formatNoteName:B}),n.$inject_state=t=>{"frequency"in t&&s(0,c=t.frequency),"targetNote"in t&&s(1,a=t.targetNote),"currentNote"in t&&s(2,m=t.currentNote),"accuracy"in t&&s(3,u=t.accuracy),"isDetecting"in t&&s(4,o=t.isDetecting),"className"in t&&s(5,r=t.className)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[c,a,m,u,o,r,B]}class _e extends he{constructor(e){super(e),me(this,e,ge,te,fe,{frequency:0,targetNote:1,currentNote:2,accuracy:3,isDetecting:4,className:5}),T("SvelteRegisterComponent",{component:this,tagName:"PitchDisplay",options:e,id:te.name})}get frequency(){throw new Error("<PitchDisplay>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set frequency(e){throw new Error("<PitchDisplay>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get targetNote(){throw new Error("<PitchDisplay>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set targetNote(e){throw new Error("<PitchDisplay>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get currentNote(){throw new Error("<PitchDisplay>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set currentNote(e){throw new Error("<PitchDisplay>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get accuracy(){throw new Error("<PitchDisplay>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set accuracy(e){throw new Error("<PitchDisplay>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get isDetecting(){throw new Error("<PitchDisplay>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set isDetecting(e){throw new Error("<PitchDisplay>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get className(){throw new Error("<PitchDisplay>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set className(e){throw new Error("<PitchDisplay>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{_e as P,pe as V};
