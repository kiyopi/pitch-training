import { c as create_ssr_component, a as validate_store, b as subscribe, v as validate_component } from "../../../chunks/ssr.js";
import { p as page } from "../../../chunks/stores.js";
import "../../../chunks/client.js";
import { C as Card } from "../../../chunks/Card.js";
import { P as PageLayout } from "../../../chunks/PageLayout.js";
import { P as PitchDetectionDisplay, a as PitchDetector_1 } from "../../../chunks/PitchDetectionDisplay.js";
import "../../../chunks/PitchDetectionDisplay.svelte_svelte_type_style_lang.js";
const css = {
  code: '.microphone-test.svelte-29ezg5.svelte-29ezg5{max-width:800px;margin:0 auto;display:flex;flex-direction:column;gap:var(--space-6)}.header.svelte-29ezg5.svelte-29ezg5{text-align:center}.mic-test-header.svelte-29ezg5.svelte-29ezg5{display:flex;align-items:center;justify-content:center;gap:var(--space-4);margin-bottom:var(--space-4)}.mic-icon.svelte-29ezg5.svelte-29ezg5{width:64px;height:64px;border-radius:50%;background-color:#dbeafe;color:#2563eb;display:flex;align-items:center;justify-content:center;flex-shrink:0}.mic-test-title.svelte-29ezg5.svelte-29ezg5{font-size:var(--text-2xl);font-weight:700;color:var(--color-gray-900);margin:0 0 var(--space-2) 0}.mic-test-description.svelte-29ezg5.svelte-29ezg5{font-size:var(--text-base);color:var(--color-gray-600);margin:0}.training-mode-info.svelte-29ezg5.svelte-29ezg5{margin-bottom:var(--space-6)}.training-mode-content.svelte-29ezg5.svelte-29ezg5{text-align:center}.instructions-title.svelte-29ezg5.svelte-29ezg5{font-size:var(--text-xl);font-weight:600;color:var(--color-gray-900);margin:var(--space-4) 0 var(--space-2) 0;text-align:center}.instructions-description.svelte-29ezg5.svelte-29ezg5{font-size:var(--text-sm);color:var(--color-gray-600);margin:0;text-align:center}.status-text.svelte-29ezg5.svelte-29ezg5{font-size:var(--text-lg);font-weight:600;color:var(--color-gray-900);margin:var(--space-6) 0;text-align:center}.ready-title.svelte-29ezg5.svelte-29ezg5{font-size:var(--text-xl);font-weight:600;color:#2563eb;margin:var(--space-4) 0 var(--space-2) 0;text-align:center}.ready-description.svelte-29ezg5.svelte-29ezg5{font-size:var(--text-sm);color:var(--color-gray-600);margin:0 0 var(--space-6) 0;text-align:center}.mic-test-button-area.svelte-29ezg5.svelte-29ezg5,.training-start-button-area.svelte-29ezg5.svelte-29ezg5{margin-top:var(--space-6);display:flex;justify-content:center}.mic-test-button.svelte-29ezg5.svelte-29ezg5{max-width:300px;width:100%;padding:12px 16px;border:none;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:background-color 0.2s ease-in-out;display:flex;align-items:center;justify-content:center;gap:8px}.mic-test-button.start.svelte-29ezg5.svelte-29ezg5{background-color:#2563eb;color:white}.mic-test-button.start.svelte-29ezg5.svelte-29ezg5:hover{background-color:#1d4ed8}.mic-test-button.retry.svelte-29ezg5.svelte-29ezg5{background-color:#dc2626;color:white}.mic-test-button.retry.svelte-29ezg5.svelte-29ezg5:hover{background-color:#b91c1c}.training-start-button.svelte-29ezg5.svelte-29ezg5{max-width:300px;width:100%;padding:12px 16px;border:none;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:background-color 0.2s ease-in-out;display:flex;align-items:center;justify-content:center;gap:8px;background-color:#059669;color:white}.training-start-button.enabled.svelte-29ezg5.svelte-29ezg5:hover{background-color:#047857}.ready-title.svelte-29ezg5.svelte-29ezg5{color:#059669;font-size:var(--text-lg);font-weight:600;text-align:center;margin-bottom:var(--space-2)}.ready-description.svelte-29ezg5.svelte-29ezg5{color:#6b7280;text-align:center;margin-bottom:var(--space-4)}@media(min-width: 768px){.mic-test-header.svelte-29ezg5.svelte-29ezg5{flex-direction:row;text-align:left}}.main-card{border:1px solid hsl(214.3 31.8% 91.4%) !important;background:hsl(0 0% 100%) !important;border-radius:8px !important;box-shadow:0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px 0 rgb(0 0 0 / 0.06) !important;margin-bottom:1.5rem}.vocal-range-option.svelte-29ezg5.svelte-29ezg5{margin:var(--space-6) 0;text-align:center}.vocal-range-prompt.svelte-29ezg5.svelte-29ezg5{font-size:var(--text-base);color:var(--color-gray-600);margin-bottom:var(--space-4)}.button-group.svelte-29ezg5.svelte-29ezg5{display:flex;gap:var(--space-3);justify-content:center}.button-primary.svelte-29ezg5.svelte-29ezg5{background-color:hsl(222.2 47.4% 11.2%);color:hsl(210 40% 98%);padding:10px 16px;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:opacity 0.2s}.button-primary.svelte-29ezg5.svelte-29ezg5:hover{opacity:0.9}.button-secondary.svelte-29ezg5.svelte-29ezg5{background-color:hsl(210 40% 96.1%);color:hsl(222.2 47.4% 11.2%);padding:10px 16px;border:1px solid hsl(214.3 31.8% 91.4%);border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all 0.2s}.button-secondary.svelte-29ezg5.svelte-29ezg5:hover{background-color:hsl(214.3 31.8% 91.4%)}.button-ghost.svelte-29ezg5.svelte-29ezg5{background-color:transparent;color:hsl(222.2 47.4% 11.2%);padding:10px 16px;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all 0.2s}.button-ghost.svelte-29ezg5.svelte-29ezg5:hover{background-color:hsl(210 40% 96.1%)}.vocal-range-modal-overlay.svelte-29ezg5.svelte-29ezg5{position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0, 0, 0, 0.5);display:flex;align-items:center;justify-content:center;z-index:1000}.vocal-range-modal.svelte-29ezg5.svelte-29ezg5{max-width:500px;width:90%;max-height:90vh;overflow-y:auto}.vocal-range-content.svelte-29ezg5.svelte-29ezg5{text-align:center;padding:var(--space-4)}.vocal-range-title.svelte-29ezg5.svelte-29ezg5{font-size:var(--text-2xl);font-weight:700;color:var(--color-gray-900);margin:0 0 var(--space-4) 0}.vocal-range-description.svelte-29ezg5.svelte-29ezg5{font-size:var(--text-base);color:var(--color-gray-600);line-height:1.6;margin-bottom:var(--space-6)}.vocal-range-steps.svelte-29ezg5.svelte-29ezg5{display:flex;flex-direction:column;gap:var(--space-4);margin:var(--space-6) 0}.step.svelte-29ezg5.svelte-29ezg5{display:flex;align-items:center;gap:var(--space-4);background-color:hsl(210 40% 96.1%);padding:var(--space-4);border-radius:8px}.step-number.svelte-29ezg5.svelte-29ezg5{width:32px;height:32px;background-color:hsl(222.2 47.4% 11.2%);color:white;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:600}.step-text.svelte-29ezg5.svelte-29ezg5{flex:1;text-align:left;color:var(--color-gray-700)}.vocal-range-instruction.svelte-29ezg5.svelte-29ezg5{font-size:var(--text-lg);color:var(--color-gray-700);margin-bottom:var(--space-6)}.countdown.svelte-29ezg5.svelte-29ezg5{font-size:64px;font-weight:700;color:hsl(222.2 47.4% 11.2%);margin:var(--space-8) 0}.recording-indicator.svelte-29ezg5.svelte-29ezg5{display:flex;align-items:center;justify-content:center;gap:var(--space-3);margin:var(--space-6) 0;font-size:var(--text-lg);color:#dc2626}.recording-dot.svelte-29ezg5.svelte-29ezg5{width:12px;height:12px;background-color:#dc2626;border-radius:50%;animation:svelte-29ezg5-pulse 1.5s infinite}@keyframes svelte-29ezg5-pulse{0%{opacity:1;transform:scale(1)}50%{opacity:0.5;transform:scale(1.1)}100%{opacity:1;transform:scale(1)}}.current-note-display.svelte-29ezg5.svelte-29ezg5{background-color:hsl(210 40% 96.1%);padding:var(--space-6);border-radius:12px;margin:var(--space-6) 0;transition:all 0.3s ease;border:2px solid transparent}.current-note-display.detecting.svelte-29ezg5.svelte-29ezg5{background-color:hsl(142 71% 45% / 0.05);border-color:hsl(142 71% 45% / 0.3)}.note-label.svelte-29ezg5.svelte-29ezg5{font-size:var(--text-sm);color:var(--color-gray-600);margin-bottom:var(--space-2)}.note-value.svelte-29ezg5.svelte-29ezg5{font-size:48px;font-weight:700;color:hsl(222.2 47.4% 11.2%);margin-bottom:var(--space-2)}.frequency-value.svelte-29ezg5.svelte-29ezg5{font-size:var(--text-base);color:var(--color-gray-600)}.result-display.svelte-29ezg5.svelte-29ezg5{margin-top:var(--space-6)}.result-display.svelte-29ezg5 p.svelte-29ezg5{font-size:var(--text-lg);color:var(--color-gray-700);margin-bottom:var(--space-4)}.vocal-range-result.svelte-29ezg5.svelte-29ezg5{background-color:hsl(210 40% 96.1%);padding:var(--space-6);border-radius:12px;margin:var(--space-6) 0}.result-item.svelte-29ezg5.svelte-29ezg5{display:flex;flex-direction:column;gap:var(--space-2)}.result-label.svelte-29ezg5.svelte-29ezg5{font-size:var(--text-sm);color:var(--color-gray-600)}.result-value.svelte-29ezg5.svelte-29ezg5{font-size:var(--text-2xl);font-weight:700;color:hsl(222.2 47.4% 11.2%)}.vocal-range-complete-message.svelte-29ezg5.svelte-29ezg5{font-size:var(--text-base);color:var(--color-gray-600);line-height:1.6;margin-bottom:var(--space-6)}.result-display.success.svelte-29ezg5.svelte-29ezg5{background-color:hsl(142 71% 45% / 0.1);border:1px solid hsl(142 71% 45% / 0.3);padding:var(--space-4);border-radius:8px;margin-top:var(--space-4)}.success-icon.svelte-29ezg5.svelte-29ezg5{font-size:32px;color:hsl(142 71% 45%);margin-bottom:var(--space-2)}.success-message.svelte-29ezg5.svelte-29ezg5{color:hsl(142 71% 35%);font-size:var(--text-base);margin-bottom:var(--space-4)}.success-message.svelte-29ezg5 strong.svelte-29ezg5{font-weight:700;font-size:var(--text-lg)}.retry-message.svelte-29ezg5.svelte-29ezg5{background-color:hsl(48 96% 89%);border:1px solid hsl(48 96% 89% / 0.5);padding:var(--space-3);border-radius:8px;margin-top:var(--space-4)}.retry-message.svelte-29ezg5 p.svelte-29ezg5{color:hsl(45 93% 25%);font-size:var(--text-sm);margin:0}.data-persistence-info.svelte-29ezg5.svelte-29ezg5{background-color:hsl(210 40% 96.1%);padding:var(--space-4);border-radius:8px;margin:var(--space-4) 0;text-align:left}.info-title.svelte-29ezg5.svelte-29ezg5{font-weight:600;color:var(--color-gray-900);margin-bottom:var(--space-2)}.data-persistence-info.svelte-29ezg5 ul.svelte-29ezg5{list-style:none;padding:0;margin:0}.data-persistence-info.svelte-29ezg5 li.svelte-29ezg5{font-size:var(--text-sm);color:var(--color-gray-600);padding-left:var(--space-4);position:relative;margin-bottom:var(--space-1)}.data-persistence-info.svelte-29ezg5 li.svelte-29ezg5:before{content:"â€¢";position:absolute;left:0;color:var(--color-gray-400)}.detecting-indicator.svelte-29ezg5.svelte-29ezg5{font-size:var(--text-sm);color:hsl(142 71% 45%);margin-top:var(--space-2);font-weight:500}.existing-vocal-range.svelte-29ezg5.svelte-29ezg5{background-color:hsl(210 40% 96.1%);border:1px solid hsl(214.3 31.8% 91.4%);border-radius:12px;padding:var(--space-4);margin:var(--space-4) 0}.existing-range-header.svelte-29ezg5.svelte-29ezg5{display:flex;align-items:center;gap:var(--space-3);margin-bottom:var(--space-3)}.range-icon.svelte-29ezg5.svelte-29ezg5{font-size:24px;flex-shrink:0}.range-info.svelte-29ezg5.svelte-29ezg5{flex:1;text-align:left}.range-title.svelte-29ezg5.svelte-29ezg5{font-size:var(--text-base);font-weight:600;color:var(--color-gray-900);margin:0 0 var(--space-1) 0}.range-value.svelte-29ezg5.svelte-29ezg5{font-size:var(--text-lg);font-weight:700;color:hsl(222.2 47.4% 11.2%);margin:0 0 var(--space-1) 0}.range-date.svelte-29ezg5.svelte-29ezg5{font-size:var(--text-sm);color:var(--color-gray-600);margin:0}.range-actions.svelte-29ezg5.svelte-29ezg5{display:flex;justify-content:flex-end}.button-ghost.small.svelte-29ezg5.svelte-29ezg5{padding:6px 12px;font-size:var(--text-sm)}',
  map: `{"version":3,"file":"+page.svelte","sources":["+page.svelte"],"sourcesContent":["<script>\\n  import { onMount } from 'svelte';\\n  import { page } from '$app/stores';\\n  import { goto } from '$app/navigation';\\n  import { base } from '$app/paths';\\n  import Card from '$lib/components/Card.svelte';\\n  import Button from '$lib/components/Button.svelte';\\n  import PageLayout from '$lib/components/PageLayout.svelte';\\n  import PitchDetector from '$lib/components/PitchDetector.svelte';\\n  import PitchDetectionDisplay from '$lib/components/PitchDetectionDisplay.svelte';\\n  import VolumeBar from '$lib/components/VolumeBar.svelte';\\n  import { audioManager } from '$lib/audio/AudioManager.js';\\n  \\n  // URL ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‹ã‚‰ mode ã‚’å–å¾—\\n  let mode = 'random';\\n  \\n  onMount(() => {\\n    if ($page.url.searchParams.has('mode')) {\\n      mode = $page.url.searchParams.get('mode') || 'random';\\n    }\\n    \\n    // æ—¢å­˜ã®éŸ³åŸŸãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºèª\\n    checkExistingVocalRange();\\n  });\\n  \\n  // æ—¢å­˜éŸ³åŸŸãƒ‡ãƒ¼ã‚¿ç¢ºèª\\n  function checkExistingVocalRange() {\\n    if (typeof localStorage !== 'undefined') {\\n      const savedRange = localStorage.getItem('vocal-range');\\n      if (savedRange) {\\n        try {\\n          existingVocalRange = JSON.parse(savedRange);\\n          console.log('æ—¢å­˜éŸ³åŸŸãƒ‡ãƒ¼ã‚¿ç™ºè¦‹:', existingVocalRange);\\n        } catch (error) {\\n          console.error('éŸ³åŸŸãƒ‡ãƒ¼ã‚¿è§£æã‚¨ãƒ©ãƒ¼:', error);\\n          existingVocalRange = null;\\n        }\\n      }\\n    }\\n  }\\n\\n  // ãƒã‚¤ã‚¯ãƒ†ã‚¹ãƒˆçŠ¶æ…‹ç®¡ç†ï¼ˆã‚·ãƒ³ãƒ—ãƒ«ç‰ˆï¼‰\\n  let micPermission = 'initial'; // 'initial' | 'pending' | 'granted' | 'denied'\\n\\n  // éŸ³ç¨‹æ¤œå‡º\\n  let currentVolume = 0;\\n  let currentFrequency = 0;\\n  let detectedNote = 'ãƒ¼ãƒ¼';\\n  let pitchDetectorComponent = null;\\n\\n  // éŸ³åŸŸæ¸¬å®šçŠ¶æ…‹\\n  let showVocalRangeTest = false;\\n  let vocalRangeStep = 'intro'; // 'intro' | 'low' | 'high' | 'complete'\\n  let lowestNote = null;\\n  let lowestFrequency = null;\\n  let highestNote = null;\\n  let highestFrequency = null;\\n  let isRecording = false;\\n  let recordingCountdown = 0;\\n  \\n  // æ—¢å­˜éŸ³åŸŸãƒ‡ãƒ¼ã‚¿\\n  let existingVocalRange = null;\\n\\n  // ãƒ‡ãƒã‚¤ã‚¹æ¤œå‡ºï¼ˆAudioManagerçµ±ä¸€ç‰ˆï¼‰\\n  let platformSpecs = null;\\n  \\n  onMount(() => {\\n    // AudioManagerã‹ã‚‰çµ±ä¸€è¨­å®šã‚’å–å¾—\\n    platformSpecs = audioManager.getPlatformSpecs();\\n  });\\n\\n  // ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ¢ãƒ¼ãƒ‰è¨­å®š\\n  const trainingModes = {\\n    random: {\\n      name: 'ãƒ©ãƒ³ãƒ€ãƒ åŸºéŸ³ãƒ¢ãƒ¼ãƒ‰',\\n      description: '10ç¨®é¡ã®åŸºéŸ³ã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ ã«é¸æŠã—ã¦ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°',\\n      color: 'green',\\n      path: '/training/random'\\n    },\\n    continuous: {\\n      name: 'é€£ç¶šãƒãƒ£ãƒ¬ãƒ³ã‚¸ãƒ¢ãƒ¼ãƒ‰',\\n      description: 'é¸æŠã—ãŸå›æ•°ã ã‘é€£ç¶šã§å®Ÿè¡Œã—ã€ç·åˆè©•ä¾¡ã‚’ç¢ºèª',\\n      color: 'orange',\\n      path: '/training/continuous'\\n    },\\n    chromatic: {\\n      name: '12éŸ³éšãƒ¢ãƒ¼ãƒ‰',\\n      description: 'ã‚¯ãƒ­ãƒãƒãƒƒã‚¯ã‚¹ã‚±ãƒ¼ãƒ«ã®ä¸Šè¡Œãƒ»ä¸‹è¡Œã§å®Œå…¨åˆ¶è¦‡',\\n      color: 'purple',\\n      path: '/training/chromatic'\\n    }\\n  };\\n\\n  const selectedMode = trainingModes[mode] || trainingModes.random;\\n  \\n  // ãƒã‚¤ã‚¯è¨±å¯ç¢ºèªï¼ˆã‚·ãƒ³ãƒ—ãƒ«ç‰ˆ - ãƒ©ãƒ³ãƒ€ãƒ åŸºéŸ³ãƒšãƒ¼ã‚¸ã‹ã‚‰ç§»æ¤ï¼‰\\n  async function requestMicrophone() {\\n    micPermission = 'pending';\\n    \\n    try {\\n      console.log('ğŸ¤ [MicTest] ãƒã‚¤ã‚¯è¨±å¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆé–‹å§‹');\\n      \\n      if (!navigator.mediaDevices?.getUserMedia) {\\n        micPermission = 'denied';\\n        console.error('âŒ [MicTest] getUserMediaãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“');\\n        return;\\n      }\\n      \\n      // AudioManagerã‹ã‚‰å…±æœ‰ãƒªã‚½ãƒ¼ã‚¹ã‚’å–å¾—ï¼ˆåˆå›ã®ã¿ãƒã‚¤ã‚¯è¨±å¯ãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤ºï¼‰\\n      const resources = await audioManager.initialize();\\n      console.log('âœ… [MicTest] AudioManager ãƒªã‚½ãƒ¼ã‚¹å–å¾—å®Œäº†');\\n      \\n      // ãƒã‚¤ã‚¯è¨±å¯ãŒå–å¾—ã§ããŸã“ã¨ã‚’ç¢ºèª\\n      if (resources.mediaStream && resources.audioContext) {\\n        micPermission = 'granted';\\n        console.log('âœ… [MicTest] ãƒã‚¤ã‚¯è¨±å¯å®Œäº†');\\n        \\n        // iPadãƒã‚¤ã‚¯å®‰å®šåŒ–å‡¦ç†\\n        await onMicrophoneGranted();\\n        \\n        // PitchDetectoråˆæœŸåŒ–ï¼ˆãƒã‚¤ã‚¯è¨±å¯å¾Œï¼‰\\n        // Safariå¯¾å¿œ: ã‚ˆã‚Šé•·ã„å¾…æ©Ÿæ™‚é–“ã§MediaStreamå®‰å®šåŒ–\\n        setTimeout(async () => {\\n          if (pitchDetectorComponent) {\\n            console.log('ğŸ™ï¸ [MicTest] PitchDetectoråˆæœŸåŒ–é–‹å§‹');\\n            \\n            await pitchDetectorComponent.initialize();\\n            console.log('âœ… [MicTest] PitchDetectoråˆæœŸåŒ–å®Œäº†');\\n            \\n            // ãƒªã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªisActiveã§è‡ªå‹•æ¤œå‡ºé–‹å§‹ã•ã‚Œã‚‹ãŸã‚æ‰‹å‹•å‘¼ã³å‡ºã—ä¸è¦\\n            console.log('ğŸ¯ [MicTest] PitchDetector isActiveãƒªã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã§è‡ªå‹•æ¤œå‡ºé–‹å§‹');\\n          }\\n        }, 1000);\\n      } else {\\n        throw new Error('ãƒªã‚½ãƒ¼ã‚¹å–å¾—å¤±æ•—');\\n      }\\n      \\n    } catch (error) {\\n      console.error('âŒ [MicTest] ãƒã‚¤ã‚¯è¨±å¯ã‚¨ãƒ©ãƒ¼:', error);\\n      micPermission = (error?.name === 'NotAllowedError') ? 'denied' : 'denied';\\n    }\\n  }\\n  \\n  // ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°é–‹å§‹é–¢æ•°\\n  function startTraining() {\\n    console.log('ğŸš€ [MicTest] ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°é–‹å§‹ - ãƒ©ãƒ³ãƒ€ãƒ åŸºéŸ³ãƒ¢ãƒ¼ãƒ‰ã¸é·ç§»');\\n    // ãƒã‚¤ã‚¯ãƒ†ã‚¹ãƒˆå®Œäº†ãƒ•ãƒ©ã‚°ã‚’ä¿å­˜\\n    localStorage.setItem('mic-test-completed', 'true');\\n    console.log('âœ… [MicTest] ãƒã‚¤ã‚¯ãƒ†ã‚¹ãƒˆå®Œäº†ãƒ•ãƒ©ã‚°ã‚’ä¿å­˜');\\n    goto(\`\${base}\${selectedMode.path}?from=microphone-test\`);\\n  }\\n\\n  // éŸ³åŸŸæ¸¬å®šé–‹å§‹\\n  function startVocalRangeTest() {\\n    showVocalRangeTest = true;\\n    vocalRangeStep = 'intro';\\n  }\\n\\n\\n  // ä½éŸ³æ¸¬å®šé–‹å§‹\\n  function startLowNoteTest() {\\n    vocalRangeStep = 'low';\\n    startRecording();\\n  }\\n\\n  // é«˜éŸ³æ¸¬å®šé–‹å§‹\\n  function startHighNoteTest() {\\n    vocalRangeStep = 'high';\\n    startRecording();\\n  }\\n\\n  // éŒ²éŸ³é–‹å§‹\\n  function startRecording() {\\n    isRecording = true;\\n    recordingCountdown = 3;\\n    \\n    // ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³\\n    const interval = setInterval(() => {\\n      recordingCountdown--;\\n      if (recordingCountdown <= 0) {\\n        clearInterval(interval);\\n        // 3ç§’é–“éŒ²éŸ³\\n        setTimeout(() => {\\n          stopRecording();\\n        }, 3000);\\n      }\\n    }, 1000);\\n  }\\n\\n  // éŒ²éŸ³åœæ­¢ã¨çµæœå‡¦ç†\\n  function stopRecording() {\\n    isRecording = false;\\n    \\n    if (vocalRangeStep === 'low') {\\n      // æœ€ä½éŸ³ã‚’è¨˜éŒ²ï¼ˆæœ‰åŠ¹ãªéŸ³ç¨‹ãŒæ¤œå‡ºã•ã‚ŒãŸå ´åˆã®ã¿ï¼‰\\n      if (detectedNote !== 'ãƒ¼ãƒ¼' && currentFrequency > 50) {\\n        lowestNote = detectedNote;\\n        lowestFrequency = currentFrequency;\\n        console.log('æœ€ä½éŸ³è¨˜éŒ²:', lowestNote, lowestFrequency);\\n      } else {\\n        // éŸ³ç¨‹ãŒæ¤œå‡ºã•ã‚Œãªã‹ã£ãŸå ´åˆã¯å†è©¦è¡Œ\\n        console.log('æœ€ä½éŸ³ãŒæ¤œå‡ºã•ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚');\\n        // å†åº¦éŒ²éŸ³é–‹å§‹\\n        setTimeout(() => {\\n          startRecording();\\n        }, 1000);\\n      }\\n    } else if (vocalRangeStep === 'high') {\\n      // æœ€é«˜éŸ³ã‚’è¨˜éŒ²\\n      if (detectedNote !== 'ãƒ¼ãƒ¼' && currentFrequency > 50) {\\n        highestNote = detectedNote;\\n        highestFrequency = currentFrequency;\\n        console.log('æœ€é«˜éŸ³è¨˜éŒ²:', highestNote, highestFrequency);\\n        \\n        // ä¸¡æ–¹è¨˜éŒ²ã§ããŸã‚‰å®Œäº†\\n        if (lowestNote && highestNote) {\\n          vocalRangeStep = 'complete';\\n          saveVocalRange();\\n        }\\n      } else {\\n        // éŸ³ç¨‹ãŒæ¤œå‡ºã•ã‚Œãªã‹ã£ãŸå ´åˆã¯å†è©¦è¡Œ\\n        console.log('æœ€é«˜éŸ³ãŒæ¤œå‡ºã•ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚');\\n        setTimeout(() => {\\n          startRecording();\\n        }, 1000);\\n      }\\n    }\\n  }\\n\\n  // éŸ³åŸŸãƒ‡ãƒ¼ã‚¿ä¿å­˜\\n  function saveVocalRange() {\\n    const vocalRangeData = {\\n      measured: true,\\n      measuredAt: new Date().toISOString(),\\n      lowestNote,\\n      lowestFrequency,\\n      highestNote,\\n      highestFrequency,\\n      range: \`\${lowestNote}-\${highestNote}\`\\n    };\\n    \\n    localStorage.setItem('vocal-range', JSON.stringify(vocalRangeData));\\n    console.log('éŸ³åŸŸãƒ‡ãƒ¼ã‚¿ä¿å­˜:', vocalRangeData);\\n  }\\n\\n  // éŸ³åŸŸæ¸¬å®šå®Œäº†\\n  function completeVocalRangeTest() {\\n    showVocalRangeTest = false;\\n    // æœ€æ–°ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿ç›´ã—\\n    checkExistingVocalRange();\\n  }\\n  \\n  // éŸ³åŸŸå†æ¸¬å®š\\n  function retestVocalRange() {\\n    // æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒªã‚¢\\n    existingVocalRange = null;\\n    lowestNote = null;\\n    lowestFrequency = null;\\n    highestNote = null;\\n    highestFrequency = null;\\n    \\n    // æ¸¬å®šé–‹å§‹\\n    startVocalRangeTest();\\n  }\\n\\n  // PitchDetectorã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‹ã‚‰ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼\\n  function handlePitchUpdate(event) {\\n    const { frequency, note, volume, rawVolume, clarity } = event.detail;\\n    \\n    currentFrequency = frequency;\\n    detectedNote = note;\\n    currentVolume = volume;\\n  }\\n  \\n  function handlePitchDetectorStateChange(event) {\\n    // ãƒ­ã‚°å‰Šé™¤ï¼ˆã‚·ãƒ³ãƒ—ãƒ«ç‰ˆï¼‰\\n  }\\n  \\n  function handlePitchDetectorError(event) {\\n    console.error('âŒ [MicTest] PitchDetectorã‚¨ãƒ©ãƒ¼:', event.detail);\\n    \\n    const { error, reason, recovery } = event.detail;\\n    \\n    // MediaStreamçµ‚äº†ã‚¨ãƒ©ãƒ¼ã®å ´åˆã¯è‡ªå‹•å¾©æ—§ã‚’è©¦è¡Œ\\n    if (reason === 'mediastream_ended' && recovery === 'restart_required') {\\n      console.log('ğŸ”„ [MicTest] MediaStreamçµ‚äº†æ¤œå‡º - è‡ªå‹•å¾©æ—§é–‹å§‹');\\n      \\n      // ãƒã‚¤ã‚¯è¨±å¯çŠ¶æ…‹ã‚’ãƒªã‚»ãƒƒãƒˆ\\n      micPermission = 'initial';\\n      \\n      // æ¤œå‡ºãƒ‡ãƒ¼ã‚¿ã‚’ãƒªã‚»ãƒƒãƒˆ\\n      currentVolume = 0;\\n      currentFrequency = 0;\\n      detectedNote = 'ãƒ¼ãƒ¼';\\n      \\n      // ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å†è¨±å¯ã‚’ä¿ƒã™ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆè‡ªå‹•çš„ã«è¡¨ç¤ºã•ã‚Œã‚‹ï¼‰\\n      console.log('âš ï¸ [MicTest] ãƒã‚¤ã‚¯å†è¨±å¯ãŒå¿…è¦ã§ã™');\\n    }\\n  }\\n\\n\\n\\n  // ãƒã‚¤ã‚¯è¨±å¯å®Œäº†æ™‚ã®å‡¦ç†ã‚’æ‹¡å¼µ\\n  async function onMicrophoneGranted() {\\n    // iPadãƒã‚¤ã‚¯å®‰å®šåŒ–å‡¦ç†\\n    if (platformSpecs && (platformSpecs.deviceType === 'iPad')) {\\n      console.log('ğŸ”§ [MicTest] iPadæ¤œå‡º - ãƒã‚¤ã‚¯æ„Ÿåº¦7.0xè‡ªå‹•è¨­å®šé–‹å§‹');\\n      \\n      // iPadå°‚ç”¨: 7.0xæ„Ÿåº¦ã§å®‰å®šåŒ–\\n      audioManager.setSensitivity(7.0);\\n      \\n      console.log('âœ… [MicTest] iPad ãƒã‚¤ã‚¯æ„Ÿåº¦7.0xè‡ªå‹•è¨­å®šå®Œäº†');\\n      \\n      // AudioManagerå†åˆæœŸåŒ–ã§ãƒã‚¤ã‚¯æ¥ç¶šå®‰å®šåŒ–\\n      try {\\n        await audioManager.initialize();\\n        console.log('ğŸ”„ [MicTest] iPadç”¨AudioManagerå†åˆæœŸåŒ–å®Œäº†');\\n      } catch (error) {\\n        console.warn('âš ï¸ [MicTest] AudioManagerå†åˆæœŸåŒ–ã‚¨ãƒ©ãƒ¼:', error);\\n      }\\n    }\\n  }\\n<\/script>\\n\\n<svelte:head>\\n  <title>ãƒã‚¤ã‚¯ãƒ†ã‚¹ãƒˆ - ç›¸å¯¾éŸ³æ„Ÿãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°</title>\\n</svelte:head>\\n\\n<PageLayout showBackButton={true}>\\n  <div class=\\"microphone-test\\">\\n    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->\\n    <div class=\\"header\\">\\n      <div class=\\"mic-test-header\\">\\n        <div class=\\"mic-icon\\">\\n          <svg width=\\"48\\" height=\\"48\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" stroke=\\"currentColor\\" stroke-width=\\"2\\">\\n            <path d=\\"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z\\"/>\\n            <path d=\\"M19 10v2a7 7 0 0 1-14 0v-2\\"/>\\n            <line x1=\\"12\\" x2=\\"12\\" y1=\\"19\\" y2=\\"22\\"/>\\n            <line x1=\\"8\\" x2=\\"16\\" y1=\\"22\\" y2=\\"22\\"/>\\n          </svg>\\n        </div>\\n        <div>\\n          <h1 class=\\"mic-test-title\\">ãƒã‚¤ã‚¯ãƒ†ã‚¹ãƒˆ</h1>\\n          <p class=\\"mic-test-description\\">éŸ³æ„Ÿãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã‚’å§‹ã‚ã‚‹å‰ã«ã€ãƒã‚¤ã‚¯ã®å‹•ä½œã‚’ç¢ºèªã—ã¾ã™</p>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <!-- ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ¢ãƒ¼ãƒ‰æƒ…å ± -->\\n    <div class=\\"training-mode-info\\">\\n      <Card variant=\\"default\\" padding=\\"lg\\">\\n        <div class=\\"training-mode-content\\">\\n          {#if micPermission === 'granted'}\\n            <!-- ãƒã‚¤ã‚¯è¨±å¯å®Œäº† -->\\n            <h3 class=\\"ready-title\\">ãƒã‚¤ã‚¯æº–å‚™å®Œäº†</h3>\\n            <p class=\\"ready-description\\">ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã‚’é–‹å§‹ã—ã¦ãã ã•ã„</p>\\n            \\n            {#if !showVocalRangeTest}\\n              {#if existingVocalRange}\\n                <!-- æ—¢å­˜éŸ³åŸŸãƒ‡ãƒ¼ã‚¿è¡¨ç¤º -->\\n                <div class=\\"existing-vocal-range\\">\\n                  <div class=\\"existing-range-header\\">\\n                    <div class=\\"range-icon\\">ğŸµ</div>\\n                    <div class=\\"range-info\\">\\n                      <h4 class=\\"range-title\\">éŸ³åŸŸãƒ‡ãƒ¼ã‚¿ä¿å­˜æ¸ˆã¿</h4>\\n                      <p class=\\"range-value\\">{existingVocalRange.range}</p>\\n                      <p class=\\"range-date\\">æ¸¬å®šæ—¥: {new Date(existingVocalRange.measuredAt).toLocaleDateString('ja-JP')}</p>\\n                    </div>\\n                  </div>\\n                  <div class=\\"range-actions\\">\\n                    <button class=\\"button-ghost small\\" on:click={retestVocalRange}>\\n                      å†æ¸¬å®š\\n                    </button>\\n                  </div>\\n                </div>\\n              {:else}\\n                <!-- éŸ³åŸŸæ¸¬å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³ -->\\n                <div class=\\"vocal-range-option\\">\\n                  <p class=\\"vocal-range-prompt\\">éŸ³åŸŸã‚’æ¸¬å®šã—ã¾ã™ã‹ï¼Ÿï¼ˆæ¨å¥¨ãƒ»ç´„1åˆ†ï¼‰</p>\\n                  <div class=\\"button-group\\">\\n                    <button class=\\"button-secondary\\" on:click={startVocalRangeTest}>\\n                      éŸ³åŸŸã‚’æ¸¬å®šã™ã‚‹\\n                    </button>\\n                  </div>\\n                </div>\\n              {/if}\\n              \\n              <div class=\\"training-start-button-area\\">\\n                <button class=\\"training-start-button enabled\\" on:click={startTraining}>\\n                  ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°é–‹å§‹\\n                </button>\\n              </div>\\n            {/if}\\n          {:else}\\n            <!-- ãƒã‚¤ã‚¯ãƒ†ã‚¹ãƒˆèª¬æ˜ -->\\n            <h3 class=\\"instructions-title\\">ãƒã‚¤ã‚¯ã®ãƒ†ã‚¹ãƒˆã‚’é–‹å§‹ã—ã¾ã™</h3>\\n            <p class=\\"instructions-description\\">ãƒã‚¤ã‚¯ãƒ†ã‚¹ãƒˆé–‹å§‹ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ãƒã‚¤ã‚¯ã®ä½¿ç”¨ã‚’è¨±å¯ã—ã¦ãã ã•ã„</p>\\n            \\n            {#if micPermission === 'pending'}\\n              <p class=\\"status-text\\">ãƒã‚¤ã‚¯æº–å‚™ä¸­...</p>\\n            {:else if micPermission === 'denied'}\\n              <div class=\\"mic-test-button-area\\">\\n                <button class=\\"mic-test-button retry\\" on:click={requestMicrophone}>\\n                  ãƒã‚¤ã‚¯è¨±å¯ã‚’å†è©¦è¡Œ\\n                </button>\\n              </div>\\n            {:else if micPermission === 'initial'}\\n              <div class=\\"mic-test-button-area\\">\\n                <button class=\\"mic-test-button start\\" on:click={requestMicrophone}>\\n                  ãƒã‚¤ã‚¯ãƒ†ã‚¹ãƒˆã‚’é–‹å§‹\\n                </button>\\n              </div>\\n            {/if}\\n          {/if}\\n        </div>\\n      </Card>\\n    </div>\\n\\n    <!-- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ éŸ³ç¨‹æ¤œå‡ºã‚¨ãƒªã‚¢ï¼ˆå¸¸æ™‚è¡¨ç¤ºï¼‰ -->\\n    <PitchDetectionDisplay\\n      frequency={currentFrequency}\\n      note={detectedNote}\\n      volume={currentVolume}\\n      isMuted={micPermission !== 'granted'}\\n      muteMessage=\\"ãƒã‚¤ã‚¯è¨±å¯å¾Œã«é–‹å§‹\\"\\n    />\\n    \\n    <!-- PitchDetectorã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆéè¡¨ç¤ºãƒ»æ¤œå‡ºå‡¦ç†ã®ã¿ï¼‰ -->\\n    <div style=\\"display: none;\\">\\n      <PitchDetector\\n        bind:this={pitchDetectorComponent}\\n        isActive={micPermission === 'granted'}\\n        on:pitchUpdate={handlePitchUpdate}\\n        on:stateChange={handlePitchDetectorStateChange}\\n        on:error={handlePitchDetectorError}\\n        className=\\"pitch-detector-content\\"\\n        debugMode={false}\\n      />\\n    </div>\\n\\n  </div>\\n  \\n  <!-- éŸ³åŸŸæ¸¬å®šãƒ¢ãƒ¼ãƒ€ãƒ« -->\\n  {#if showVocalRangeTest}\\n    <div class=\\"vocal-range-modal-overlay\\">\\n      <div class=\\"vocal-range-modal\\">\\n        <Card variant=\\"default\\" padding=\\"xl\\">\\n          {#if vocalRangeStep === 'intro'}\\n            <!-- èª¬æ˜ç”»é¢ -->\\n            <div class=\\"vocal-range-content\\">\\n              <h2 class=\\"vocal-range-title\\">éŸ³åŸŸæ¸¬å®š</h2>\\n              <p class=\\"vocal-range-description\\">\\n                ã‚ãªãŸã®éŸ³åŸŸã‚’æ¸¬å®šã—ã¾ã™ã€‚<br>\\n                æœ€ä½éŸ³ã¨æœ€é«˜éŸ³ã‚’è¨˜éŒ²ã™ã‚‹ã“ã¨ã§ã€<br>\\n                æœ€é©ãªãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã‚’æä¾›ã—ã¾ã™ã€‚\\n              </p>\\n              <div class=\\"vocal-range-steps\\">\\n                <div class=\\"step\\">\\n                  <div class=\\"step-number\\">1</div>\\n                  <div class=\\"step-text\\">ã§ãã‚‹ã ã‘ä½ã„å£°ã§ã€Œã‚¢ãƒ¼ã€ã¨æ­Œã†</div>\\n                </div>\\n                <div class=\\"step\\">\\n                  <div class=\\"step-number\\">2</div>\\n                  <div class=\\"step-text\\">ã§ãã‚‹ã ã‘é«˜ã„å£°ã§ã€Œã‚¢ãƒ¼ã€ã¨æ­Œã†</div>\\n                </div>\\n              </div>\\n              <button class=\\"button-primary\\" on:click={startLowNoteTest}>\\n                æ¸¬å®šã‚’é–‹å§‹\\n              </button>\\n            </div>\\n          {:else if vocalRangeStep === 'low'}\\n            <!-- ä½éŸ³æ¸¬å®š -->\\n            <div class=\\"vocal-range-content\\">\\n              <h2 class=\\"vocal-range-title\\">æœ€ä½éŸ³ã®æ¸¬å®š</h2>\\n              <p class=\\"vocal-range-instruction\\">\\n                ã§ãã‚‹ã ã‘ä½ã„å£°ã§ã€Œã‚¢ãƒ¼ã€ã¨3ç§’é–“æ­Œã£ã¦ãã ã•ã„\\n              </p>\\n              \\n              {#if recordingCountdown > 0}\\n                <div class=\\"countdown\\">{recordingCountdown}</div>\\n              {:else if isRecording}\\n                <div class=\\"recording-indicator\\">\\n                  <div class=\\"recording-dot\\"></div>\\n                  <span>éŒ²éŸ³ä¸­...</span>\\n                </div>\\n              {/if}\\n              \\n              <div class=\\"current-note-display {detectedNote !== 'ãƒ¼ãƒ¼' && isRecording ? 'detecting' : ''}\\">\\n                <div class=\\"note-label\\">æ¤œå‡ºéŸ³ç¨‹</div>\\n                <div class=\\"note-value\\">{detectedNote}</div>\\n                <div class=\\"frequency-value\\">{currentFrequency.toFixed(1)} Hz</div>\\n                {#if isRecording && detectedNote !== 'ãƒ¼ãƒ¼'}\\n                  <div class=\\"detecting-indicator\\">éŸ³ç¨‹ã‚’æ¤œå‡ºä¸­...</div>\\n                {/if}\\n              </div>\\n              \\n              {#if lowestNote && !isRecording}\\n                <div class=\\"result-display success\\">\\n                  <div class=\\"success-icon\\">âœ“</div>\\n                  <p class=\\"success-message\\">æœ€ä½éŸ³ã‚’è¨˜éŒ²ã—ã¾ã—ãŸ: <strong>{lowestNote}</strong></p>\\n                  <button class=\\"button-primary\\" on:click={startHighNoteTest}>\\n                    æ¬¡ã¸ï¼ˆæœ€é«˜éŸ³æ¸¬å®šï¼‰\\n                  </button>\\n                </div>\\n              {:else if !isRecording && !recordingCountdown}\\n                <div class=\\"retry-message\\">\\n                  <p>éŸ³ç¨‹ãŒæ¤œå‡ºã•ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚å†åº¦éŒ²éŸ³ã—ã¾ã™...</p>\\n                </div>\\n              {/if}\\n            </div>\\n          {:else if vocalRangeStep === 'high'}\\n            <!-- é«˜éŸ³æ¸¬å®š -->\\n            <div class=\\"vocal-range-content\\">\\n              <h2 class=\\"vocal-range-title\\">æœ€é«˜éŸ³ã®æ¸¬å®š</h2>\\n              <p class=\\"vocal-range-instruction\\">\\n                ã§ãã‚‹ã ã‘é«˜ã„å£°ã§ã€Œã‚¢ãƒ¼ã€ã¨3ç§’é–“æ­Œã£ã¦ãã ã•ã„\\n              </p>\\n              \\n              {#if recordingCountdown > 0}\\n                <div class=\\"countdown\\">{recordingCountdown}</div>\\n              {:else if isRecording}\\n                <div class=\\"recording-indicator\\">\\n                  <div class=\\"recording-dot\\"></div>\\n                  <span>éŒ²éŸ³ä¸­...</span>\\n                </div>\\n              {/if}\\n              \\n              <div class=\\"current-note-display {detectedNote !== 'ãƒ¼ãƒ¼' && isRecording ? 'detecting' : ''}\\">\\n                <div class=\\"note-label\\">æ¤œå‡ºéŸ³ç¨‹</div>\\n                <div class=\\"note-value\\">{detectedNote}</div>\\n                <div class=\\"frequency-value\\">{currentFrequency.toFixed(1)} Hz</div>\\n                {#if isRecording && detectedNote !== 'ãƒ¼ãƒ¼'}\\n                  <div class=\\"detecting-indicator\\">éŸ³ç¨‹ã‚’æ¤œå‡ºä¸­...</div>\\n                {/if}\\n              </div>\\n              \\n              {#if highestNote && !isRecording}\\n                <div class=\\"result-display\\">\\n                  <p>æœ€é«˜éŸ³: {highestNote}</p>\\n                </div>\\n              {/if}\\n            </div>\\n          {:else if vocalRangeStep === 'complete'}\\n            <!-- æ¸¬å®šå®Œäº† -->\\n            <div class=\\"vocal-range-content\\">\\n              <h2 class=\\"vocal-range-title\\">æ¸¬å®šå®Œäº†</h2>\\n              <div class=\\"vocal-range-result\\">\\n                <div class=\\"result-item\\">\\n                  <span class=\\"result-label\\">ã‚ãªãŸã®éŸ³åŸŸ</span>\\n                  <span class=\\"result-value\\">{lowestNote} - {highestNote}</span>\\n                </div>\\n              </div>\\n              <p class=\\"vocal-range-complete-message\\">\\n                éŸ³åŸŸãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã—ã¾ã—ãŸã€‚<br>\\n                å„ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ¢ãƒ¼ãƒ‰ã§æœ€é©ãªåŸºéŸ³ãŒé¸æŠã•ã‚Œã¾ã™ã€‚\\n              </p>\\n              <div class=\\"data-persistence-info\\">\\n                <p class=\\"info-title\\">ğŸ“ ãƒ‡ãƒ¼ã‚¿ä¿å­˜ã«ã¤ã„ã¦</p>\\n                <ul>\\n                  <li>ãƒ–ãƒ©ã‚¦ã‚¶ã®localStorageã«ä¿å­˜ã•ã‚Œã¾ã™</li>\\n                  <li>ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹ã¾ã§ä¿æŒã•ã‚Œã¾ã™</li>\\n                  <li>ãƒã‚¤ã‚¯ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸ã‹ã‚‰å†æ¸¬å®šå¯èƒ½ã§ã™</li>\\n                </ul>\\n              </div>\\n              <button class=\\"button-primary\\" on:click={completeVocalRangeTest}>\\n                å®Œäº†\\n              </button>\\n            </div>\\n          {/if}\\n        </Card>\\n      </div>\\n    </div>\\n  {/if}\\n</PageLayout>\\n\\n<style>\\n  .microphone-test {\\n    max-width: 800px;\\n    margin: 0 auto;\\n    display: flex;\\n    flex-direction: column;\\n    gap: var(--space-6);\\n  }\\n\\n  .header {\\n    text-align: center;\\n  }\\n\\n  .mic-test-header {\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    gap: var(--space-4);\\n    margin-bottom: var(--space-4);\\n  }\\n\\n  .mic-icon {\\n    width: 64px;\\n    height: 64px;\\n    border-radius: 50%;\\n    background-color: #dbeafe;\\n    color: #2563eb;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    flex-shrink: 0;\\n  }\\n\\n  .mic-test-title {\\n    font-size: var(--text-2xl);\\n    font-weight: 700;\\n    color: var(--color-gray-900);\\n    margin: 0 0 var(--space-2) 0;\\n  }\\n\\n  .mic-test-description {\\n    font-size: var(--text-base);\\n    color: var(--color-gray-600);\\n    margin: 0;\\n  }\\n\\n  .training-mode-info {\\n    margin-bottom: var(--space-6);\\n  }\\n\\n  .training-mode-content {\\n    text-align: center;\\n  }\\n\\n\\n  .instructions-title {\\n    font-size: var(--text-xl);\\n    font-weight: 600;\\n    color: var(--color-gray-900);\\n    margin: var(--space-4) 0 var(--space-2) 0;\\n    text-align: center;\\n  }\\n\\n  .instructions-description {\\n    font-size: var(--text-sm);\\n    color: var(--color-gray-600);\\n    margin: 0;\\n    text-align: center;\\n  }\\n\\n  .status-text {\\n    font-size: var(--text-lg);\\n    font-weight: 600;\\n    color: var(--color-gray-900);\\n    margin: var(--space-6) 0;\\n    text-align: center;\\n  }\\n\\n\\n  .ready-title {\\n    font-size: var(--text-xl);\\n    font-weight: 600;\\n    color: #2563eb;\\n    margin: var(--space-4) 0 var(--space-2) 0;\\n    text-align: center;\\n  }\\n\\n  .ready-description {\\n    font-size: var(--text-sm);\\n    color: var(--color-gray-600);\\n    margin: 0 0 var(--space-6) 0;\\n    text-align: center;\\n  }\\n\\n  .mic-test-button-area,\\n  .training-start-button-area {\\n    margin-top: var(--space-6);\\n    display: flex;\\n    justify-content: center;\\n  }\\n\\n  .mic-test-button {\\n    max-width: 300px;\\n    width: 100%;\\n    padding: 12px 16px;\\n    border: none;\\n    border-radius: 8px;\\n    font-size: 14px;\\n    font-weight: 500;\\n    cursor: pointer;\\n    transition: background-color 0.2s ease-in-out;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    gap: 8px;\\n  }\\n\\n  .mic-test-button.start {\\n    background-color: #2563eb;\\n    color: white;\\n  }\\n\\n  .mic-test-button.start:hover {\\n    background-color: #1d4ed8;\\n  }\\n\\n\\n  .mic-test-button.retry {\\n    background-color: #dc2626;\\n    color: white;\\n  }\\n\\n  .mic-test-button.retry:hover {\\n    background-color: #b91c1c;\\n  }\\n\\n  .training-start-button {\\n    max-width: 300px;\\n    width: 100%;\\n    padding: 12px 16px;\\n    border: none;\\n    border-radius: 8px;\\n    font-size: 14px;\\n    font-weight: 500;\\n    cursor: pointer;\\n    transition: background-color 0.2s ease-in-out;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    gap: 8px;\\n    background-color: #059669;\\n    color: white;\\n  }\\n\\n  .training-start-button.enabled:hover {\\n    background-color: #047857;\\n  }\\n\\n  .mic-status-granted {\\n    margin-bottom: var(--space-4);\\n    text-align: center;\\n  }\\n\\n  .status-indicator.success {\\n    background-color: #d1fae5;\\n    color: #065f46;\\n    border: 1px solid #34d399;\\n  }\\n\\n  .mic-test-content {\\n    text-align: center;\\n  }\\n\\n  .mic-status {\\n    margin-bottom: var(--space-6);\\n    display: flex;\\n    flex-direction: column;\\n    gap: var(--space-2);\\n  }\\n\\n\\n  .start-button,\\n  .retry-button {\\n    max-width: 300px;\\n    width: 100%;\\n    margin: 0 auto;\\n    padding: 12px 16px;\\n    background-color: #2563eb;\\n    color: white;\\n    border: none;\\n    border-radius: 8px;\\n    font-size: 14px;\\n    font-weight: 500;\\n    cursor: pointer;\\n    transition: background-color 0.2s ease-in-out;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    gap: 8px;\\n  }\\n\\n  .start-button:hover,\\n  .retry-button:hover {\\n    background-color: #1d4ed8;\\n  }\\n\\n  .training-button {\\n    max-width: 300px;\\n    width: 100%;\\n    margin: 0 auto;\\n    padding: 12px 16px;\\n    border: none;\\n    border-radius: 8px;\\n    font-size: 14px;\\n    font-weight: 500;\\n    cursor: pointer;\\n    transition: background-color 0.2s ease-in-out;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    gap: 8px;\\n  }\\n\\n  .training-button.enabled {\\n    background-color: #059669;\\n    color: white;\\n  }\\n\\n  .training-button.enabled:hover {\\n    background-color: #047857;\\n  }\\n\\n  .training-button.disabled {\\n    background-color: #f3f4f6;\\n    color: #9ca3af;\\n    cursor: not-allowed;\\n  }\\n\\n  .guidance-text {\\n    font-size: var(--text-sm);\\n    color: #2563eb;\\n    font-weight: 600;\\n    margin-bottom: var(--space-2);\\n    text-align: center;\\n  }\\n\\n\\n  .ready-title {\\n    color: #059669;\\n    font-size: var(--text-lg);\\n    font-weight: 600;\\n    text-align: center;\\n    margin-bottom: var(--space-2);\\n  }\\n\\n  .ready-description {\\n    color: #6b7280;\\n    text-align: center;\\n    margin-bottom: var(--space-4);\\n  }\\n\\n\\n  @media (min-width: 768px) {\\n    .mic-test-header {\\n      flex-direction: row;\\n      text-align: left;\\n    }\\n  }\\n\\n  /* ã‚«ãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆshadcn/uié¢¨ï¼‰ */\\n  :global(.main-card) {\\n    border: 1px solid hsl(214.3 31.8% 91.4%) !important;\\n    background: hsl(0 0% 100%) !important;\\n    border-radius: 8px !important;\\n    box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px 0 rgb(0 0 0 / 0.06) !important;\\n    margin-bottom: 1.5rem;\\n  }\\n\\n  /* éŸ³åŸŸæ¸¬å®šé–¢é€£ã®ã‚¹ã‚¿ã‚¤ãƒ« */\\n  .vocal-range-option {\\n    margin: var(--space-6) 0;\\n    text-align: center;\\n  }\\n\\n  .vocal-range-prompt {\\n    font-size: var(--text-base);\\n    color: var(--color-gray-600);\\n    margin-bottom: var(--space-4);\\n  }\\n\\n  .button-group {\\n    display: flex;\\n    gap: var(--space-3);\\n    justify-content: center;\\n  }\\n\\n  /* shadcn/uié¢¨ãƒœã‚¿ãƒ³ */\\n  .button-primary {\\n    background-color: hsl(222.2 47.4% 11.2%);\\n    color: hsl(210 40% 98%);\\n    padding: 10px 16px;\\n    border: none;\\n    border-radius: 6px;\\n    font-size: 14px;\\n    font-weight: 500;\\n    cursor: pointer;\\n    transition: opacity 0.2s;\\n  }\\n\\n  .button-primary:hover {\\n    opacity: 0.9;\\n  }\\n\\n  .button-secondary {\\n    background-color: hsl(210 40% 96.1%);\\n    color: hsl(222.2 47.4% 11.2%);\\n    padding: 10px 16px;\\n    border: 1px solid hsl(214.3 31.8% 91.4%);\\n    border-radius: 6px;\\n    font-size: 14px;\\n    font-weight: 500;\\n    cursor: pointer;\\n    transition: all 0.2s;\\n  }\\n\\n  .button-secondary:hover {\\n    background-color: hsl(214.3 31.8% 91.4%);\\n  }\\n\\n  .button-ghost {\\n    background-color: transparent;\\n    color: hsl(222.2 47.4% 11.2%);\\n    padding: 10px 16px;\\n    border: none;\\n    border-radius: 6px;\\n    font-size: 14px;\\n    font-weight: 500;\\n    cursor: pointer;\\n    transition: all 0.2s;\\n  }\\n\\n  .button-ghost:hover {\\n    background-color: hsl(210 40% 96.1%);\\n  }\\n\\n  /* ãƒ¢ãƒ¼ãƒ€ãƒ« */\\n  .vocal-range-modal-overlay {\\n    position: fixed;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n    background-color: rgba(0, 0, 0, 0.5);\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    z-index: 1000;\\n  }\\n\\n  .vocal-range-modal {\\n    max-width: 500px;\\n    width: 90%;\\n    max-height: 90vh;\\n    overflow-y: auto;\\n  }\\n\\n  .vocal-range-content {\\n    text-align: center;\\n    padding: var(--space-4);\\n  }\\n\\n  .vocal-range-title {\\n    font-size: var(--text-2xl);\\n    font-weight: 700;\\n    color: var(--color-gray-900);\\n    margin: 0 0 var(--space-4) 0;\\n  }\\n\\n  .vocal-range-description {\\n    font-size: var(--text-base);\\n    color: var(--color-gray-600);\\n    line-height: 1.6;\\n    margin-bottom: var(--space-6);\\n  }\\n\\n  .vocal-range-steps {\\n    display: flex;\\n    flex-direction: column;\\n    gap: var(--space-4);\\n    margin: var(--space-6) 0;\\n  }\\n\\n  .step {\\n    display: flex;\\n    align-items: center;\\n    gap: var(--space-4);\\n    background-color: hsl(210 40% 96.1%);\\n    padding: var(--space-4);\\n    border-radius: 8px;\\n  }\\n\\n  .step-number {\\n    width: 32px;\\n    height: 32px;\\n    background-color: hsl(222.2 47.4% 11.2%);\\n    color: white;\\n    border-radius: 50%;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    font-weight: 600;\\n  }\\n\\n  .step-text {\\n    flex: 1;\\n    text-align: left;\\n    color: var(--color-gray-700);\\n  }\\n\\n  .vocal-range-instruction {\\n    font-size: var(--text-lg);\\n    color: var(--color-gray-700);\\n    margin-bottom: var(--space-6);\\n  }\\n\\n  .countdown {\\n    font-size: 64px;\\n    font-weight: 700;\\n    color: hsl(222.2 47.4% 11.2%);\\n    margin: var(--space-8) 0;\\n  }\\n\\n  .recording-indicator {\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    gap: var(--space-3);\\n    margin: var(--space-6) 0;\\n    font-size: var(--text-lg);\\n    color: #dc2626;\\n  }\\n\\n  .recording-dot {\\n    width: 12px;\\n    height: 12px;\\n    background-color: #dc2626;\\n    border-radius: 50%;\\n    animation: pulse 1.5s infinite;\\n  }\\n\\n  @keyframes pulse {\\n    0% {\\n      opacity: 1;\\n      transform: scale(1);\\n    }\\n    50% {\\n      opacity: 0.5;\\n      transform: scale(1.1);\\n    }\\n    100% {\\n      opacity: 1;\\n      transform: scale(1);\\n    }\\n  }\\n\\n  .current-note-display {\\n    background-color: hsl(210 40% 96.1%);\\n    padding: var(--space-6);\\n    border-radius: 12px;\\n    margin: var(--space-6) 0;\\n    transition: all 0.3s ease;\\n    border: 2px solid transparent;\\n  }\\n\\n  .current-note-display.detecting {\\n    background-color: hsl(142 71% 45% / 0.05);\\n    border-color: hsl(142 71% 45% / 0.3);\\n  }\\n\\n  .note-label {\\n    font-size: var(--text-sm);\\n    color: var(--color-gray-600);\\n    margin-bottom: var(--space-2);\\n  }\\n\\n  .note-value {\\n    font-size: 48px;\\n    font-weight: 700;\\n    color: hsl(222.2 47.4% 11.2%);\\n    margin-bottom: var(--space-2);\\n  }\\n\\n  .frequency-value {\\n    font-size: var(--text-base);\\n    color: var(--color-gray-600);\\n  }\\n\\n  .result-display {\\n    margin-top: var(--space-6);\\n  }\\n\\n  .result-display p {\\n    font-size: var(--text-lg);\\n    color: var(--color-gray-700);\\n    margin-bottom: var(--space-4);\\n  }\\n\\n  .vocal-range-result {\\n    background-color: hsl(210 40% 96.1%);\\n    padding: var(--space-6);\\n    border-radius: 12px;\\n    margin: var(--space-6) 0;\\n  }\\n\\n  .result-item {\\n    display: flex;\\n    flex-direction: column;\\n    gap: var(--space-2);\\n  }\\n\\n  .result-label {\\n    font-size: var(--text-sm);\\n    color: var(--color-gray-600);\\n  }\\n\\n  .result-value {\\n    font-size: var(--text-2xl);\\n    font-weight: 700;\\n    color: hsl(222.2 47.4% 11.2%);\\n  }\\n\\n  .vocal-range-complete-message {\\n    font-size: var(--text-base);\\n    color: var(--color-gray-600);\\n    line-height: 1.6;\\n    margin-bottom: var(--space-6);\\n  }\\n\\n  /* æˆåŠŸè¡¨ç¤º */\\n  .result-display.success {\\n    background-color: hsl(142 71% 45% / 0.1);\\n    border: 1px solid hsl(142 71% 45% / 0.3);\\n    padding: var(--space-4);\\n    border-radius: 8px;\\n    margin-top: var(--space-4);\\n  }\\n\\n  .success-icon {\\n    font-size: 32px;\\n    color: hsl(142 71% 45%);\\n    margin-bottom: var(--space-2);\\n  }\\n\\n  .success-message {\\n    color: hsl(142 71% 35%);\\n    font-size: var(--text-base);\\n    margin-bottom: var(--space-4);\\n  }\\n\\n  .success-message strong {\\n    font-weight: 700;\\n    font-size: var(--text-lg);\\n  }\\n\\n  /* å†è©¦è¡Œãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ */\\n  .retry-message {\\n    background-color: hsl(48 96% 89%);\\n    border: 1px solid hsl(48 96% 89% / 0.5);\\n    padding: var(--space-3);\\n    border-radius: 8px;\\n    margin-top: var(--space-4);\\n  }\\n\\n  .retry-message p {\\n    color: hsl(45 93% 25%);\\n    font-size: var(--text-sm);\\n    margin: 0;\\n  }\\n\\n  /* ãƒ‡ãƒ¼ã‚¿ä¿å­˜æƒ…å ± */\\n  .data-persistence-info {\\n    background-color: hsl(210 40% 96.1%);\\n    padding: var(--space-4);\\n    border-radius: 8px;\\n    margin: var(--space-4) 0;\\n    text-align: left;\\n  }\\n\\n  .info-title {\\n    font-weight: 600;\\n    color: var(--color-gray-900);\\n    margin-bottom: var(--space-2);\\n  }\\n\\n  .data-persistence-info ul {\\n    list-style: none;\\n    padding: 0;\\n    margin: 0;\\n  }\\n\\n  .data-persistence-info li {\\n    font-size: var(--text-sm);\\n    color: var(--color-gray-600);\\n    padding-left: var(--space-4);\\n    position: relative;\\n    margin-bottom: var(--space-1);\\n  }\\n\\n  .data-persistence-info li:before {\\n    content: \\"â€¢\\";\\n    position: absolute;\\n    left: 0;\\n    color: var(--color-gray-400);\\n  }\\n\\n  /* æ¤œå‡ºä¸­ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ */\\n  .detecting-indicator {\\n    font-size: var(--text-sm);\\n    color: hsl(142 71% 45%);\\n    margin-top: var(--space-2);\\n    font-weight: 500;\\n  }\\n\\n  /* æ—¢å­˜éŸ³åŸŸãƒ‡ãƒ¼ã‚¿è¡¨ç¤º */\\n  .existing-vocal-range {\\n    background-color: hsl(210 40% 96.1%);\\n    border: 1px solid hsl(214.3 31.8% 91.4%);\\n    border-radius: 12px;\\n    padding: var(--space-4);\\n    margin: var(--space-4) 0;\\n  }\\n\\n  .existing-range-header {\\n    display: flex;\\n    align-items: center;\\n    gap: var(--space-3);\\n    margin-bottom: var(--space-3);\\n  }\\n\\n  .range-icon {\\n    font-size: 24px;\\n    flex-shrink: 0;\\n  }\\n\\n  .range-info {\\n    flex: 1;\\n    text-align: left;\\n  }\\n\\n  .range-title {\\n    font-size: var(--text-base);\\n    font-weight: 600;\\n    color: var(--color-gray-900);\\n    margin: 0 0 var(--space-1) 0;\\n  }\\n\\n  .range-value {\\n    font-size: var(--text-lg);\\n    font-weight: 700;\\n    color: hsl(222.2 47.4% 11.2%);\\n    margin: 0 0 var(--space-1) 0;\\n  }\\n\\n  .range-date {\\n    font-size: var(--text-sm);\\n    color: var(--color-gray-600);\\n    margin: 0;\\n  }\\n\\n  .range-actions {\\n    display: flex;\\n    justify-content: flex-end;\\n  }\\n\\n  .button-ghost.small {\\n    padding: 6px 12px;\\n    font-size: var(--text-sm);\\n  }\\n</style>"],"names":[],"mappings":"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"}`
};
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let $$unsubscribe_page;
  validate_store(page, "page");
  $$unsubscribe_page = subscribe(page, (value) => value);
  let micPermission = "initial";
  let currentVolume = 0;
  let currentFrequency = 0;
  let detectedNote = "ãƒ¼ãƒ¼";
  let pitchDetectorComponent = null;
  $$result.css.add(css);
  let $$settled;
  let $$rendered;
  let previous_head = $$result.head;
  do {
    $$settled = true;
    $$result.head = previous_head;
    $$rendered = `${$$result.head += `<!-- HEAD_svelte-8st1fo_START -->${$$result.title = `<title>ãƒã‚¤ã‚¯ãƒ†ã‚¹ãƒˆ - ç›¸å¯¾éŸ³æ„Ÿãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°</title>`, ""}<!-- HEAD_svelte-8st1fo_END -->`, ""} ${validate_component(PageLayout, "PageLayout").$$render($$result, { showBackButton: true }, {}, {
      default: () => {
        return `<div class="microphone-test svelte-29ezg5"> <div class="header svelte-29ezg5"><div class="mic-test-header svelte-29ezg5"><div class="mic-icon svelte-29ezg5"><svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" x2="12" y1="19" y2="22"></line><line x1="8" x2="16" y1="22" y2="22"></line></svg></div> <div><h1 class="mic-test-title svelte-29ezg5" data-svelte-h="svelte-z7m4lk">ãƒã‚¤ã‚¯ãƒ†ã‚¹ãƒˆ</h1> <p class="mic-test-description svelte-29ezg5" data-svelte-h="svelte-1vtv92f">éŸ³æ„Ÿãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã‚’å§‹ã‚ã‚‹å‰ã«ã€ãƒã‚¤ã‚¯ã®å‹•ä½œã‚’ç¢ºèªã—ã¾ã™</p></div></div></div>  <div class="training-mode-info svelte-29ezg5">${validate_component(Card, "Card").$$render($$result, { variant: "default", padding: "lg" }, {}, {
          default: () => {
            return `<div class="training-mode-content svelte-29ezg5">${` <h3 class="instructions-title svelte-29ezg5" data-svelte-h="svelte-gfi16f">ãƒã‚¤ã‚¯ã®ãƒ†ã‚¹ãƒˆã‚’é–‹å§‹ã—ã¾ã™</h3> <p class="instructions-description svelte-29ezg5" data-svelte-h="svelte-1w19y1h">ãƒã‚¤ã‚¯ãƒ†ã‚¹ãƒˆé–‹å§‹ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ãƒã‚¤ã‚¯ã®ä½¿ç”¨ã‚’è¨±å¯ã—ã¦ãã ã•ã„</p> ${`${`${`<div class="mic-test-button-area svelte-29ezg5"><button class="mic-test-button start svelte-29ezg5" data-svelte-h="svelte-caex95">ãƒã‚¤ã‚¯ãƒ†ã‚¹ãƒˆã‚’é–‹å§‹</button></div>`}`}`}`}</div>`;
          }
        })}</div>  ${validate_component(PitchDetectionDisplay, "PitchDetectionDisplay").$$render(
          $$result,
          {
            frequency: currentFrequency,
            note: detectedNote,
            volume: currentVolume,
            isMuted: micPermission !== "granted",
            muteMessage: "ãƒã‚¤ã‚¯è¨±å¯å¾Œã«é–‹å§‹"
          },
          {},
          {}
        )}  <div style="display: none;">${validate_component(PitchDetector_1, "PitchDetector").$$render(
          $$result,
          {
            isActive: micPermission === "granted",
            className: "pitch-detector-content",
            debugMode: false,
            this: pitchDetectorComponent
          },
          {
            this: ($$value) => {
              pitchDetectorComponent = $$value;
              $$settled = false;
            }
          },
          {}
        )}</div></div>  ${``}`;
      }
    })}`;
  } while (!$$settled);
  $$unsubscribe_page();
  return $$rendered;
});
export {
  Page as default
};
