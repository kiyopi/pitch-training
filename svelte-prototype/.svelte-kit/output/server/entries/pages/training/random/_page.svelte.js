import { c as create_ssr_component, o as onDestroy, v as validate_component, e as escape } from "../../../../chunks/ssr.js";
import { P as PageLayout, C as Card } from "../../../../chunks/PageLayout.js";
import { B as Button } from "../../../../chunks/Button.js";
import "tone";
const css = {
  code: ".header-section.svelte-liul6h.svelte-liul6h{text-align:center;margin-bottom:2rem}.page-title.svelte-liul6h.svelte-liul6h{font-size:2rem;font-weight:700;color:hsl(222.2 84% 4.9%);margin-bottom:0.5rem}.page-description.svelte-liul6h.svelte-liul6h{color:hsl(215.4 16.3% 46.9%);font-size:1rem;margin:0}.main-card{border:1px solid hsl(214.3 31.8% 91.4%) !important;background:hsl(0 0% 100%) !important;border-radius:8px !important;box-shadow:0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px 0 rgb(0 0 0 / 0.06) !important;margin-bottom:1.5rem}.status-card{border-radius:8px !important;margin-bottom:1.5rem}.error-card{border:1px solid hsl(0 84.2% 60.2%) !important;background:hsl(0 84.2% 97%) !important;border-radius:8px !important;box-shadow:0 1px 3px 0 rgb(0 0 0 / 0.1) !important}.results-card{border:1px solid hsl(142.1 76.2% 36.3%) !important;background:linear-gradient(135deg, hsl(142.1 76.2% 95%) 0%, hsl(0 0% 100%) 100%) !important}.card-header.svelte-liul6h.svelte-liul6h{padding-bottom:1rem;border-bottom:1px solid hsl(214.3 31.8% 91.4%);margin-bottom:1.5rem}.section-title.svelte-liul6h.svelte-liul6h{font-size:1.125rem;font-weight:600;color:hsl(222.2 84% 4.9%);margin:0}.card-content.svelte-liul6h.svelte-liul6h{display:flex;flex-direction:column;gap:1rem}.status-content.svelte-liul6h.svelte-liul6h{display:flex;justify-content:space-between;align-items:center;gap:1rem}.status-message.svelte-liul6h.svelte-liul6h{font-weight:500;color:hsl(222.2 84% 4.9%)}.progress-indicator.svelte-liul6h.svelte-liul6h{font-size:0.875rem;color:hsl(215.4 16.3% 46.9%)}.side-by-side-container.svelte-liul6h.svelte-liul6h{display:flex;gap:1.5rem;margin-bottom:1.5rem}.half-width{flex:1}@media(max-width: 768px){.side-by-side-container.svelte-liul6h.svelte-liul6h{flex-direction:column}.half-width{width:100%}}.base-note-info.svelte-liul6h.svelte-liul6h{text-align:center;padding:1rem;background:hsl(210 40% 98%);border-radius:6px;border:1px solid hsl(214.3 31.8% 91.4%);font-size:0.875rem;color:hsl(215.4 16.3% 46.9%)}.scale-guide.svelte-liul6h.svelte-liul6h{display:grid;grid-template-columns:repeat(4, 1fr);gap:0.75rem;margin-bottom:1rem}.scale-item.svelte-liul6h.svelte-liul6h{display:flex;align-items:center;justify-content:center;height:3rem;border-radius:6px;font-weight:500;font-size:0.875rem;border:1px solid hsl(214.3 31.8% 91.4%);background:hsl(0 0% 100%);color:hsl(215.4 16.3% 46.9%);transition:all 0.3s ease}.scale-item.active.svelte-liul6h.svelte-liul6h{background:hsl(47.9 95.8% 53.1%);color:hsl(222.2 84% 4.9%);border-color:hsl(47.9 95.8% 53.1%);transform:scale(1.05);box-shadow:0 4px 8px 0 rgb(245 158 11 / 0.3)}.scale-item.correct.svelte-liul6h.svelte-liul6h{background:hsl(142.1 76.2% 36.3%);color:hsl(210 40% 98%);border-color:hsl(142.1 76.2% 36.3%)}.scale-item.current.svelte-liul6h.svelte-liul6h{box-shadow:0 0 0 2px hsl(222.2 84% 4.9%)}.guide-instruction.svelte-liul6h.svelte-liul6h{text-align:center;font-size:0.875rem;color:hsl(215.4 16.3% 46.9%);padding:0.75rem;background:hsl(210 40% 98%);border-radius:6px}.detection-display.svelte-liul6h.svelte-liul6h{display:flex;flex-direction:column;gap:1.5rem}.detected-info.svelte-liul6h.svelte-liul6h{display:flex;align-items:center;gap:0.5rem;font-size:0.875rem}.detected-label.svelte-liul6h.svelte-liul6h{color:hsl(215.4 16.3% 46.9%)}.detected-note.svelte-liul6h.svelte-liul6h{font-weight:600;color:hsl(222.2 84% 4.9%)}.pitch-diff.svelte-liul6h.svelte-liul6h{color:hsl(47.9 95.8% 40%);font-weight:500}.volume-section.svelte-liul6h.svelte-liul6h{display:flex;flex-direction:column;gap:0.5rem}.volume-label.svelte-liul6h.svelte-liul6h{font-size:0.875rem;color:hsl(215.4 16.3% 46.9%)}.modern-volume-bar{border-radius:4px !important}.results-summary.svelte-liul6h.svelte-liul6h{display:grid;grid-template-columns:repeat(auto-fit, minmax(150px, 1fr));gap:1rem;margin-bottom:2rem}.result-item.svelte-liul6h.svelte-liul6h{text-align:center;padding:1rem;border-radius:6px;background:hsl(0 0% 100%);border:1px solid hsl(214.3 31.8% 91.4%)}.result-label.svelte-liul6h.svelte-liul6h{display:block;font-size:0.875rem;color:hsl(215.4 16.3% 46.9%);margin-bottom:0.25rem}.result-value.svelte-liul6h.svelte-liul6h{display:block;font-size:1.5rem;font-weight:700;color:hsl(222.2 84% 4.9%)}.result-value.success.svelte-liul6h.svelte-liul6h{color:hsl(142.1 76.2% 36.3%)}.action-buttons.svelte-liul6h.svelte-liul6h{display:flex;gap:0.75rem;justify-content:center;flex-wrap:wrap}.error-content.svelte-liul6h.svelte-liul6h{text-align:center;padding:2rem 1rem}.error-icon.svelte-liul6h.svelte-liul6h,.loading-icon.svelte-liul6h.svelte-liul6h{font-size:3rem;margin-bottom:1rem}.error-content.svelte-liul6h h3.svelte-liul6h{font-size:1.25rem;font-weight:600;color:hsl(222.2 84% 4.9%);margin-bottom:0.5rem}.error-content.svelte-liul6h p.svelte-liul6h{color:hsl(215.4 16.3% 46.9%);margin-bottom:1rem}.recommendation.svelte-liul6h.svelte-liul6h{background:hsl(210 40% 98%);border:1px solid hsl(214.3 31.8% 91.4%);border-radius:6px;padding:1rem;margin:1rem 0}.recommendation.svelte-liul6h p.svelte-liul6h{margin:0;font-size:0.875rem}@media(min-width: 768px){.scale-guide.svelte-liul6h.svelte-liul6h{grid-template-columns:repeat(8, 1fr)}.page-title.svelte-liul6h.svelte-liul6h{font-size:2.5rem}.results-summary.svelte-liul6h.svelte-liul6h{grid-template-columns:repeat(3, 1fr)}}@media(max-width: 640px){.status-content.svelte-liul6h.svelte-liul6h{flex-direction:column;gap:0.5rem}.action-buttons.svelte-liul6h.svelte-liul6h{flex-direction:column}.primary-button,.secondary-button{min-width:100% !important}}",
  map: `{"version":3,"file":"+page.svelte","sources":["+page.svelte"],"sourcesContent":["<script>\\n  import { onMount, onDestroy } from 'svelte';\\n  import { base } from '$app/paths';\\n  import Card from '$lib/components/Card.svelte';\\n  import Button from '$lib/components/Button.svelte';\\n  import VolumeBar from '$lib/components/VolumeBar.svelte';\\n  import PitchDisplay from '$lib/components/PitchDisplay.svelte';\\n  import PageLayout from '$lib/components/PageLayout.svelte';\\n  import * as Tone from 'tone';\\n\\n  // 基本状態管理\\n  let trainingPhase = 'setup'; // 'setup' | 'listening' | 'detecting' | 'completed'\\n  let microphoneState = 'checking'; // 'checking' | 'granted' | 'denied' | 'error'\\n  \\n  // 基音関連\\n  let currentBaseNote = '';\\n  let currentBaseFrequency = 0;\\n  let isPlaying = false;\\n  \\n  // 音程ガイド\\n  let currentScaleIndex = 0;\\n  let scaleSteps = [\\n    { name: 'ド', state: 'inactive', completed: false },\\n    { name: 'レ', state: 'inactive', completed: false },\\n    { name: 'ミ', state: 'inactive', completed: false },\\n    { name: 'ファ', state: 'inactive', completed: false },\\n    { name: 'ソ', state: 'inactive', completed: false },\\n    { name: 'ラ', state: 'inactive', completed: false },\\n    { name: 'シ', state: 'inactive', completed: false },\\n    { name: 'ド（高）', state: 'inactive', completed: false }\\n  ];\\n  \\n  // 音程検出\\n  let currentVolume = 0;\\n  let currentFrequency = 0;\\n  let detectedNote = 'ーー';\\n  let pitchDifference = 0;\\n  \\n  // セッション結果\\n  let sessionResults = {\\n    correctCount: 0,\\n    totalCount: 8,\\n    averageAccuracy: 0,\\n    averageTime: 0,\\n    isCompleted: false\\n  };\\n  \\n  // Tone.jsサンプラー\\n  let sampler = null;\\n  let isLoading = true;\\n\\n  // 基音候補（存在する音源ファイルに合わせた10種類）\\n  const baseNotes = [\\n    { note: 'C4', name: 'ド（中）', frequency: 261.63 },\\n    { note: 'Db4', name: 'ド#（中）', frequency: 277.18 },\\n    { note: 'D4', name: 'レ（中）', frequency: 293.66 },\\n    { note: 'Eb4', name: 'レ#（中）', frequency: 311.13 },\\n    { note: 'E4', name: 'ミ（中）', frequency: 329.63 },\\n    { note: 'F4', name: 'ファ（中）', frequency: 349.23 },\\n    { note: 'Gb4', name: 'ファ#（中）', frequency: 369.99 },\\n    { note: 'Ab4', name: 'ラb（中）', frequency: 415.30 },\\n    { note: 'Bb3', name: 'シb（低）', frequency: 233.08 },\\n    { note: 'B3', name: 'シ（低）', frequency: 246.94 }\\n  ];\\n\\n  // マイクロフォン許可チェック\\n  async function checkMicrophonePermission() {\\n    microphoneState = 'checking';\\n    \\n    try {\\n      if (!navigator.mediaDevices?.getUserMedia) {\\n        microphoneState = 'error';\\n        return;\\n      }\\n      \\n      // 簡単な許可チェック\\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\\n      stream.getTracks().forEach(track => track.stop());\\n      microphoneState = 'granted';\\n      trainingPhase = 'setup';\\n    } catch (error) {\\n      console.error('マイク許可エラー:', error);\\n      microphoneState = (error && error.name === 'NotAllowedError') ? 'denied' : 'error';\\n    }\\n  }\\n\\n  // ランダム基音選択\\n  function selectRandomBaseNote() {\\n    const randomIndex = Math.floor(Math.random() * baseNotes.length);\\n    const selectedNote = baseNotes[randomIndex];\\n    currentBaseNote = selectedNote.name;\\n    currentBaseFrequency = selectedNote.frequency;\\n    console.log('選択された基音:', currentBaseNote, currentBaseFrequency + 'Hz');\\n  }\\n\\n  // 基音再生\\n  async function playBaseNote() {\\n    if (isPlaying || !sampler || isLoading) return;\\n    \\n    isPlaying = true;\\n    trainingPhase = 'listening';\\n    selectRandomBaseNote();\\n    \\n    try {\\n      // Tone.jsのコンテキストを開始\\n      if (Tone.context.state !== 'running') {\\n        await Tone.start();\\n      }\\n      \\n      // 選択された基音を再生\\n      const note = baseNotes.find(n => n.name === currentBaseNote).note;\\n      sampler.triggerAttackRelease(note, '2n');\\n      \\n      console.log('基音再生:', currentBaseNote, note);\\n      \\n      // 2秒後に検出フェーズに移行\\n      setTimeout(() => {\\n        isPlaying = false;\\n        trainingPhase = 'detecting';\\n        scaleSteps[0].state = 'active'; // 最初の「ド」をアクティブに\\n      }, 2000);\\n    } catch (error) {\\n      console.error('基音再生エラー:', error);\\n      isPlaying = false;\\n      trainingPhase = 'setup';\\n    }\\n  }\\n\\n  // スケールガイドの状態取得\\n  function getScaleVariant(state) {\\n    switch (state) {\\n      case 'active': return 'warning';\\n      case 'correct': return 'success';\\n      case 'incorrect': return 'default';\\n      default: return 'default';\\n    }\\n  }\\n\\n  // ステータスメッセージ取得\\n  function getStatusMessage() {\\n    switch (trainingPhase) {\\n      case 'setup':\\n        return isLoading ? '🎵 音源読み込み中...' : '🎤 マイク準備完了 - トレーニング開始可能';\\n      case 'listening':\\n        return '🎵 基音再生中...';\\n      case 'detecting':\\n        return '🎙️ 練習中 - ドレミファソラシドを歌ってください';\\n      case 'completed':\\n        return '🎉 セッション完了！';\\n      default:\\n        return '🔄 準備中...';\\n    }\\n  }\\n\\n  // マイクテストページへの誘導\\n  function goToMicrophoneTest() {\\n    window.location.href = '/microphone-test?mode=random';\\n  }\\n\\n  // ホームページに戻る\\n  function goHome() {\\n    window.location.href = '/';\\n  }\\n\\n  // Tone.jsサンプラー初期化\\n  async function initializeSampler() {\\n    try {\\n      isLoading = true;\\n      \\n      // サンプラーを作成（実際に存在するファイルのみ使用）\\n      sampler = new Tone.Sampler({\\n        urls: {\\n          'C4': 'C4.mp3',\\n          'Db4': 'Db4.mp3',\\n          'D4': 'D4.mp3',\\n          'Eb4': 'Eb4.mp3',\\n          'E4': 'E4.mp3',\\n          'F4': 'F4.mp3',\\n          'Gb4': 'Gb4.mp3',\\n          'Ab4': 'Ab4.mp3',\\n          'Bb3': 'Bb3.mp3',\\n          'B3': 'B3.mp3',\\n        },\\n        baseUrl: \`\${base}/audio/piano/\`,\\n        onload: () => {\\n          console.log('ピアノ音源読み込み完了');\\n          isLoading = false;\\n        },\\n        onerror: (error) => {\\n          console.error('ピアノ音源読み込みエラー:', error);\\n          isLoading = false;\\n        }\\n      }).toDestination();\\n      \\n      // 音量調整\\n      sampler.volume.value = -6; // デフォルトより少し下げる\\n      \\n    } catch (error) {\\n      console.error('サンプラー初期化エラー:', error);\\n      isLoading = false;\\n    }\\n  }\\n  \\n  // 初期化\\n  onMount(() => {\\n    checkMicrophonePermission();\\n    initializeSampler();\\n  });\\n  \\n  // クリーンアップ\\n  onDestroy(() => {\\n    if (sampler) {\\n      sampler.dispose();\\n      sampler = null;\\n    }\\n  });\\n<\/script>\\n\\n<PageLayout>\\n  <!-- Header -->\\n  <div class=\\"header-section\\">\\n    <h1 class=\\"page-title\\">🎵 ランダム基音トレーニング</h1>\\n    <p class=\\"page-description\\">10種類の基音からランダムに選択してドレミファソラシドを練習</p>\\n  </div>\\n\\n  <!-- Status Bar -->\\n  <Card variant=\\"primary\\" class=\\"status-card\\">\\n    <div class=\\"status-content\\">\\n      <div class=\\"status-message\\">{getStatusMessage()}</div>\\n      {#if trainingPhase === 'detecting'}\\n        <div class=\\"progress-indicator\\">\\n          進行状況: {currentScaleIndex + 1}/8\\n        </div>\\n      {/if}\\n    </div>\\n  </Card>\\n\\n  {#if microphoneState === 'granted'}\\n    <!-- メイントレーニングインターフェース -->\\n    \\n    <!-- Base Tone and Detection Side by Side -->\\n    <div class=\\"side-by-side-container\\">\\n      <!-- Base Tone Section -->\\n      <Card class=\\"main-card half-width\\">\\n        <div class=\\"card-header\\">\\n          <h3 class=\\"section-title\\">🎹 基音再生</h3>\\n        </div>\\n        <div class=\\"card-content\\">\\n          <Button \\n            variant=\\"primary\\"\\n            disabled={isPlaying || trainingPhase === 'detecting' || isLoading}\\n            on:click={playBaseNote}\\n          >\\n            {#if isLoading}\\n              🎵 音源読み込み中...\\n            {:else if isPlaying}\\n              🎵 再生中...\\n            {:else if trainingPhase === 'setup'}\\n              🎹 ランダム基音再生\\n            {:else}\\n              🔄 再生\\n            {/if}\\n          </Button>\\n          \\n          {#if currentBaseNote}\\n            <div class=\\"base-note-info\\">\\n              現在の基音: <strong>{currentBaseNote}</strong> ({currentBaseFrequency.toFixed(1)}Hz)\\n            </div>\\n          {/if}\\n        </div>\\n      </Card>\\n\\n      <!-- Detection Section (Always Visible) -->\\n      <Card class=\\"main-card half-width\\">\\n        <div class=\\"card-header\\">\\n          <h3 class=\\"section-title\\">🎙️ リアルタイム音程検出</h3>\\n        </div>\\n        <div class=\\"card-content\\">\\n          <div class=\\"detection-display\\">\\n            <div class=\\"detected-info\\">\\n              <span class=\\"detected-label\\">検出中:</span>\\n              <span class=\\"detected-note\\">{detectedNote}</span>\\n              <span class=\\"pitch-diff\\">({pitchDifference > 0 ? '+' : ''}{pitchDifference}セント)</span>\\n            </div>\\n            \\n            <div class=\\"volume-section\\">\\n              <div class=\\"volume-label\\">音量レベル: {Math.round(currentVolume)}%</div>\\n              <VolumeBar volume={currentVolume} className=\\"modern-volume-bar\\" />\\n            </div>\\n          </div>\\n        </div>\\n      </Card>\\n    </div>\\n\\n    <!-- Scale Guide Section -->\\n    <Card class=\\"main-card\\">\\n      <div class=\\"card-header\\">\\n        <h3 class=\\"section-title\\">🎵 相対音程ガイド</h3>\\n      </div>\\n      <div class=\\"card-content\\">\\n        <div class=\\"scale-guide\\">\\n          {#each scaleSteps as step, index}\\n            <div \\n              class=\\"scale-item {step.state}\\"\\n              class:current={index === currentScaleIndex}\\n            >\\n              {step.name}\\n            </div>\\n          {/each}\\n        </div>\\n        {#if trainingPhase === 'detecting'}\\n          <div class=\\"guide-instruction\\">\\n            現在: <strong>{scaleSteps[currentScaleIndex].name}</strong> を歌ってください\\n          </div>\\n        {/if}\\n      </div>\\n    </Card>\\n\\n\\n    <!-- Results Section -->\\n    {#if sessionResults.isCompleted}\\n      <Card class=\\"main-card results-card\\">\\n        <div class=\\"card-header\\">\\n          <h3 class=\\"section-title\\">🎉 セッション完了</h3>\\n        </div>\\n        <div class=\\"card-content\\">\\n          <div class=\\"results-summary\\">\\n            <div class=\\"result-item\\">\\n              <span class=\\"result-label\\">正解率</span>\\n              <span class=\\"result-value success\\">{sessionResults.correctCount}/{sessionResults.totalCount} ({Math.round(sessionResults.correctCount / sessionResults.totalCount * 100)}%)</span>\\n            </div>\\n            <div class=\\"result-item\\">\\n              <span class=\\"result-label\\">平均精度</span>\\n              <span class=\\"result-value\\">{sessionResults.averageAccuracy}%</span>\\n            </div>\\n            <div class=\\"result-item\\">\\n              <span class=\\"result-label\\">平均時間</span>\\n              <span class=\\"result-value\\">{sessionResults.averageTime}秒</span>\\n            </div>\\n          </div>\\n          \\n          <div class=\\"action-buttons\\">\\n            <Button class=\\"primary-button\\" on:click={() => window.location.reload()}>\\n              🔄 再挑戦\\n            </Button>\\n            <Button class=\\"secondary-button\\">\\n              🎊 SNS共有\\n            </Button>\\n            <Button class=\\"secondary-button\\" on:click={goHome}>\\n              🏠 ホーム\\n            </Button>\\n          </div>\\n        </div>\\n      </Card>\\n    {/if}\\n\\n  {:else}\\n    <!-- Direct Access Error State -->\\n    <Card class=\\"error-card\\">\\n      <div class=\\"error-content\\">\\n        <div class=\\"error-icon\\">🎤</div>\\n        <h3>マイクテストが必要です</h3>\\n        <p>ランダム基音トレーニングを開始する前に、マイクテストページで音声入力の確認をお願いします。</p>\\n        \\n        <div class=\\"recommendation\\">\\n          <p>このページは<strong>マイクテスト完了後</strong>にご利用いただけます。</p>\\n          <p>まずはマイクテストページで音声確認を行ってください。</p>\\n        </div>\\n        \\n        <div class=\\"action-buttons\\">\\n          <Button variant=\\"primary\\" on:click={goToMicrophoneTest}>\\n            🎤 マイクテストページへ移動\\n          </Button>\\n          <Button variant=\\"secondary\\" on:click={goHome}>\\n            🏠 ホームに戻る\\n          </Button>\\n        </div>\\n      </div>\\n    </Card>\\n  {/if}\\n</PageLayout>\\n\\n<style>\\n  /* === shadcn/ui風モダンデザイン === */\\n  \\n  /* ヘッダーセクション */\\n  .header-section {\\n    text-align: center;\\n    margin-bottom: 2rem;\\n  }\\n  \\n  .page-title {\\n    font-size: 2rem;\\n    font-weight: 700;\\n    color: hsl(222.2 84% 4.9%);\\n    margin-bottom: 0.5rem;\\n  }\\n  \\n  .page-description {\\n    color: hsl(215.4 16.3% 46.9%);\\n    font-size: 1rem;\\n    margin: 0;\\n  }\\n\\n  /* カードスタイル（shadcn/ui風） */\\n  :global(.main-card) {\\n    border: 1px solid hsl(214.3 31.8% 91.4%) !important;\\n    background: hsl(0 0% 100%) !important;\\n    border-radius: 8px !important;\\n    box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px 0 rgb(0 0 0 / 0.06) !important;\\n    margin-bottom: 1.5rem;\\n  }\\n  \\n  :global(.status-card) {\\n    border-radius: 8px !important;\\n    margin-bottom: 1.5rem;\\n  }\\n  \\n  :global(.error-card) {\\n    border: 1px solid hsl(0 84.2% 60.2%) !important;\\n    background: hsl(0 84.2% 97%) !important;\\n    border-radius: 8px !important;\\n    box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1) !important;\\n  }\\n  \\n  :global(.results-card) {\\n    border: 1px solid hsl(142.1 76.2% 36.3%) !important;\\n    background: linear-gradient(135deg, hsl(142.1 76.2% 95%) 0%, hsl(0 0% 100%) 100%) !important;\\n  }\\n\\n  /* カードヘッダー */\\n  .card-header {\\n    padding-bottom: 1rem;\\n    border-bottom: 1px solid hsl(214.3 31.8% 91.4%);\\n    margin-bottom: 1.5rem;\\n  }\\n  \\n  .section-title {\\n    font-size: 1.125rem;\\n    font-weight: 600;\\n    color: hsl(222.2 84% 4.9%);\\n    margin: 0;\\n  }\\n\\n  /* カードコンテンツ */\\n  .card-content {\\n    display: flex;\\n    flex-direction: column;\\n    gap: 1rem;\\n  }\\n\\n  /* ステータス表示 */\\n  .status-content {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n    gap: 1rem;\\n  }\\n  \\n  .status-message {\\n    font-weight: 500;\\n    color: hsl(222.2 84% 4.9%);\\n  }\\n  \\n  .progress-indicator {\\n    font-size: 0.875rem;\\n    color: hsl(215.4 16.3% 46.9%);\\n  }\\n\\n  /* サイドバイサイドレイアウト */\\n  .side-by-side-container {\\n    display: flex;\\n    gap: 1.5rem;\\n    margin-bottom: 1.5rem;\\n  }\\n  \\n  :global(.half-width) {\\n    flex: 1;\\n  }\\n  \\n  @media (max-width: 768px) {\\n    .side-by-side-container {\\n      flex-direction: column;\\n    }\\n    \\n    :global(.half-width) {\\n      width: 100%;\\n    }\\n  }\\n\\n  /* 基音情報 */\\n  .base-note-info {\\n    text-align: center;\\n    padding: 1rem;\\n    background: hsl(210 40% 98%);\\n    border-radius: 6px;\\n    border: 1px solid hsl(214.3 31.8% 91.4%);\\n    font-size: 0.875rem;\\n    color: hsl(215.4 16.3% 46.9%);\\n  }\\n\\n  /* スケールガイド */\\n  .scale-guide {\\n    display: grid;\\n    grid-template-columns: repeat(4, 1fr);\\n    gap: 0.75rem;\\n    margin-bottom: 1rem;\\n  }\\n  \\n  .scale-item {\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    height: 3rem;\\n    border-radius: 6px;\\n    font-weight: 500;\\n    font-size: 0.875rem;\\n    border: 1px solid hsl(214.3 31.8% 91.4%);\\n    background: hsl(0 0% 100%);\\n    color: hsl(215.4 16.3% 46.9%);\\n    transition: all 0.3s ease;\\n  }\\n  \\n  .scale-item.active {\\n    background: hsl(47.9 95.8% 53.1%);\\n    color: hsl(222.2 84% 4.9%);\\n    border-color: hsl(47.9 95.8% 53.1%);\\n    transform: scale(1.05);\\n    box-shadow: 0 4px 8px 0 rgb(245 158 11 / 0.3);\\n  }\\n  \\n  .scale-item.correct {\\n    background: hsl(142.1 76.2% 36.3%);\\n    color: hsl(210 40% 98%);\\n    border-color: hsl(142.1 76.2% 36.3%);\\n  }\\n  \\n  .scale-item.current {\\n    box-shadow: 0 0 0 2px hsl(222.2 84% 4.9%);\\n  }\\n  \\n  .guide-instruction {\\n    text-align: center;\\n    font-size: 0.875rem;\\n    color: hsl(215.4 16.3% 46.9%);\\n    padding: 0.75rem;\\n    background: hsl(210 40% 98%);\\n    border-radius: 6px;\\n  }\\n\\n  /* 検出表示 */\\n  .detection-display {\\n    display: flex;\\n    flex-direction: column;\\n    gap: 1.5rem;\\n  }\\n  \\n  .detected-info {\\n    display: flex;\\n    align-items: center;\\n    gap: 0.5rem;\\n    font-size: 0.875rem;\\n  }\\n  \\n  .detected-label {\\n    color: hsl(215.4 16.3% 46.9%);\\n  }\\n  \\n  .detected-note {\\n    font-weight: 600;\\n    color: hsl(222.2 84% 4.9%);\\n  }\\n  \\n  .pitch-diff {\\n    color: hsl(47.9 95.8% 40%);\\n    font-weight: 500;\\n  }\\n  \\n  .volume-section {\\n    display: flex;\\n    flex-direction: column;\\n    gap: 0.5rem;\\n  }\\n  \\n  .volume-label {\\n    font-size: 0.875rem;\\n    color: hsl(215.4 16.3% 46.9%);\\n  }\\n  \\n  :global(.modern-volume-bar) {\\n    border-radius: 4px !important;\\n  }\\n\\n  /* 結果表示 */\\n  .results-summary {\\n    display: grid;\\n    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\\n    gap: 1rem;\\n    margin-bottom: 2rem;\\n  }\\n  \\n  .result-item {\\n    text-align: center;\\n    padding: 1rem;\\n    border-radius: 6px;\\n    background: hsl(0 0% 100%);\\n    border: 1px solid hsl(214.3 31.8% 91.4%);\\n  }\\n  \\n  .result-label {\\n    display: block;\\n    font-size: 0.875rem;\\n    color: hsl(215.4 16.3% 46.9%);\\n    margin-bottom: 0.25rem;\\n  }\\n  \\n  .result-value {\\n    display: block;\\n    font-size: 1.5rem;\\n    font-weight: 700;\\n    color: hsl(222.2 84% 4.9%);\\n  }\\n  \\n  .result-value.success {\\n    color: hsl(142.1 76.2% 36.3%);\\n  }\\n\\n  /* アクションボタン */\\n  .action-buttons {\\n    display: flex;\\n    gap: 0.75rem;\\n    justify-content: center;\\n    flex-wrap: wrap;\\n  }\\n\\n  /* エラー表示 */\\n  .error-content {\\n    text-align: center;\\n    padding: 2rem 1rem;\\n  }\\n  \\n  .error-icon, .loading-icon {\\n    font-size: 3rem;\\n    margin-bottom: 1rem;\\n  }\\n  \\n  .error-content h3 {\\n    font-size: 1.25rem;\\n    font-weight: 600;\\n    color: hsl(222.2 84% 4.9%);\\n    margin-bottom: 0.5rem;\\n  }\\n  \\n  .error-content p {\\n    color: hsl(215.4 16.3% 46.9%);\\n    margin-bottom: 1rem;\\n  }\\n  \\n  .recommendation {\\n    background: hsl(210 40% 98%);\\n    border: 1px solid hsl(214.3 31.8% 91.4%);\\n    border-radius: 6px;\\n    padding: 1rem;\\n    margin: 1rem 0;\\n  }\\n  \\n  .recommendation p {\\n    margin: 0;\\n    font-size: 0.875rem;\\n  }\\n\\n  /* レスポンシブ対応 */\\n  @media (min-width: 768px) {\\n    .scale-guide {\\n      grid-template-columns: repeat(8, 1fr);\\n    }\\n    \\n    .page-title {\\n      font-size: 2.5rem;\\n    }\\n    \\n    .results-summary {\\n      grid-template-columns: repeat(3, 1fr);\\n    }\\n  }\\n  \\n  @media (max-width: 640px) {\\n    .status-content {\\n      flex-direction: column;\\n      gap: 0.5rem;\\n    }\\n    \\n    .action-buttons {\\n      flex-direction: column;\\n    }\\n    \\n    :global(.primary-button), :global(.secondary-button) {\\n      min-width: 100% !important;\\n    }\\n  }\\n</style>"],"names":[],"mappings":"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"}`
};
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let trainingPhase = "setup";
  function getStatusMessage() {
    switch (trainingPhase) {
      case "setup":
        return "🎵 音源読み込み中...";
      case "listening":
        return "🎵 基音再生中...";
      case "detecting":
        return "🎙️ 練習中 - ドレミファソラシドを歌ってください";
      case "completed":
        return "🎉 セッション完了！";
      default:
        return "🔄 準備中...";
    }
  }
  onDestroy(() => {
  });
  $$result.css.add(css);
  return `${validate_component(PageLayout, "PageLayout").$$render($$result, {}, {}, {
    default: () => {
      return ` <div class="header-section svelte-liul6h"><h1 class="page-title svelte-liul6h" data-svelte-h="svelte-1ptm9zr">🎵 ランダム基音トレーニング</h1> <p class="page-description svelte-liul6h" data-svelte-h="svelte-19nes7">10種類の基音からランダムに選択してドレミファソラシドを練習</p></div>  ${validate_component(Card, "Card").$$render($$result, { variant: "primary", class: "status-card" }, {}, {
        default: () => {
          return `<div class="status-content svelte-liul6h"><div class="status-message svelte-liul6h">${escape(getStatusMessage())}</div> ${``}</div>`;
        }
      })} ${` ${validate_component(Card, "Card").$$render($$result, { class: "error-card" }, {}, {
        default: () => {
          return `<div class="error-content svelte-liul6h"><div class="error-icon svelte-liul6h" data-svelte-h="svelte-15rbx8n">🎤</div> <h3 class="svelte-liul6h" data-svelte-h="svelte-17kvze2">マイクテストが必要です</h3> <p class="svelte-liul6h" data-svelte-h="svelte-12s9olt">ランダム基音トレーニングを開始する前に、マイクテストページで音声入力の確認をお願いします。</p> <div class="recommendation svelte-liul6h"><p class="svelte-liul6h">このページは<strong data-svelte-h="svelte-1n3qsr6">マイクテスト完了後</strong>にご利用いただけます。</p> <p class="svelte-liul6h" data-svelte-h="svelte-v8nd09">まずはマイクテストページで音声確認を行ってください。</p></div> <div class="action-buttons svelte-liul6h">${validate_component(Button, "Button").$$render($$result, { variant: "primary" }, {}, {
            default: () => {
              return `🎤 マイクテストページへ移動`;
            }
          })} ${validate_component(Button, "Button").$$render($$result, { variant: "secondary" }, {}, {
            default: () => {
              return `🏠 ホームに戻る`;
            }
          })}</div></div>`;
        }
      })}`}`;
    }
  })}`;
});
export {
  Page as default
};
