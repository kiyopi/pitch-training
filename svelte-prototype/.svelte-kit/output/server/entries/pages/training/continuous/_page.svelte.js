import { c as create_ssr_component, v as validate_component, d as each, e as escape } from "../../../../chunks/ssr.js";
import { P as PageLayout, C as Card } from "../../../../chunks/PageLayout.js";
import { B as Button } from "../../../../chunks/Button.js";
const css = {
  code: ".continuous-training.svelte-najnvf.svelte-najnvf{max-width:800px;margin:0 auto;display:flex;flex-direction:column;gap:var(--space-6)}.header.svelte-najnvf.svelte-najnvf{text-align:center}.mode-header.svelte-najnvf.svelte-najnvf{display:flex;align-items:center;justify-content:center;gap:var(--space-4)}.mode-icon.svelte-najnvf.svelte-najnvf{width:64px;height:64px;border-radius:50%;background-color:#fed7aa;color:#ea580c;display:flex;align-items:center;justify-content:center;flex-shrink:0}.mode-title.svelte-najnvf.svelte-najnvf{font-size:var(--text-2xl);font-weight:700;color:var(--color-gray-900);margin:0 0 var(--space-1) 0}.mode-description.svelte-najnvf.svelte-najnvf{font-size:var(--text-base);color:var(--color-gray-600);margin:0}.setup-content.svelte-najnvf.svelte-najnvf{text-align:center}.setup-title.svelte-najnvf.svelte-najnvf{font-size:var(--text-xl);font-weight:600;color:var(--color-gray-900);margin:0 0 var(--space-2) 0}.setup-description.svelte-najnvf.svelte-najnvf{font-size:var(--text-base);color:var(--color-gray-600);margin:0 0 var(--space-6) 0;line-height:1.6}.challenge-selector.svelte-najnvf.svelte-najnvf{margin-bottom:var(--space-8)}.selector-title.svelte-najnvf.svelte-najnvf{font-size:var(--text-lg);font-weight:600;color:var(--color-gray-900);margin:0 0 var(--space-4) 0}.challenge-options.svelte-najnvf.svelte-najnvf{display:flex;gap:var(--space-2);justify-content:center;flex-wrap:wrap}.challenge-option.svelte-najnvf.svelte-najnvf{padding:var(--space-3) var(--space-4);border:2px solid var(--color-gray-300);border-radius:8px;background:white;color:var(--color-gray-700);font-weight:600;cursor:pointer;transition:all 0.2s ease}.challenge-option.svelte-najnvf.svelte-najnvf:hover{border-color:#ea580c;color:#ea580c}.challenge-option.selected.svelte-najnvf.svelte-najnvf{border-color:#ea580c;background-color:#ea580c;color:white}.instructions.svelte-najnvf.svelte-najnvf{display:flex;flex-direction:column;gap:var(--space-4);margin-bottom:var(--space-8);text-align:left}.instruction-item.svelte-najnvf.svelte-najnvf{display:flex;align-items:flex-start;gap:var(--space-3)}.step-number.svelte-najnvf.svelte-najnvf{width:32px;height:32px;border-radius:50%;background-color:#ea580c;color:white;display:flex;align-items:center;justify-content:center;font-weight:600;flex-shrink:0}.instruction-item.svelte-najnvf h3.svelte-najnvf{font-size:var(--text-lg);font-weight:600;color:var(--color-gray-900);margin:0 0 var(--space-1) 0}.instruction-item.svelte-najnvf p.svelte-najnvf{font-size:var(--text-sm);color:var(--color-gray-600);margin:0}.playing-content.svelte-najnvf.svelte-najnvf{text-align:center}.challenge-progress.svelte-najnvf.svelte-najnvf{margin-bottom:var(--space-4)}.progress-text.svelte-najnvf.svelte-najnvf{font-size:var(--text-sm);font-weight:600;color:#ea580c;background-color:#fed7aa;padding:var(--space-1) var(--space-3);border-radius:999px}.playing-icon.svelte-najnvf.svelte-najnvf{width:80px;height:80px;border-radius:50%;background-color:#fed7aa;color:#ea580c;display:flex;align-items:center;justify-content:center;margin:0 auto var(--space-4) auto}.playing-title.svelte-najnvf.svelte-najnvf{font-size:var(--text-xl);font-weight:600;color:var(--color-gray-900);margin:0 0 var(--space-2) 0}.playing-note.svelte-najnvf.svelte-najnvf{font-size:var(--text-lg);font-weight:600;color:#ea580c;margin:0 0 var(--space-2) 0}.playing-instruction.svelte-najnvf.svelte-najnvf{font-size:var(--text-base);color:var(--color-gray-600);margin:0 0 var(--space-6) 0}.playing-progress.svelte-najnvf.svelte-najnvf{margin:0 auto;max-width:200px}.progress-bar.svelte-najnvf.svelte-najnvf{height:8px;background-color:var(--color-gray-200);border-radius:4px;overflow:hidden}.progress-fill.svelte-najnvf.svelte-najnvf{height:100%;background-color:#ea580c;animation:svelte-najnvf-progress 2.5s ease-in-out}@keyframes svelte-najnvf-progress{from{width:0%}to{width:100%}}.challenge-status.svelte-najnvf.svelte-najnvf{text-align:center}.status-row.svelte-najnvf.svelte-najnvf{display:flex;justify-content:space-between;font-size:var(--text-sm);font-weight:600;color:var(--color-gray-700)}.guide-content.svelte-najnvf.svelte-najnvf{text-align:center}.guide-title.svelte-najnvf.svelte-najnvf{font-size:var(--text-xl);font-weight:600;color:var(--color-gray-900);margin:0 0 var(--space-6) 0}.scale-guide.svelte-najnvf.svelte-najnvf{display:grid;grid-template-columns:repeat(8, 1fr);gap:var(--space-2)}.scale-note.svelte-najnvf.svelte-najnvf{display:flex;flex-direction:column;align-items:center;padding:var(--space-3);border-radius:8px;background-color:var(--color-gray-100);transition:all 0.3s ease}.scale-note.active.svelte-najnvf.svelte-najnvf{background-color:#ea580c;color:white;transform:scale(1.1)}.scale-note.completed.svelte-najnvf.svelte-najnvf{background-color:var(--color-gray-200)}.note-text.svelte-najnvf.svelte-najnvf{font-weight:600;margin-bottom:var(--space-1)}.result-icon.svelte-najnvf.svelte-najnvf{font-size:var(--text-sm);font-weight:600}.result-icon.correct.svelte-najnvf.svelte-najnvf{color:var(--color-success)}.result-icon.incorrect.svelte-najnvf.svelte-najnvf{color:var(--color-error)}.realtime-display.svelte-najnvf.svelte-najnvf{margin-top:var(--space-6)}.display-grid.svelte-najnvf.svelte-najnvf{display:grid;gap:var(--space-4);grid-template-columns:1fr 1fr}.display-title.svelte-najnvf.svelte-najnvf{font-size:var(--text-base);font-weight:600;color:var(--color-gray-900);margin:0 0 var(--space-3) 0;text-align:center}.volume-bar-container.svelte-najnvf.svelte-najnvf{display:flex;align-items:center;gap:var(--space-2)}.volume-bar.svelte-najnvf.svelte-najnvf{flex:1;height:8px;background:var(--color-gray-200);border-radius:4px;overflow:hidden}.volume-fill.svelte-najnvf.svelte-najnvf{height:100%;background:linear-gradient(to right, #ea580c, #fed7aa);transition:width 0.1s ease}.volume-text.svelte-najnvf.svelte-najnvf{font-size:var(--text-xs);font-weight:600;color:var(--color-gray-700);min-width:30px}.pitch-info.svelte-najnvf.svelte-najnvf{text-align:center}.frequency-value.svelte-najnvf.svelte-najnvf{font-size:var(--text-lg);font-weight:700;color:var(--color-gray-900);margin-bottom:var(--space-1)}.note-value.svelte-najnvf.svelte-najnvf{font-size:var(--text-base);font-weight:600;color:var(--color-gray-700)}.results-content.svelte-najnvf.svelte-najnvf{text-align:center}.results-title.svelte-najnvf.svelte-najnvf{font-size:var(--text-xl);font-weight:600;color:var(--color-gray-900);margin:0 0 var(--space-6) 0}.total-score-display.svelte-najnvf.svelte-najnvf{margin-bottom:var(--space-8)}.score-circle.svelte-najnvf.svelte-najnvf{width:120px;height:120px;border-radius:50%;background-color:#fed7aa;display:flex;align-items:center;justify-content:center;margin:0 auto var(--space-3) auto;border:4px solid #ea580c}.score-value.svelte-najnvf.svelte-najnvf{font-size:var(--text-4xl);font-weight:700;color:#ea580c}.score-unit.svelte-najnvf.svelte-najnvf{font-size:var(--text-lg);font-weight:600;color:#ea580c;margin-left:var(--space-1)}.score-description.svelte-najnvf.svelte-najnvf{font-size:var(--text-base);color:var(--color-gray-600);margin:0 0 var(--space-1) 0}.total-stats.svelte-najnvf.svelte-najnvf{font-size:var(--text-sm);color:var(--color-gray-500);margin:0}.details-title.svelte-najnvf.svelte-najnvf{font-size:var(--text-lg);font-weight:600;color:var(--color-gray-900);margin:0 0 var(--space-4) 0}.challenge-results.svelte-najnvf.svelte-najnvf{display:flex;flex-direction:column;gap:var(--space-3);margin-bottom:var(--space-8)}.challenge-result.svelte-najnvf.svelte-najnvf{padding:var(--space-4);border:1px solid var(--color-gray-200);border-radius:8px;background:var(--color-gray-50)}.challenge-header.svelte-najnvf.svelte-najnvf{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--space-2);font-size:var(--text-sm);font-weight:600}.challenge-number.svelte-najnvf.svelte-najnvf{color:#ea580c}.challenge-score.svelte-najnvf.svelte-najnvf{color:var(--color-gray-900)}.challenge-base.svelte-najnvf.svelte-najnvf{color:var(--color-gray-600)}.challenge-scales.svelte-najnvf.svelte-najnvf{display:flex;gap:var(--space-1);justify-content:center}.scale-result-mini.svelte-najnvf.svelte-najnvf{padding:var(--space-1) var(--space-2);border-radius:4px;font-size:var(--text-xs);font-weight:600}.scale-result-mini.correct.svelte-najnvf.svelte-najnvf{background-color:var(--color-success-pale);color:var(--color-success)}.scale-result-mini.incorrect.svelte-najnvf.svelte-najnvf{background-color:var(--color-error-pale);color:var(--color-error)}.action-buttons.svelte-najnvf.svelte-najnvf{display:flex;flex-direction:column;gap:var(--space-3)}@media(max-width: 767px){.scale-guide.svelte-najnvf.svelte-najnvf{grid-template-columns:repeat(4, 1fr)}.display-grid.svelte-najnvf.svelte-najnvf{grid-template-columns:1fr}.mode-header.svelte-najnvf.svelte-najnvf{flex-direction:column;text-align:center}.challenge-options.svelte-najnvf.svelte-najnvf{gap:var(--space-1)}.challenge-option.svelte-najnvf.svelte-najnvf{padding:var(--space-2) var(--space-3);font-size:var(--text-sm)}.challenge-header.svelte-najnvf.svelte-najnvf{flex-direction:column;gap:var(--space-1);align-items:flex-start}}",
  map: `{"version":3,"file":"+page.svelte","sources":["+page.svelte"],"sourcesContent":["<script>\\n  import { onMount } from 'svelte';\\n  import Card from '$lib/components/Card.svelte';\\n  import Button from '$lib/components/Button.svelte';\\n  import PageLayout from '$lib/components/PageLayout.svelte';\\n\\n  // トレーニング状態管理\\n  let challengeCount = 5;\\n  let currentChallenge = 0;\\n  let isPlaying = false;\\n  let isDetecting = false;\\n  let currentBaseNote = '';\\n  let currentScaleIndex = 0;\\n  let scaleResults = [];\\n  let challengeResults = [];\\n  let showFinalResults = false;\\n  let currentVolume = 0;\\n  let currentFrequency = 0;\\n  let currentNote = '';\\n  \\n  // 音階システム\\n  const scaleNotes = ['ド', 'レ', 'ミ', 'ファ', 'ソ', 'ラ', 'シ', 'ド'];\\n  const baseNotes = ['Bb3', 'B3', 'C4', 'Db4', 'D4', 'Eb4', 'E4', 'F4', 'Gb4', 'G4'];\\n  \\n  // チャレンジ回数設定\\n  const challengeOptions = [3, 5, 10, 15, 20];\\n  \\n  // 基音ランダム選択\\n  function selectRandomBase() {\\n    const randomIndex = Math.floor(Math.random() * baseNotes.length);\\n    currentBaseNote = baseNotes[randomIndex];\\n    return currentBaseNote;\\n  }\\n\\n  // チャレンジ開始\\n  function startChallenges() {\\n    // リセット\\n    currentChallenge = 0;\\n    challengeResults = [];\\n    showFinalResults = false;\\n    \\n    startSingleChallenge();\\n  }\\n\\n  // 単一チャレンジ開始\\n  function startSingleChallenge() {\\n    // リセット\\n    currentScaleIndex = 0;\\n    scaleResults = [];\\n    \\n    // 基音選択・再生\\n    const baseNote = selectRandomBase();\\n    playBaseNote(baseNote);\\n  }\\n\\n  // 基音再生（モック）\\n  function playBaseNote(note) {\\n    isPlaying = true;\\n    console.log(\`基音再生: \${note}\`);\\n    \\n    // 2.5秒後に再生完了、検出開始\\n    setTimeout(() => {\\n      isPlaying = false;\\n      startDetection();\\n    }, 2500);\\n  }\\n\\n  // 音程検出開始（モック）\\n  function startDetection() {\\n    isDetecting = true;\\n    \\n    // モック：音程検出シミュレート\\n    const detectionInterval = setInterval(() => {\\n      if (!isDetecting) {\\n        clearInterval(detectionInterval);\\n        return;\\n      }\\n      \\n      // ランダムな音量・周波数データ\\n      currentVolume = Math.random() * 100;\\n      const frequencies = [261.63, 293.66, 329.63, 349.23, 392.00, 440.00, 493.88, 523.25];\\n      currentFrequency = frequencies[Math.floor(Math.random() * frequencies.length)];\\n      currentNote = scaleNotes[Math.floor(Math.random() * scaleNotes.length)];\\n      \\n      // モック：正解判定（ランダム）\\n      if (Math.random() > 0.7) {\\n        const isCorrect = Math.random() > 0.3; // 70%の確率で正解\\n        scaleResults[currentScaleIndex] = isCorrect;\\n        currentScaleIndex++;\\n        \\n        // 8音階完了チェック\\n        if (currentScaleIndex >= 8) {\\n          finishSingleChallenge();\\n        }\\n      }\\n    }, 500);\\n  }\\n\\n  // 単一チャレンジ終了\\n  function finishSingleChallenge() {\\n    isDetecting = false;\\n    \\n    // チャレンジ結果を記録\\n    const correctCount = scaleResults.filter(result => result).length;\\n    const score = Math.round((correctCount / 8) * 100);\\n    challengeResults.push({\\n      challenge: currentChallenge + 1,\\n      baseNote: currentBaseNote,\\n      scaleResults: [...scaleResults],\\n      score: score\\n    });\\n    \\n    currentChallenge++;\\n    \\n    // 全チャレンジ完了チェック\\n    if (currentChallenge >= challengeCount) {\\n      showFinalResults = true;\\n    } else {\\n      // 次のチャレンジまで少し待機\\n      setTimeout(() => {\\n        startSingleChallenge();\\n      }, 1500);\\n    }\\n  }\\n\\n  // 音量バー幅計算\\n  $: volumeWidth = Math.max(0, Math.min(100, currentVolume));\\n  \\n  // 総合成績計算\\n  $: totalScore = challengeResults.length > 0 ? \\n    Math.round(challengeResults.reduce((sum, result) => sum + result.score, 0) / challengeResults.length) : 0;\\n  $: totalCorrect = challengeResults.reduce((sum, result) => \\n    sum + result.scaleResults.filter(r => r).length, 0);\\n  $: totalNotes = challengeResults.length * 8;\\n<\/script>\\n\\n<svelte:head>\\n  <title>連続チャレンジモード - 相対音感トレーニング</title>\\n</svelte:head>\\n\\n<PageLayout showBackButton={true}>\\n  <div class=\\"continuous-training\\">\\n    <!-- ヘッダー -->\\n    <div class=\\"header\\">\\n      <div class=\\"mode-header\\">\\n        <div class=\\"mode-icon\\">\\n          <svg width=\\"32\\" height=\\"32\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" stroke=\\"currentColor\\" stroke-width=\\"2\\">\\n            <circle cx=\\"12\\" cy=\\"12\\" r=\\"10\\"/>\\n            <circle cx=\\"12\\" cy=\\"12\\" r=\\"6\\"/>\\n            <circle cx=\\"12\\" cy=\\"12\\" r=\\"2\\"/>\\n          </svg>\\n        </div>\\n        <div>\\n          <h1 class=\\"mode-title\\">連続チャレンジモード</h1>\\n          <p class=\\"mode-description\\">選択した回数だけ連続で実行し、総合評価を確認</p>\\n        </div>\\n      </div>\\n    </div>\\n\\n    {#if !isPlaying && !isDetecting && !showFinalResults && currentChallenge === 0}\\n      <!-- 設定画面 -->\\n      <div class=\\"setup-screen\\">\\n        <Card variant=\\"default\\" padding=\\"lg\\">\\n          <div class=\\"setup-content\\">\\n            <h2 class=\\"setup-title\\">連続チャレンジ設定</h2>\\n            <p class=\\"setup-description\\">\\n              連続でトレーニングを実行し、総合的な相対音感を評価します\\n            </p>\\n            \\n            <!-- チャレンジ回数選択 -->\\n            <div class=\\"challenge-selector\\">\\n              <h3 class=\\"selector-title\\">チャレンジ回数</h3>\\n              <div class=\\"challenge-options\\">\\n                {#each challengeOptions as option}\\n                  <button \\n                    class=\\"challenge-option {challengeCount === option ? 'selected' : ''}\\"\\n                    on:click={() => challengeCount = option}\\n                  >\\n                    {option}回\\n                  </button>\\n                {/each}\\n              </div>\\n            </div>\\n            \\n            <div class=\\"instructions\\">\\n              <div class=\\"instruction-item\\">\\n                <span class=\\"step-number\\">1</span>\\n                <div>\\n                  <h3>連続実行</h3>\\n                  <p>{challengeCount}回のトレーニングを連続で実行します</p>\\n                </div>\\n              </div>\\n              \\n              <div class=\\"instruction-item\\">\\n                <span class=\\"step-number\\">2</span>\\n                <div>\\n                  <h3>自動進行</h3>\\n                  <p>各チャレンジ完了後、自動的に次のチャレンジが開始されます</p>\\n                </div>\\n              </div>\\n              \\n              <div class=\\"instruction-item\\">\\n                <span class=\\"step-number\\">3</span>\\n                <div>\\n                  <h3>総合評価</h3>\\n                  <p>全チャレンジ完了後、詳細な成績分析を表示します</p>\\n                </div>\\n              </div>\\n            </div>\\n\\n            <Button variant=\\"warning\\" size=\\"lg\\" fullWidth on:click={startChallenges}>\\n              連続チャレンジ開始\\n            </Button>\\n          </div>\\n        </Card>\\n      </div>\\n    {:else if isPlaying}\\n      <!-- 基音再生中 -->\\n      <div class=\\"playing-screen\\">\\n        <Card variant=\\"warning\\" padding=\\"lg\\">\\n          <div class=\\"playing-content\\">\\n            <div class=\\"challenge-progress\\">\\n              <span class=\\"progress-text\\">チャレンジ {currentChallenge + 1} / {challengeCount}</span>\\n            </div>\\n            \\n            <div class=\\"playing-icon\\">\\n              <svg width=\\"48\\" height=\\"48\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" stroke=\\"currentColor\\" stroke-width=\\"2\\">\\n                <circle cx=\\"12\\" cy=\\"12\\" r=\\"10\\"/>\\n                <polygon points=\\"10,8 16,12 10,16\\"/>\\n              </svg>\\n            </div>\\n            <h2 class=\\"playing-title\\">基音再生中</h2>\\n            <p class=\\"playing-note\\">基音: {currentBaseNote}</p>\\n            <p class=\\"playing-instruction\\">\\n              この音を覚えて「ド」として認識してください\\n            </p>\\n            \\n            <div class=\\"playing-progress\\">\\n              <div class=\\"progress-bar\\">\\n                <div class=\\"progress-fill\\"></div>\\n              </div>\\n            </div>\\n          </div>\\n        </Card>\\n      </div>\\n    {:else if isDetecting}\\n      <!-- 音程検出中 -->\\n      <div class=\\"detection-screen\\">\\n        <!-- チャレンジ進行状況 -->\\n        <Card variant=\\"default\\" padding=\\"md\\">\\n          <div class=\\"challenge-status\\">\\n            <div class=\\"status-row\\">\\n              <span>チャレンジ進行: {currentChallenge + 1} / {challengeCount}</span>\\n              <span>完了: {challengeResults.length}</span>\\n            </div>\\n          </div>\\n        </Card>\\n\\n        <!-- ガイドアニメーション -->\\n        <Card variant=\\"default\\" padding=\\"lg\\">\\n          <div class=\\"guide-content\\">\\n            <h2 class=\\"guide-title\\">ドレミファソラシドを歌ってください</h2>\\n            <div class=\\"scale-guide\\">\\n              {#each scaleNotes as note, index}\\n                <div class=\\"scale-note\\" class:active={index === currentScaleIndex} class:completed={scaleResults[index] !== undefined}>\\n                  <span class=\\"note-text\\">{note}</span>\\n                  {#if scaleResults[index] !== undefined}\\n                    <span class=\\"result-icon {scaleResults[index] ? 'correct' : 'incorrect'}\\">\\n                      {scaleResults[index] ? '✓' : '×'}\\n                    </span>\\n                  {/if}\\n                </div>\\n              {/each}\\n            </div>\\n          </div>\\n        </Card>\\n\\n        <!-- リアルタイム表示 -->\\n        <div class=\\"realtime-display\\">\\n          <div class=\\"display-grid\\">\\n            <!-- 音量表示 -->\\n            <Card variant=\\"default\\" padding=\\"md\\">\\n              <div class=\\"volume-display\\">\\n                <h3 class=\\"display-title\\">音量レベル</h3>\\n                <div class=\\"volume-bar-container\\">\\n                  <div class=\\"volume-bar\\">\\n                    <div class=\\"volume-fill\\" style=\\"width: {volumeWidth}%\\"></div>\\n                  </div>\\n                  <span class=\\"volume-text\\">{Math.round(currentVolume)}%</span>\\n                </div>\\n              </div>\\n            </Card>\\n\\n            <!-- 音程表示 -->\\n            <Card variant=\\"default\\" padding=\\"md\\">\\n              <div class=\\"pitch-display\\">\\n                <h3 class=\\"display-title\\">検出音程</h3>\\n                <div class=\\"pitch-info\\">\\n                  <div class=\\"frequency-value\\">{currentFrequency.toFixed(1)} Hz</div>\\n                  <div class=\\"note-value\\">{currentNote}</div>\\n                </div>\\n              </div>\\n            </Card>\\n          </div>\\n        </div>\\n      </div>\\n    {:else if showFinalResults}\\n      <!-- 最終結果表示 -->\\n      <div class=\\"results-screen\\">\\n        <Card variant=\\"default\\" padding=\\"lg\\">\\n          <div class=\\"results-content\\">\\n            <h2 class=\\"results-title\\">連続チャレンジ結果</h2>\\n            \\n            <!-- 総合スコア表示 -->\\n            <div class=\\"total-score-display\\">\\n              <div class=\\"score-circle\\">\\n                <span class=\\"score-value\\">{totalScore}</span>\\n                <span class=\\"score-unit\\">点</span>\\n              </div>\\n              <p class=\\"score-description\\">\\n                平均スコア ({challengeCount}回チャレンジ)\\n              </p>\\n              <p class=\\"total-stats\\">\\n                {totalNotes}音階中 {totalCorrect}音階 正解\\n              </p>\\n            </div>\\n\\n            <!-- チャレンジ別結果 -->\\n            <div class=\\"detailed-results\\">\\n              <h3 class=\\"details-title\\">チャレンジ別結果</h3>\\n              <div class=\\"challenge-results\\">\\n                {#each challengeResults as result, index}\\n                  <div class=\\"challenge-result\\">\\n                    <div class=\\"challenge-header\\">\\n                      <span class=\\"challenge-number\\">#{result.challenge}</span>\\n                      <span class=\\"challenge-score\\">{result.score}点</span>\\n                      <span class=\\"challenge-base\\">基音: {result.baseNote}</span>\\n                    </div>\\n                    <div class=\\"challenge-scales\\">\\n                      {#each result.scaleResults as scaleResult, scaleIndex}\\n                        <span class=\\"scale-result-mini {scaleResult ? 'correct' : 'incorrect'}\\">\\n                          {scaleNotes[scaleIndex]}\\n                        </span>\\n                      {/each}\\n                    </div>\\n                  </div>\\n                {/each}\\n              </div>\\n            </div>\\n\\n            <!-- アクションボタン -->\\n            <div class=\\"action-buttons\\">\\n              <Button variant=\\"warning\\" size=\\"lg\\" fullWidth on:click={() => { currentChallenge = 0; challengeResults = []; showFinalResults = false; }}>\\n                もう一度チャレンジ\\n              </Button>\\n              <Button variant=\\"secondary\\" size=\\"md\\" fullWidth>\\n                結果を保存\\n              </Button>\\n            </div>\\n          </div>\\n        </Card>\\n      </div>\\n    {/if}\\n  </div>\\n</PageLayout>\\n\\n<style>\\n  .continuous-training {\\n    max-width: 800px;\\n    margin: 0 auto;\\n    display: flex;\\n    flex-direction: column;\\n    gap: var(--space-6);\\n  }\\n\\n  .header {\\n    text-align: center;\\n  }\\n\\n  .mode-header {\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    gap: var(--space-4);\\n  }\\n\\n  .mode-icon {\\n    width: 64px;\\n    height: 64px;\\n    border-radius: 50%;\\n    background-color: #fed7aa;\\n    color: #ea580c;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    flex-shrink: 0;\\n  }\\n\\n  .mode-title {\\n    font-size: var(--text-2xl);\\n    font-weight: 700;\\n    color: var(--color-gray-900);\\n    margin: 0 0 var(--space-1) 0;\\n  }\\n\\n  .mode-description {\\n    font-size: var(--text-base);\\n    color: var(--color-gray-600);\\n    margin: 0;\\n  }\\n\\n  /* 設定画面 */\\n  .setup-content {\\n    text-align: center;\\n  }\\n\\n  .setup-title {\\n    font-size: var(--text-xl);\\n    font-weight: 600;\\n    color: var(--color-gray-900);\\n    margin: 0 0 var(--space-2) 0;\\n  }\\n\\n  .setup-description {\\n    font-size: var(--text-base);\\n    color: var(--color-gray-600);\\n    margin: 0 0 var(--space-6) 0;\\n    line-height: 1.6;\\n  }\\n\\n  .challenge-selector {\\n    margin-bottom: var(--space-8);\\n  }\\n\\n  .selector-title {\\n    font-size: var(--text-lg);\\n    font-weight: 600;\\n    color: var(--color-gray-900);\\n    margin: 0 0 var(--space-4) 0;\\n  }\\n\\n  .challenge-options {\\n    display: flex;\\n    gap: var(--space-2);\\n    justify-content: center;\\n    flex-wrap: wrap;\\n  }\\n\\n  .challenge-option {\\n    padding: var(--space-3) var(--space-4);\\n    border: 2px solid var(--color-gray-300);\\n    border-radius: 8px;\\n    background: white;\\n    color: var(--color-gray-700);\\n    font-weight: 600;\\n    cursor: pointer;\\n    transition: all 0.2s ease;\\n  }\\n\\n  .challenge-option:hover {\\n    border-color: #ea580c;\\n    color: #ea580c;\\n  }\\n\\n  .challenge-option.selected {\\n    border-color: #ea580c;\\n    background-color: #ea580c;\\n    color: white;\\n  }\\n\\n  .instructions {\\n    display: flex;\\n    flex-direction: column;\\n    gap: var(--space-4);\\n    margin-bottom: var(--space-8);\\n    text-align: left;\\n  }\\n\\n  .instruction-item {\\n    display: flex;\\n    align-items: flex-start;\\n    gap: var(--space-3);\\n  }\\n\\n  .step-number {\\n    width: 32px;\\n    height: 32px;\\n    border-radius: 50%;\\n    background-color: #ea580c;\\n    color: white;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    font-weight: 600;\\n    flex-shrink: 0;\\n  }\\n\\n  .instruction-item h3 {\\n    font-size: var(--text-lg);\\n    font-weight: 600;\\n    color: var(--color-gray-900);\\n    margin: 0 0 var(--space-1) 0;\\n  }\\n\\n  .instruction-item p {\\n    font-size: var(--text-sm);\\n    color: var(--color-gray-600);\\n    margin: 0;\\n  }\\n\\n  /* 基音再生画面 */\\n  .playing-content {\\n    text-align: center;\\n  }\\n\\n  .challenge-progress {\\n    margin-bottom: var(--space-4);\\n  }\\n\\n  .progress-text {\\n    font-size: var(--text-sm);\\n    font-weight: 600;\\n    color: #ea580c;\\n    background-color: #fed7aa;\\n    padding: var(--space-1) var(--space-3);\\n    border-radius: 999px;\\n  }\\n\\n  .playing-icon {\\n    width: 80px;\\n    height: 80px;\\n    border-radius: 50%;\\n    background-color: #fed7aa;\\n    color: #ea580c;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    margin: 0 auto var(--space-4) auto;\\n  }\\n\\n  .playing-title {\\n    font-size: var(--text-xl);\\n    font-weight: 600;\\n    color: var(--color-gray-900);\\n    margin: 0 0 var(--space-2) 0;\\n  }\\n\\n  .playing-note {\\n    font-size: var(--text-lg);\\n    font-weight: 600;\\n    color: #ea580c;\\n    margin: 0 0 var(--space-2) 0;\\n  }\\n\\n  .playing-instruction {\\n    font-size: var(--text-base);\\n    color: var(--color-gray-600);\\n    margin: 0 0 var(--space-6) 0;\\n  }\\n\\n  .playing-progress {\\n    margin: 0 auto;\\n    max-width: 200px;\\n  }\\n\\n  .progress-bar {\\n    height: 8px;\\n    background-color: var(--color-gray-200);\\n    border-radius: 4px;\\n    overflow: hidden;\\n  }\\n\\n  .progress-fill {\\n    height: 100%;\\n    background-color: #ea580c;\\n    animation: progress 2.5s ease-in-out;\\n  }\\n\\n  @keyframes progress {\\n    from { width: 0%; }\\n    to { width: 100%; }\\n  }\\n\\n  /* チャレンジステータス */\\n  .challenge-status {\\n    text-align: center;\\n  }\\n\\n  .status-row {\\n    display: flex;\\n    justify-content: space-between;\\n    font-size: var(--text-sm);\\n    font-weight: 600;\\n    color: var(--color-gray-700);\\n  }\\n\\n  /* 検出画面（共通スタイル再利用） */\\n  .guide-content {\\n    text-align: center;\\n  }\\n\\n  .guide-title {\\n    font-size: var(--text-xl);\\n    font-weight: 600;\\n    color: var(--color-gray-900);\\n    margin: 0 0 var(--space-6) 0;\\n  }\\n\\n  .scale-guide {\\n    display: grid;\\n    grid-template-columns: repeat(8, 1fr);\\n    gap: var(--space-2);\\n  }\\n\\n  .scale-note {\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n    padding: var(--space-3);\\n    border-radius: 8px;\\n    background-color: var(--color-gray-100);\\n    transition: all 0.3s ease;\\n  }\\n\\n  .scale-note.active {\\n    background-color: #ea580c;\\n    color: white;\\n    transform: scale(1.1);\\n  }\\n\\n  .scale-note.completed {\\n    background-color: var(--color-gray-200);\\n  }\\n\\n  .note-text {\\n    font-weight: 600;\\n    margin-bottom: var(--space-1);\\n  }\\n\\n  .result-icon {\\n    font-size: var(--text-sm);\\n    font-weight: 600;\\n  }\\n\\n  .result-icon.correct {\\n    color: var(--color-success);\\n  }\\n\\n  .result-icon.incorrect {\\n    color: var(--color-error);\\n  }\\n\\n  .realtime-display {\\n    margin-top: var(--space-6);\\n  }\\n\\n  .display-grid {\\n    display: grid;\\n    gap: var(--space-4);\\n    grid-template-columns: 1fr 1fr;\\n  }\\n\\n  .display-title {\\n    font-size: var(--text-base);\\n    font-weight: 600;\\n    color: var(--color-gray-900);\\n    margin: 0 0 var(--space-3) 0;\\n    text-align: center;\\n  }\\n\\n  .volume-bar-container {\\n    display: flex;\\n    align-items: center;\\n    gap: var(--space-2);\\n  }\\n\\n  .volume-bar {\\n    flex: 1;\\n    height: 8px;\\n    background: var(--color-gray-200);\\n    border-radius: 4px;\\n    overflow: hidden;\\n  }\\n\\n  .volume-fill {\\n    height: 100%;\\n    background: linear-gradient(to right, #ea580c, #fed7aa);\\n    transition: width 0.1s ease;\\n  }\\n\\n  .volume-text {\\n    font-size: var(--text-xs);\\n    font-weight: 600;\\n    color: var(--color-gray-700);\\n    min-width: 30px;\\n  }\\n\\n  .pitch-info {\\n    text-align: center;\\n  }\\n\\n  .frequency-value {\\n    font-size: var(--text-lg);\\n    font-weight: 700;\\n    color: var(--color-gray-900);\\n    margin-bottom: var(--space-1);\\n  }\\n\\n  .note-value {\\n    font-size: var(--text-base);\\n    font-weight: 600;\\n    color: var(--color-gray-700);\\n  }\\n\\n  /* 結果画面 */\\n  .results-content {\\n    text-align: center;\\n  }\\n\\n  .results-title {\\n    font-size: var(--text-xl);\\n    font-weight: 600;\\n    color: var(--color-gray-900);\\n    margin: 0 0 var(--space-6) 0;\\n  }\\n\\n  .total-score-display {\\n    margin-bottom: var(--space-8);\\n  }\\n\\n  .score-circle {\\n    width: 120px;\\n    height: 120px;\\n    border-radius: 50%;\\n    background-color: #fed7aa;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    margin: 0 auto var(--space-3) auto;\\n    border: 4px solid #ea580c;\\n  }\\n\\n  .score-value {\\n    font-size: var(--text-4xl);\\n    font-weight: 700;\\n    color: #ea580c;\\n  }\\n\\n  .score-unit {\\n    font-size: var(--text-lg);\\n    font-weight: 600;\\n    color: #ea580c;\\n    margin-left: var(--space-1);\\n  }\\n\\n  .score-description {\\n    font-size: var(--text-base);\\n    color: var(--color-gray-600);\\n    margin: 0 0 var(--space-1) 0;\\n  }\\n\\n  .total-stats {\\n    font-size: var(--text-sm);\\n    color: var(--color-gray-500);\\n    margin: 0;\\n  }\\n\\n  .details-title {\\n    font-size: var(--text-lg);\\n    font-weight: 600;\\n    color: var(--color-gray-900);\\n    margin: 0 0 var(--space-4) 0;\\n  }\\n\\n  .challenge-results {\\n    display: flex;\\n    flex-direction: column;\\n    gap: var(--space-3);\\n    margin-bottom: var(--space-8);\\n  }\\n\\n  .challenge-result {\\n    padding: var(--space-4);\\n    border: 1px solid var(--color-gray-200);\\n    border-radius: 8px;\\n    background: var(--color-gray-50);\\n  }\\n\\n  .challenge-header {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n    margin-bottom: var(--space-2);\\n    font-size: var(--text-sm);\\n    font-weight: 600;\\n  }\\n\\n  .challenge-number {\\n    color: #ea580c;\\n  }\\n\\n  .challenge-score {\\n    color: var(--color-gray-900);\\n  }\\n\\n  .challenge-base {\\n    color: var(--color-gray-600);\\n  }\\n\\n  .challenge-scales {\\n    display: flex;\\n    gap: var(--space-1);\\n    justify-content: center;\\n  }\\n\\n  .scale-result-mini {\\n    padding: var(--space-1) var(--space-2);\\n    border-radius: 4px;\\n    font-size: var(--text-xs);\\n    font-weight: 600;\\n  }\\n\\n  .scale-result-mini.correct {\\n    background-color: var(--color-success-pale);\\n    color: var(--color-success);\\n  }\\n\\n  .scale-result-mini.incorrect {\\n    background-color: var(--color-error-pale);\\n    color: var(--color-error);\\n  }\\n\\n  .action-buttons {\\n    display: flex;\\n    flex-direction: column;\\n    gap: var(--space-3);\\n  }\\n\\n  @media (max-width: 767px) {\\n    .scale-guide {\\n      grid-template-columns: repeat(4, 1fr);\\n    }\\n\\n    .display-grid {\\n      grid-template-columns: 1fr;\\n    }\\n\\n    .mode-header {\\n      flex-direction: column;\\n      text-align: center;\\n    }\\n\\n    .challenge-options {\\n      gap: var(--space-1);\\n    }\\n\\n    .challenge-option {\\n      padding: var(--space-2) var(--space-3);\\n      font-size: var(--text-sm);\\n    }\\n\\n    .challenge-header {\\n      flex-direction: column;\\n      gap: var(--space-1);\\n      align-items: flex-start;\\n    }\\n  }\\n</style>"],"names":[],"mappings":"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"}`
};
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let challengeCount = 5;
  let challengeResults = [];
  const challengeOptions = [3, 5, 10, 15, 20];
  $$result.css.add(css);
  challengeResults.length > 0 ? Math.round(challengeResults.reduce((sum, result) => sum + result.score, 0) / challengeResults.length) : 0;
  challengeResults.reduce((sum, result) => sum + result.scaleResults.filter((r) => r).length, 0);
  return `${$$result.head += `<!-- HEAD_svelte-13kpo59_START -->${$$result.title = `<title>連続チャレンジモード - 相対音感トレーニング</title>`, ""}<!-- HEAD_svelte-13kpo59_END -->`, ""} ${validate_component(PageLayout, "PageLayout").$$render($$result, { showBackButton: true }, {}, {
    default: () => {
      return `<div class="continuous-training svelte-najnvf"> <div class="header svelte-najnvf" data-svelte-h="svelte-1qc1h0k"><div class="mode-header svelte-najnvf"><div class="mode-icon svelte-najnvf"><svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="6"></circle><circle cx="12" cy="12" r="2"></circle></svg></div> <div><h1 class="mode-title svelte-najnvf">連続チャレンジモード</h1> <p class="mode-description svelte-najnvf">選択した回数だけ連続で実行し、総合評価を確認</p></div></div></div> ${` <div class="setup-screen">${validate_component(Card, "Card").$$render($$result, { variant: "default", padding: "lg" }, {}, {
        default: () => {
          return `<div class="setup-content svelte-najnvf"><h2 class="setup-title svelte-najnvf" data-svelte-h="svelte-dsj1se">連続チャレンジ設定</h2> <p class="setup-description svelte-najnvf" data-svelte-h="svelte-nfowvv">連続でトレーニングを実行し、総合的な相対音感を評価します</p>  <div class="challenge-selector svelte-najnvf"><h3 class="selector-title svelte-najnvf" data-svelte-h="svelte-1lnuy10">チャレンジ回数</h3> <div class="challenge-options svelte-najnvf">${each(challengeOptions, (option) => {
            return `<button class="${"challenge-option " + escape(challengeCount === option ? "selected" : "", true) + " svelte-najnvf"}">${escape(option)}回
                  </button>`;
          })}</div></div> <div class="instructions svelte-najnvf"><div class="instruction-item svelte-najnvf"><span class="step-number svelte-najnvf" data-svelte-h="svelte-1gvrwis">1</span> <div><h3 class="svelte-najnvf" data-svelte-h="svelte-15671mq">連続実行</h3> <p class="svelte-najnvf">${escape(challengeCount)}回のトレーニングを連続で実行します</p></div></div> <div class="instruction-item svelte-najnvf" data-svelte-h="svelte-1tkaj9l"><span class="step-number svelte-najnvf">2</span> <div><h3 class="svelte-najnvf">自動進行</h3> <p class="svelte-najnvf">各チャレンジ完了後、自動的に次のチャレンジが開始されます</p></div></div> <div class="instruction-item svelte-najnvf" data-svelte-h="svelte-jeztwj"><span class="step-number svelte-najnvf">3</span> <div><h3 class="svelte-najnvf">総合評価</h3> <p class="svelte-najnvf">全チャレンジ完了後、詳細な成績分析を表示します</p></div></div></div> ${validate_component(Button, "Button").$$render(
            $$result,
            {
              variant: "warning",
              size: "lg",
              fullWidth: true
            },
            {},
            {
              default: () => {
                return `連続チャレンジ開始`;
              }
            }
          )}</div>`;
        }
      })}</div>`}</div>`;
    }
  })}`;
});
export {
  Page as default
};
